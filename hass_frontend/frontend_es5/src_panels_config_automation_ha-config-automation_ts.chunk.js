"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_config_automation_ha-config-automation_ts"],{

/***/ "./src/panels/config/automation/blueprint-automation-editor.ts":
/*!*********************************************************************!*\
  !*** ./src/panels/config/automation/blueprint-automation-editor.ts ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HaBlueprintAutomationEditor\": function() { return /* binding */ HaBlueprintAutomationEditor; }\n/* harmony export */ });\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _components_entity_ha_entity_toggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/entity/ha-entity-toggle */ \"./src/components/entity/ha-entity-toggle.ts\");\n/* harmony import */ var _components_ha_blueprint_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/ha-blueprint-picker */ \"./src/components/ha-blueprint-picker.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_markdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ha-markdown */ \"./src/components/ha-markdown.ts\");\n/* harmony import */ var _components_ha_selector_ha_selector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ha-selector/ha-selector */ \"./src/components/ha-selector/ha-selector.ts\");\n/* harmony import */ var _components_ha_settings_row__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-settings-row */ \"./src/components/ha-settings-row.ts\");\n/* harmony import */ var _components_ha_textfield__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-textfield */ \"./src/components/ha-textfield.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _data_blueprint__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../data/blueprint */ \"./src/data/blueprint.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaBlueprintAutomationEditor = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"blueprint-automation-editor\")], function (_initialize, _LitElement) {\n  var HaBlueprintAutomationEditor = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaBlueprintAutomationEditor, _LitElement2);\n\n    var _super = _createSuper(HaBlueprintAutomationEditor);\n\n    function HaBlueprintAutomationEditor() {\n      var _this;\n\n      _classCallCheck(this, HaBlueprintAutomationEditor);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return HaBlueprintAutomationEditor;\n  }(_LitElement);\n\n  return {\n    F: HaBlueprintAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_blueprints\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_showDescription\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(HaBlueprintAutomationEditor.prototype), \"firstUpdated\", this).call(this, changedProps);\n\n        this._getBlueprints();\n      }\n    }, {\n      kind: \"get\",\n      key: \"_blueprint\",\n      value: function _blueprint() {\n        if (!this._blueprints) {\n          return undefined;\n        }\n\n        return this._blueprints[this.config.use_blueprint.path];\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(HaBlueprintAutomationEditor.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (!this._showDescription && changedProps.has(\"config\") && this.config.description) {\n          this._showDescription = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _blueprint$metadata,\n            _this2 = this;\n\n        var blueprint = this._blueprint;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-config-section vertical .isWide=\", \">\\n        \", \"\\n        <span slot=\\\"introduction\\\">\\n          \", \"\\n        </span>\\n        <ha-card outlined>\\n          <div class=\\\"card-content\\\">\\n            <ha-textfield\\n              .label=\", \"\\n              name=\\\"alias\\\"\\n              .value=\", \"\\n              @change=\", \"\\n            >\\n            </ha-textfield>\\n            \", \"\\n          </div>\\n          \", \"\\n        </ha-card>\\n      </ha-config-section>\\n\\n      <ha-card\\n        outlined\\n        class=\\\"blueprint\\\"\\n        .header=\", \"\\n      >\\n        <div class=\\\"blueprint-picker-container\\\">\\n          \", \"\\n        </div>\\n\\n        \", \"\\n      </ha-card>\\n    \"])), this.isWide, !this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <span slot=\\\"header\\\">\", \"</span> \"])), this.config.alias) : \"\", this.hass.localize(\"ui.panel.config.automation.editor.introduction\"), this.hass.localize(\"ui.panel.config.automation.editor.alias\"), this.config.alias || \"\", this._valueChanged, this._showDescription ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n                  <ha-textarea\\n                    .label=\", \"\\n                    .placeholder=\", \"\\n                    name=\\\"description\\\"\\n                    autogrow\\n                    .value=\", \"\\n                    @change=\", \"\\n                  ></ha-textarea>\\n                \"])), this.hass.localize(\"ui.panel.config.automation.editor.description.label\"), this.hass.localize(\"ui.panel.config.automation.editor.description.placeholder\"), this.config.description || \"\", this._valueChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                  <div class=\\\"link-button-row\\\">\\n                    <button class=\\\"link\\\" @click=\", \">\\n                      \", \"\\n                    </button>\\n                  </div>\\n                \"])), this._addDescription, this.hass.localize(\"ui.panel.config.automation.editor.description.add\")), this.stateObj ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                <div class=\\\"card-actions layout horizontal justified center\\\">\\n                  <div class=\\\"layout horizontal center\\\">\\n                    <ha-entity-toggle\\n                      .hass=\", \"\\n                      .stateObj=\", \"\\n                    ></ha-entity-toggle>\\n                    \", \"\\n                  </div>\\n                  <div>\\n                    <a href=\\\"/config/automation/trace/\", \"\\\">\\n                      <mwc-button>\\n                        \", \"\\n                      </mwc-button>\\n                    </a>\\n                    <mwc-button\\n                      @click=\", \"\\n                      .stateObj=\", \"\\n                    >\\n                      \", \"\\n                    </mwc-button>\\n                  </div>\\n                </div>\\n              \"])), this.hass, this.stateObj, this.hass.localize(\"ui.panel.config.automation.editor.enable_disable\"), this.config.id, this.hass.localize(\"ui.panel.config.automation.editor.show_trace\"), this._runActions, this.stateObj, this.hass.localize(\"ui.card.automation.trigger\")) : \"\", this.hass.localize(\"ui.panel.config.automation.editor.blueprint.header\"), this._blueprints ? Object.keys(this._blueprints).length ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                  <ha-blueprint-picker\\n                    .hass=\", \"\\n                    .label=\", \"\\n                    .blueprints=\", \"\\n                    .value=\", \"\\n                    @value-changed=\", \"\\n                  ></ha-blueprint-picker>\\n                \"])), this.hass, this.hass.localize(\"ui.panel.config.automation.editor.blueprint.blueprint_to_use\"), this._blueprints, this.config.use_blueprint.path, this._blueprintChanged) : this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_blueprints\") : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<ha-circular-progress active></ha-circular-progress>\"]))), this.config.use_blueprint.path ? blueprint && \"error\" in blueprint ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"<p class=\\\"warning padding\\\">\\n                There is an error in this Blueprint: \", \"\\n              </p>\"])), blueprint.error) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\", \"\\n              \", \"\"])), blueprint !== null && blueprint !== void 0 && blueprint.metadata.description ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"<ha-markdown\\n                    class=\\\"card-content\\\"\\n                    breaks\\n                    .content=\", \"\\n                  ></ha-markdown>\"])), blueprint.metadata.description) : \"\", blueprint !== null && blueprint !== void 0 && (_blueprint$metadata = blueprint.metadata) !== null && _blueprint$metadata !== void 0 && _blueprint$metadata.input && Object.keys(blueprint.metadata.input).length ? Object.entries(blueprint.metadata.input).map(function (_ref) {\n          var _ref3, _ref4;\n\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"<ha-settings-row .narrow=\", \">\\n                        <span slot=\\\"heading\\\">\", \"</span>\\n                        <ha-markdown\\n                          slot=\\\"description\\\"\\n                          class=\\\"card-content\\\"\\n                          breaks\\n                          .content=\", \"\\n                        ></ha-markdown>\\n                        \", \"\\n                      </ha-settings-row>\"])), _this2.narrow, (value === null || value === void 0 ? void 0 : value.name) || key, value === null || value === void 0 ? void 0 : value.description, value !== null && value !== void 0 && value.selector ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"<ha-selector\\n                              .hass=\", \"\\n                              .selector=\", \"\\n                              .key=\", \"\\n                              .value=\", \"\\n                              @value-changed=\", \"\\n                            ></ha-selector>\"])), _this2.hass, value.selector, key, (_ref3 = _this2.config.use_blueprint.input && _this2.config.use_blueprint.input[key]) !== null && _ref3 !== void 0 ? _ref3 : value === null || value === void 0 ? void 0 : value[\"default\"], _this2._inputChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"<ha-textfield\\n                              .key=\", \"\\n                              required\\n                              .value=\", \"\\n                              @input=\", \"\\n                            ></ha-textfield>\"])), key, (_ref4 = _this2.config.use_blueprint.input && _this2.config.use_blueprint.input[key]) !== null && _ref4 !== void 0 ? _ref4 : value === null || value === void 0 ? void 0 : value[\"default\"], _this2._inputChanged));\n        }) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"<p class=\\\"padding\\\">\\n                    \", \"\\n                  </p>\"])), this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_inputs\"))) : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getBlueprints\",\n      value: function () {\n        var _getBlueprints2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return (0,_data_blueprint__WEBPACK_IMPORTED_MODULE_13__.fetchBlueprints)(this.hass, \"automation\");\n\n                case 2:\n                  this._blueprints = _context.sent;\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function _getBlueprints() {\n          return _getBlueprints2.apply(this, arguments);\n        }\n\n        return _getBlueprints;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_runActions\",\n      value: function _runActions(ev) {\n        (0,_data_automation__WEBPACK_IMPORTED_MODULE_12__.triggerAutomationActions)(this.hass, ev.target.stateObj.entity_id);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_blueprintChanged\",\n      value: function _blueprintChanged(ev) {\n        ev.stopPropagation();\n\n        if (this.config.use_blueprint.path === ev.detail.value) {\n          return;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, {\n            use_blueprint: {\n              path: ev.detail.value\n            }\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_inputChanged\",\n      value: function _inputChanged(ev) {\n        var _ev$detail;\n\n        ev.stopPropagation();\n        var target = ev.target;\n        var key = target.key;\n        var value = ((_ev$detail = ev.detail) === null || _ev$detail === void 0 ? void 0 : _ev$detail.value) || target.value;\n\n        if (this.config.use_blueprint.input && this.config.use_blueprint.input[key] === value || !this.config.use_blueprint.input && value === \"\") {\n          return;\n        }\n\n        var input = Object.assign({}, this.config.use_blueprint.input, _defineProperty({}, key, value));\n\n        if (value === \"\" || value === undefined) {\n          delete input[key];\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, {\n            use_blueprint: Object.assign({}, this.config.use_blueprint, {\n              input: input\n            })\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        ev.stopPropagation();\n        var target = ev.target;\n        var name = target.name;\n\n        if (!name) {\n          return;\n        }\n\n        var newVal = target.value;\n\n        if ((this.config[name] || \"\") === newVal) {\n          return;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, _defineProperty({}, name, newVal))\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addDescription\",\n      value: function _addDescription() {\n        this._showDescription = true;\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_14__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n        ha-card.blueprint {\\n          max-width: 1040px;\\n          margin: 24px auto;\\n        }\\n        .padding {\\n          padding: 16px;\\n        }\\n        .link-button-row {\\n          padding: 14px;\\n        }\\n        .blueprint-picker-container {\\n          padding: 0 16px 16px;\\n        }\\n        ha-textarea,\\n        ha-textfield,\\n        ha-blueprint-picker {\\n          display: block;\\n        }\\n        h3 {\\n          margin: 16px;\\n        }\\n        span[slot=\\\"introduction\\\"] a {\\n          color: var(--primary-color);\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        ha-entity-toggle {\\n          margin-right: 8px;\\n        }\\n        ha-settings-row {\\n          --paper-time-input-justify-content: flex-end;\\n          --settings-row-content-width: 100%;\\n          --settings-row-prefix-display: contents;\\n          border-top: 1px solid var(--divider-color);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2JsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBRUE7QUFHQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdCQTs7QUFDQTtBQUNBO0FBbEJBO0FBQUE7QUFBQTtBQUFBO0FBcUJBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBekJBO0FBQUE7QUFBQTtBQUFBO0FBNEJBOztBQUNBO0FBS0E7QUFDQTtBQUNBO0FBcENBO0FBQUE7QUFBQTtBQUFBO0FBc0NBO0FBQUE7O0FBQ0E7QUFDQTtBQXlIQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQXFDQTtBQXRNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBd01BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNBOztBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQXhNQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNk1BO0FBQ0E7QUE5TUE7QUFBQTtBQUFBO0FBQUE7QUFpTkE7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFGQTtBQURBO0FBUUE7QUE3TkE7QUFBQTtBQUFBO0FBQUE7QUErTkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFLQTtBQUNBOztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUZBO0FBRkE7QUFEQTtBQVNBO0FBMVBBO0FBQUE7QUFBQTtBQUFBO0FBNlBBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBMVFBO0FBQUE7QUFBQTtBQUFBO0FBNlFBO0FBQ0E7QUE5UUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWlSQTtBQXlDQTtBQTFUQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vYmx1ZXByaW50LWF1dG9tYXRpb24tZWRpdG9yLnRzP2I0OTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1idXR0b24vbXdjLWJ1dHRvblwiO1xuaW1wb3J0IHsgSGFzc0VudGl0eSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IGNzcywgQ1NTUmVzdWx0R3JvdXAsIGh0bWwsIExpdEVsZW1lbnQsIFByb3BlcnR5VmFsdWVzIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2VudGl0eS9oYS1lbnRpdHktdG9nZ2xlXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWJsdWVwcmludC1waWNrZXJcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzc1wiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1tYXJrZG93blwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1zZWxlY3Rvci9oYS1zZWxlY3RvclwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1zZXR0aW5ncy1yb3dcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtdGV4dGZpZWxkXCI7XG5pbXBvcnQge1xuICBCbHVlcHJpbnRBdXRvbWF0aW9uQ29uZmlnLFxuICB0cmlnZ2VyQXV0b21hdGlvbkFjdGlvbnMsXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcbmltcG9ydCB7XG4gIEJsdWVwcmludE9yRXJyb3IsXG4gIEJsdWVwcmludHMsXG4gIGZldGNoQmx1ZXByaW50cyxcbn0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYmx1ZXByaW50XCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4uL2hhLWNvbmZpZy1zZWN0aW9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiYmx1ZXByaW50LWF1dG9tYXRpb24tZWRpdG9yXCIpXG5leHBvcnQgY2xhc3MgSGFCbHVlcHJpbnRBdXRvbWF0aW9uRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBpc1dpZGUhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGNvbmZpZyE6IEJsdWVwcmludEF1dG9tYXRpb25Db25maWc7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHN0YXRlT2JqPzogSGFzc0VudGl0eTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9ibHVlcHJpbnRzPzogQmx1ZXByaW50cztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9zaG93RGVzY3JpcHRpb24gPSBmYWxzZTtcblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcykge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuICAgIHRoaXMuX2dldEJsdWVwcmludHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9ibHVlcHJpbnQoKTogQmx1ZXByaW50T3JFcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCF0aGlzLl9ibHVlcHJpbnRzKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYmx1ZXByaW50c1t0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGhdO1xuICB9XG5cbiAgcHJvdGVjdGVkIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLndpbGxVcGRhdGUoY2hhbmdlZFByb3BzKTtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5fc2hvd0Rlc2NyaXB0aW9uICYmXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiY29uZmlnXCIpICYmXG4gICAgICB0aGlzLmNvbmZpZy5kZXNjcmlwdGlvblxuICAgICkge1xuICAgICAgdGhpcy5fc2hvd0Rlc2NyaXB0aW9uID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGNvbnN0IGJsdWVwcmludCA9IHRoaXMuX2JsdWVwcmludDtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jb25maWctc2VjdGlvbiB2ZXJ0aWNhbCAuaXNXaWRlPSR7dGhpcy5pc1dpZGV9PlxuICAgICAgICAkeyF0aGlzLm5hcnJvd1xuICAgICAgICAgID8gaHRtbGAgPHNwYW4gc2xvdD1cImhlYWRlclwiPiR7dGhpcy5jb25maWcuYWxpYXN9PC9zcGFuPiBgXG4gICAgICAgICAgOiBcIlwifVxuICAgICAgICA8c3BhbiBzbG90PVwiaW50cm9kdWN0aW9uXCI+XG4gICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5pbnRyb2R1Y3Rpb25cIlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGhhLWNhcmQgb3V0bGluZWQ+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgPGhhLXRleHRmaWVsZFxuICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYWxpYXNcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBuYW1lPVwiYWxpYXNcIlxuICAgICAgICAgICAgICAudmFsdWU9JHt0aGlzLmNvbmZpZy5hbGlhcyB8fCBcIlwifVxuICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5fdmFsdWVDaGFuZ2VkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9oYS10ZXh0ZmllbGQ+XG4gICAgICAgICAgICAke3RoaXMuX3Nob3dEZXNjcmlwdGlvblxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8aGEtdGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRlc2NyaXB0aW9uLmxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgLnBsYWNlaG9sZGVyPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRlc2NyaXB0aW9uLnBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2dyb3dcbiAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7dGhpcy5jb25maWcuZGVzY3JpcHRpb24gfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgQGNoYW5nZT0ke3RoaXMuX3ZhbHVlQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgID48L2hhLXRleHRhcmVhPlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibGlua1wiIEBjbGljaz0ke3RoaXMuX2FkZERlc2NyaXB0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRlc2NyaXB0aW9uLmFkZFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICR7dGhpcy5zdGF0ZU9ialxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWFjdGlvbnMgbGF5b3V0IGhvcml6b250YWwganVzdGlmaWVkIGNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dCBob3Jpem9udGFsIGNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aGEtZW50aXR5LXRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke3RoaXMuc3RhdGVPYmohfVxuICAgICAgICAgICAgICAgICAgICA+PC9oYS1lbnRpdHktdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5lbmFibGVfZGlzYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvY29uZmlnL2F1dG9tYXRpb24vdHJhY2UvJHt0aGlzLmNvbmZpZy5pZH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5zaG93X3RyYWNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxtd2MtYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fcnVuQWN0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHt0aGlzLnN0YXRlT2JqfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24udHJpZ2dlclwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgPC9oYS1jYXJkPlxuICAgICAgPC9oYS1jb25maWctc2VjdGlvbj5cblxuICAgICAgPGhhLWNhcmRcbiAgICAgICAgb3V0bGluZWRcbiAgICAgICAgY2xhc3M9XCJibHVlcHJpbnRcIlxuICAgICAgICAuaGVhZGVyPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmJsdWVwcmludC5oZWFkZXJcIlxuICAgICAgICApfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmx1ZXByaW50LXBpY2tlci1jb250YWluZXJcIj5cbiAgICAgICAgICAke3RoaXMuX2JsdWVwcmludHNcbiAgICAgICAgICAgID8gT2JqZWN0LmtleXModGhpcy5fYmx1ZXByaW50cykubGVuZ3RoXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxoYS1ibHVlcHJpbnQtcGlja2VyXG4gICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYmx1ZXByaW50LmJsdWVwcmludF90b191c2VcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAuYmx1ZXByaW50cz0ke3RoaXMuX2JsdWVwcmludHN9XG4gICAgICAgICAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl9ibHVlcHJpbnRDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgPjwvaGEtYmx1ZXByaW50LXBpY2tlcj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYmx1ZXByaW50Lm5vX2JsdWVwcmludHNcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogaHRtbGA8aGEtY2lyY3VsYXItcHJvZ3Jlc3MgYWN0aXZlPjwvaGEtY2lyY3VsYXItcHJvZ3Jlc3M+YH1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgJHt0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGhcbiAgICAgICAgICA/IGJsdWVwcmludCAmJiBcImVycm9yXCIgaW4gYmx1ZXByaW50XG4gICAgICAgICAgICA/IGh0bWxgPHAgY2xhc3M9XCJ3YXJuaW5nIHBhZGRpbmdcIj5cbiAgICAgICAgICAgICAgICBUaGVyZSBpcyBhbiBlcnJvciBpbiB0aGlzIEJsdWVwcmludDogJHtibHVlcHJpbnQuZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5gXG4gICAgICAgICAgICA6IGh0bWxgJHtibHVlcHJpbnQ/Lm1ldGFkYXRhLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgPyBodG1sYDxoYS1tYXJrZG93blxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcmQtY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrc1xuICAgICAgICAgICAgICAgICAgICAuY29udGVudD0ke2JsdWVwcmludC5tZXRhZGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgID48L2hhLW1hcmtkb3duPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7Ymx1ZXByaW50Py5tZXRhZGF0YT8uaW5wdXQgJiZcbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYmx1ZXByaW50Lm1ldGFkYXRhLmlucHV0KS5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKGJsdWVwcmludC5tZXRhZGF0YS5pbnB1dCkubWFwKFxuICAgICAgICAgICAgICAgICAgICAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIGh0bWxgPGhhLXNldHRpbmdzLXJvdyAubmFycm93PSR7dGhpcy5uYXJyb3d9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRpbmdcIj4ke3ZhbHVlPy5uYW1lIHx8IGtleX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aGEtbWFya2Rvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdD1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQ9JHt2YWx1ZT8uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1tYXJrZG93bj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dmFsdWU/LnNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8aGEtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdG9yPSR7dmFsdWUuc2VsZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAua2V5PSR7a2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7KHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dFtrZXldKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU/LmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2lucHV0Q2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zZWxlY3Rvcj5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogaHRtbGA8aGEtdGV4dGZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAua2V5PSR7a2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZT0keyh0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXRba2V5XSkgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PSR7dGhpcy5faW5wdXRDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2hhLXRleHRmaWVsZD5gfVxuICAgICAgICAgICAgICAgICAgICAgIDwvaGEtc2V0dGluZ3Mtcm93PmBcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGh0bWxgPHAgY2xhc3M9XCJwYWRkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmJsdWVwcmludC5ub19pbnB1dHNcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9wPmB9YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgIDwvaGEtY2FyZD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0Qmx1ZXByaW50cygpIHtcbiAgICB0aGlzLl9ibHVlcHJpbnRzID0gYXdhaXQgZmV0Y2hCbHVlcHJpbnRzKHRoaXMuaGFzcywgXCJhdXRvbWF0aW9uXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcnVuQWN0aW9ucyhldjogRXZlbnQpIHtcbiAgICB0cmlnZ2VyQXV0b21hdGlvbkFjdGlvbnModGhpcy5oYXNzLCAoZXYudGFyZ2V0IGFzIGFueSkuc3RhdGVPYmouZW50aXR5X2lkKTtcbiAgfVxuXG4gIHByaXZhdGUgX2JsdWVwcmludENoYW5nZWQoZXYpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5jb25maWcudXNlX2JsdWVwcmludC5wYXRoID09PSBldi5kZXRhaWwudmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICAuLi50aGlzLmNvbmZpZyEsXG4gICAgICAgIHVzZV9ibHVlcHJpbnQ6IHtcbiAgICAgICAgICBwYXRoOiBldi5kZXRhaWwudmFsdWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfaW5wdXRDaGFuZ2VkKGV2KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIGFueTtcbiAgICBjb25zdCBrZXkgPSB0YXJnZXQua2V5O1xuICAgIGNvbnN0IHZhbHVlID0gZXYuZGV0YWlsPy52YWx1ZSB8fCB0YXJnZXQudmFsdWU7XG4gICAgaWYgKFxuICAgICAgKHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXQgJiZcbiAgICAgICAgdGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dFtrZXldID09PSB2YWx1ZSkgfHxcbiAgICAgICghdGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dCAmJiB2YWx1ZSA9PT0gXCJcIilcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSB7IC4uLnRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXQsIFtrZXldOiB2YWx1ZSB9O1xuXG4gICAgaWYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSBpbnB1dFtrZXldO1xuICAgIH1cblxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLi4udGhpcy5jb25maWchLFxuICAgICAgICB1c2VfYmx1ZXByaW50OiB7XG4gICAgICAgICAgLi4udGhpcy5jb25maWcudXNlX2JsdWVwcmludCxcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF92YWx1ZUNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIGFueTtcbiAgICBjb25zdCBuYW1lID0gdGFyZ2V0Lm5hbWU7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5ld1ZhbCA9IHRhcmdldC52YWx1ZTtcbiAgICBpZiAoKHRoaXMuY29uZmlnIVtuYW1lXSB8fCBcIlwiKSA9PT0gbmV3VmFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHsgLi4udGhpcy5jb25maWchLCBbbmFtZV06IG5ld1ZhbCB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWRkRGVzY3JpcHRpb24oKSB7XG4gICAgdGhpcy5fc2hvd0Rlc2NyaXB0aW9uID0gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgaGEtY2FyZC5ibHVlcHJpbnQge1xuICAgICAgICAgIG1heC13aWR0aDogMTA0MHB4O1xuICAgICAgICAgIG1hcmdpbjogMjRweCBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC5wYWRkaW5nIHtcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5saW5rLWJ1dHRvbi1yb3cge1xuICAgICAgICAgIHBhZGRpbmc6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmJsdWVwcmludC1waWNrZXItY29udGFpbmVyIHtcbiAgICAgICAgICBwYWRkaW5nOiAwIDE2cHggMTZweDtcbiAgICAgICAgfVxuICAgICAgICBoYS10ZXh0YXJlYSxcbiAgICAgICAgaGEtdGV4dGZpZWxkLFxuICAgICAgICBoYS1ibHVlcHJpbnQtcGlja2VyIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoMyB7XG4gICAgICAgICAgbWFyZ2luOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIHNwYW5bc2xvdD1cImludHJvZHVjdGlvblwiXSBhIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgcCB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICBoYS1lbnRpdHktdG9nZ2xlIHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgICAgfVxuICAgICAgICBoYS1zZXR0aW5ncy1yb3cge1xuICAgICAgICAgIC0tcGFwZXItdGltZS1pbnB1dC1qdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgIC0tc2V0dGluZ3Mtcm93LWNvbnRlbnQtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgLS1zZXR0aW5ncy1yb3ctcHJlZml4LWRpc3BsYXk6IGNvbnRlbnRzO1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3JcIjogSGFCbHVlcHJpbnRBdXRvbWF0aW9uRWRpdG9yO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/blueprint-automation-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-automation-editor.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-automation-editor.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HaAutomationEditor\": function() { return /* binding */ HaAutomationEditor; }\n/* harmony export */ });\n/* harmony import */ var _material_mwc_list_mwc_list_item__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-list/mwc-list-item */ \"./node_modules/@material/mwc-list/mwc-list-item.js\");\n/* harmony import */ var _polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/app-layout/app-header/app-header */ \"./node_modules/@polymer/app-layout/app-header/app-header.js\");\n/* harmony import */ var _polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/app-layout/app-toolbar/app-toolbar */ \"./node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _common_util_copy_clipboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/util/copy-clipboard */ \"./src/common/util/copy-clipboard.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _components_ha_yaml_editor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ha-yaml-editor */ \"./src/components/ha-yaml-editor.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_ha_app_layout__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layouts/ha-app-layout */ \"./src/layouts/ha-app-layout.js\");\n/* harmony import */ var _layouts_hass_tabs_subpage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layouts/hass-tabs-subpage */ \"./src/layouts/hass-tabs-subpage.ts\");\n/* harmony import */ var _mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../mixins/keyboard-shortcut-mixin */ \"./src/mixins/keyboard-shortcut-mixin.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_toast__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../util/toast */ \"./src/util/toast.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\n/* harmony import */ var _ha_panel_config__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ha-panel-config */ \"./src/panels/config/ha-panel-config.ts\");\n/* harmony import */ var _action_types_ha_automation_action_device_id__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./action/types/ha-automation-action-device_id */ \"./src/panels/config/automation/action/types/ha-automation-action-device_id.ts\");\n/* harmony import */ var _blueprint_automation_editor__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./blueprint-automation-editor */ \"./src/panels/config/automation/blueprint-automation-editor.ts\");\n/* harmony import */ var _manual_automation_editor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./manual-automation-editor */ \"./src/panels/config/automation/manual-automation-editor.ts\");\n/* harmony import */ var _trigger_types_ha_automation_trigger_device__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./trigger/types/ha-automation-trigger-device */ \"./src/panels/config/automation/trigger/types/ha-automation-trigger-device.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nvar mdiCheck = \"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\";\nvar mdiContentDuplicate = \"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z\";\nvar mdiContentSave = \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\";\nvar mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nvar mdiDotsVertical = \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaAutomationEditor = _decorate(null, function (_initialize, _KeyboardShortcutMixi) {\n  var HaAutomationEditor = /*#__PURE__*/function (_KeyboardShortcutMixi2) {\n    _inherits(HaAutomationEditor, _KeyboardShortcutMixi2);\n\n    var _super = _createSuper(HaAutomationEditor);\n\n    function HaAutomationEditor() {\n      var _this;\n\n      _classCallCheck(this, HaAutomationEditor);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return HaAutomationEditor;\n  }(_KeyboardShortcutMixi);\n\n  return {\n    F: HaAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"automationId\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"automations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_dirty\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_errors\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_mode\",\n      value: function value() {\n        return \"gui\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"ha-yaml-editor\", true)],\n      key: \"_editor\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_configSubscriptions\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      key: \"_configSubscriptionsId\",\n      value: function value() {\n        return 1;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_config;\n\n        var stateObj = this._entityId ? this.hass.states[this._entityId] : undefined;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <hass-tabs-subpage\\n        .hass=\", \"\\n        .narrow=\", \"\\n        .route=\", \"\\n        .backCallback=\", \"\\n        .tabs=\", \"\\n      >\\n        <ha-button-menu\\n          corner=\\\"BOTTOM_START\\\"\\n          slot=\\\"toolbar-icon\\\"\\n          @action=\", \"\\n          activatable\\n        >\\n          <ha-icon-button\\n            slot=\\\"trigger\\\"\\n            .label=\", \"\\n            .path=\", \"\\n          ></ha-icon-button>\\n\\n          <mwc-list-item\\n            aria-label=\", \"\\n            graphic=\\\"icon\\\"\\n            ?activated=\", \"\\n          >\\n            \", \"\\n            \", \"\\n          </mwc-list-item>\\n          <mwc-list-item\\n            aria-label=\", \"\\n            graphic=\\\"icon\\\"\\n            ?activated=\", \"\\n          >\\n            \", \"\\n            \", \"\\n          </mwc-list-item>\\n\\n          <li divider role=\\\"separator\\\"></li>\\n\\n          <mwc-list-item\\n            .disabled=\", \"\\n            aria-label=\", \"\\n            graphic=\\\"icon\\\"\\n          >\\n            \", \"\\n            <ha-svg-icon\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n\\n          <mwc-list-item\\n            .disabled=\", \"\\n            aria-label=\", \"\\n            class=\", \"\\n            graphic=\\\"icon\\\"\\n          >\\n            \", \"\\n            <ha-svg-icon\\n              class=\", \"\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            >\\n            </ha-svg-icon>\\n          </mwc-list-item>\\n        </ha-button-menu>\\n\\n        \", \"\\n        <ha-fab\\n          slot=\\\"fab\\\"\\n          class=\", \"\\n          .label=\", \"\\n          extended\\n          @click=\", \"\\n        >\\n          <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n        </ha-fab>\\n      </hass-tabs-subpage>\\n    \"])), this.hass, this.narrow, this.route, this._backTapped, _ha_panel_config__WEBPACK_IMPORTED_MODULE_22__.configSections.automations, this._handleMenuAction, this.hass.localize(\"ui.common.menu\"), mdiDotsVertical, this.hass.localize(\"ui.panel.config.automation.editor.edit_ui\"), this._mode === \"gui\", this.hass.localize(\"ui.panel.config.automation.editor.edit_ui\"), this._mode === \"gui\" ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-svg-icon\\n                  class=\\\"selected_menu_item\\\"\\n                  slot=\\\"graphic\\\"\\n                  .path=\", \"\\n                ></ha-svg-icon>\"])), mdiCheck) : \"\", this.hass.localize(\"ui.panel.config.automation.editor.edit_yaml\"), this._mode === \"yaml\", this.hass.localize(\"ui.panel.config.automation.editor.edit_yaml\"), this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<ha-svg-icon\\n                  class=\\\"selected_menu_item\\\"\\n                  slot=\\\"graphic\\\"\\n                  .path=\", \"\\n                ></ha-svg-icon>\"])), mdiCheck) : \"\", !this.automationId, this.hass.localize(\"ui.panel.config.automation.picker.duplicate_automation\"), this.hass.localize(\"ui.panel.config.automation.picker.duplicate_automation\"), mdiContentDuplicate, !this.automationId, this.hass.localize(\"ui.panel.config.automation.picker.delete_automation\"), (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          warning: Boolean(this.automationId)\n        }), this.hass.localize(\"ui.panel.config.automation.picker.delete_automation\"), (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          warning: Boolean(this.automationId)\n        }), mdiDelete, this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n              \", \"\\n              <div\\n                class=\\\"content \", \"\\\"\\n                @subscribe-automation-config=\", \"\\n              >\\n                \", \"\\n                \", \"\\n              </div>\\n            \"])), this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<span slot=\\\"header\\\">\", \"</span>\"])), (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.alias) : \"\", (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          \"yaml-mode\": this._mode === \"yaml\"\n        }), this._subscribeAutomationConfig, this._errors ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"<div class=\\\"errors\\\">\", \"</div>\"])), this._errors) : \"\", this._mode === \"gui\" ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n                      \", \"\\n                    \"])), \"use_blueprint\" in this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n                            <blueprint-automation-editor\\n                              .hass=\", \"\\n                              .narrow=\", \"\\n                              .isWide=\", \"\\n                              .stateObj=\", \"\\n                              .config=\", \"\\n                              @value-changed=\", \"\\n                            ></blueprint-automation-editor>\\n                          \"])), this.hass, this.narrow, this.isWide, stateObj, this._config, this._valueChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n                            <manual-automation-editor\\n                              .hass=\", \"\\n                              .narrow=\", \"\\n                              .isWide=\", \"\\n                              .stateObj=\", \"\\n                              .config=\", \"\\n                              @value-changed=\", \"\\n                            ></manual-automation-editor>\\n                          \"])), this.hass, this.narrow, this.isWide, stateObj, this._config, this._valueChanged)) : this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n                      \", \"\\n                      <ha-yaml-editor\\n                        .hass=\", \"\\n                        .defaultValue=\", \"\\n                        @value-changed=\", \"\\n                      ></ha-yaml-editor>\\n                      <ha-card outlined>\\n                        <div class=\\\"card-actions\\\">\\n                          <mwc-button @click=\", \">\\n                            \", \"\\n                          </mwc-button>\\n                        </div>\\n                      </ha-card>\\n                    \"])), !this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n                            <ha-card outlined>\\n                              <div class=\\\"card-header\\\">\\n                                \", \"\\n                              </div>\\n                              \", \"\\n                            </ha-card>\\n                          \"])), this._config.alias, stateObj ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n                                    <div\\n                                      class=\\\"card-actions layout horizontal justified center\\\"\\n                                    >\\n                                      <ha-entity-toggle\\n                                        .hass=\", \"\\n                                        .stateObj=\", \"\\n                                        .label=\", \"\\n                                      ></ha-entity-toggle>\\n\\n                                      <mwc-button\\n                                        @click=\", \"\\n                                        .stateObj=\", \"\\n                                      >\\n                                        \", \"\\n                                      </mwc-button>\\n                                    </div>\\n                                  \"])), this.hass, stateObj, this.hass.localize(\"ui.panel.config.automation.editor.enable_disable\"), this._runActions, stateObj, this.hass.localize(\"ui.card.automation.trigger\")) : \"\") : \"\", this.hass, this._preprocessYaml(), this._yamlChanged, this._copyYaml, this.hass.localize(\"ui.panel.config.automation.editor.copy_to_clipboard\")) : \"\") : \"\", (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          dirty: this._dirty\n        }), this.hass.localize(\"ui.panel.config.automation.editor.save\"), this._saveAutomation, mdiContentSave);\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        var _this2 = this;\n\n        _get(_getPrototypeOf(HaAutomationEditor.prototype), \"updated\", this).call(this, changedProps);\n\n        var oldAutomationId = changedProps.get(\"automationId\");\n\n        if (changedProps.has(\"automationId\") && this.automationId && this.hass && // Only refresh config if we picked a new automation. If same ID, don't fetch it.\n        oldAutomationId !== this.automationId) {\n          this._setEntityId();\n\n          this._loadConfig();\n        }\n\n        if (changedProps.has(\"automationId\") && !this.automationId && this.hass) {\n          var initData = (0,_data_automation__WEBPACK_IMPORTED_MODULE_14__.getAutomationEditorInitData)();\n          var baseConfig = {\n            alias: this.hass.localize(\"ui.panel.config.automation.editor.default_name\"),\n            description: \"\"\n          };\n\n          if (!initData || !(\"use_blueprint\" in initData)) {\n            baseConfig = Object.assign({}, baseConfig, {\n              mode: \"single\",\n              trigger: [Object.assign({\n                platform: \"device\"\n              }, _trigger_types_ha_automation_trigger_device__WEBPACK_IMPORTED_MODULE_26__.HaDeviceTrigger.defaultConfig)],\n              condition: [],\n              action: [Object.assign({}, _action_types_ha_automation_action_device_id__WEBPACK_IMPORTED_MODULE_23__.HaDeviceAction.defaultConfig)]\n            });\n          }\n\n          this._config = Object.assign({}, baseConfig, initData);\n          this._entityId = undefined;\n        }\n\n        if (changedProps.has(\"automations\") && this.automationId && !this._entityId) {\n          this._setEntityId();\n        }\n\n        if (changedProps.has(\"_config\")) {\n          Object.values(this._configSubscriptions).forEach(function (sub) {\n            return sub(_this2._config);\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setEntityId\",\n      value: function _setEntityId() {\n        var _this3 = this;\n\n        var automation = this.automations.find(function (entity) {\n          return entity.attributes.id === _this3.automationId;\n        });\n        this._entityId = automation === null || automation === void 0 ? void 0 : automation.entity_id;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadConfig\",\n      value: function () {\n        var _loadConfig2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var _config, _i, _arr, key, value;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return (0,_data_automation__WEBPACK_IMPORTED_MODULE_14__.getAutomationConfig)(this.hass, this.automationId);\n\n                case 3:\n                  _config = _context.sent;\n\n                  // Normalize data: ensure trigger, action and condition are lists\n                  // Happens when people copy paste their automations into the config\n                  for (_i = 0, _arr = [\"trigger\", \"condition\", \"action\"]; _i < _arr.length; _i++) {\n                    key = _arr[_i];\n                    value = _config[key];\n\n                    if (value && !Array.isArray(value)) {\n                      _config[key] = [value];\n                    }\n                  }\n\n                  this._dirty = false;\n                  this._config = _config;\n                  _context.next = 12;\n                  break;\n\n                case 9:\n                  _context.prev = 9;\n                  _context.t0 = _context[\"catch\"](0);\n                  (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__.showAlertDialog)(this, {\n                    text: _context.t0.status_code === 404 ? this.hass.localize(\"ui.panel.config.automation.editor.load_error_not_editable\") : this.hass.localize(\"ui.panel.config.automation.editor.load_error_unknown\", \"err_no\", _context.t0.status_code)\n                  }).then(function () {\n                    return history.back();\n                  });\n\n                case 12:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[0, 9]]);\n        }));\n\n        function _loadConfig() {\n          return _loadConfig2.apply(this, arguments);\n        }\n\n        return _loadConfig;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        ev.stopPropagation();\n        this._config = ev.detail.value;\n        this._dirty = true;\n        this._errors = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_runActions\",\n      value: function _runActions(ev) {\n        (0,_data_automation__WEBPACK_IMPORTED_MODULE_14__.triggerAutomationActions)(this.hass, ev.target.stateObj.entity_id);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_preprocessYaml\",\n      value: function _preprocessYaml() {\n        var cleanConfig = this._config;\n\n        if (!cleanConfig) {\n          return {};\n        }\n\n        delete cleanConfig.id;\n        return cleanConfig;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_copyYaml\",\n      value: function () {\n        var _copyYaml2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n          var _this$_editor;\n\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!((_this$_editor = this._editor) !== null && _this$_editor !== void 0 && _this$_editor.yaml)) {\n                    _context2.next = 4;\n                    break;\n                  }\n\n                  _context2.next = 3;\n                  return (0,_common_util_copy_clipboard__WEBPACK_IMPORTED_MODULE_7__.copyToClipboard)(this._editor.yaml);\n\n                case 3:\n                  (0,_util_toast__WEBPACK_IMPORTED_MODULE_20__.showToast)(this, {\n                    message: this.hass.localize(\"ui.common.copied_clipboard\")\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function _copyYaml() {\n          return _copyYaml2.apply(this, arguments);\n        }\n\n        return _copyYaml;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_yamlChanged\",\n      value: function _yamlChanged(ev) {\n        ev.stopPropagation();\n\n        if (!ev.detail.isValid) {\n          return;\n        }\n\n        this._config = ev.detail.value;\n        this._errors = undefined;\n        this._dirty = true;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_backTapped\",\n      value: function value() {\n        var _this4 = this;\n\n        return function () {\n          if (_this4._dirty) {\n            (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__.showConfirmationDialog)(_this4, {\n              text: _this4.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm\"),\n              confirmText: _this4.hass.localize(\"ui.common.leave\"),\n              dismissText: _this4.hass.localize(\"ui.common.stay\"),\n              confirm: function confirm() {\n                setTimeout(function () {\n                  return history.back();\n                });\n              }\n            });\n          } else {\n            history.back();\n          }\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function () {\n        var _duplicate2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          var _this$_config2;\n\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!this._dirty) {\n                    _context3.next = 7;\n                    break;\n                  }\n\n                  _context3.next = 3;\n                  return (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__.showConfirmationDialog)(this, {\n                    text: this.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm\"),\n                    confirmText: this.hass.localize(\"ui.common.leave\"),\n                    dismissText: this.hass.localize(\"ui.common.stay\")\n                  });\n\n                case 3:\n                  if (_context3.sent) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\");\n\n                case 5:\n                  _context3.next = 7;\n                  return new Promise(function (resolve) {\n                    return setTimeout(resolve, 0);\n                  });\n\n                case 7:\n                  (0,_data_automation__WEBPACK_IMPORTED_MODULE_14__.showAutomationEditor)(Object.assign({}, this._config, {\n                    id: undefined,\n                    alias: \"\".concat((_this$_config2 = this._config) === null || _this$_config2 === void 0 ? void 0 : _this$_config2.alias, \" (\").concat(this.hass.localize(\"ui.panel.config.automation.picker.duplicate\"), \")\")\n                  }));\n\n                case 8:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function _duplicate() {\n          return _duplicate2.apply(this, arguments);\n        }\n\n        return _duplicate;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteConfirm\",\n      value: function () {\n        var _deleteConfirm2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n          var _this5 = this;\n\n          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__.showConfirmationDialog)(this, {\n                    text: this.hass.localize(\"ui.panel.config.automation.picker.delete_confirm\"),\n                    confirmText: this.hass.localize(\"ui.common.delete\"),\n                    dismissText: this.hass.localize(\"ui.common.cancel\"),\n                    confirm: function confirm() {\n                      return _this5._delete();\n                    }\n                  });\n\n                case 1:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function _deleteConfirm() {\n          return _deleteConfirm2.apply(this, arguments);\n        }\n\n        return _deleteConfirm;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_delete\",\n      value: function () {\n        var _delete2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n          return regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.next = 2;\n                  return (0,_data_automation__WEBPACK_IMPORTED_MODULE_14__.deleteAutomation)(this.hass, this.automationId);\n\n                case 2:\n                  history.back();\n\n                case 3:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function _delete() {\n          return _delete2.apply(this, arguments);\n        }\n\n        return _delete;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_handleMenuAction\",\n      value: function () {\n        var _handleMenuAction2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(ev) {\n          return regeneratorRuntime.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  _context6.t0 = ev.detail.index;\n                  _context6.next = _context6.t0 === 0 ? 3 : _context6.t0 === 1 ? 5 : _context6.t0 === 2 ? 7 : _context6.t0 === 3 ? 9 : 11;\n                  break;\n\n                case 3:\n                  this._mode = \"gui\";\n                  return _context6.abrupt(\"break\", 11);\n\n                case 5:\n                  this._mode = \"yaml\";\n                  return _context6.abrupt(\"break\", 11);\n\n                case 7:\n                  this._duplicate();\n\n                  return _context6.abrupt(\"break\", 11);\n\n                case 9:\n                  this._deleteConfirm();\n\n                  return _context6.abrupt(\"break\", 11);\n\n                case 11:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, this);\n        }));\n\n        function _handleMenuAction(_x) {\n          return _handleMenuAction2.apply(this, arguments);\n        }\n\n        return _handleMenuAction;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_saveAutomation\",\n      value: function _saveAutomation() {\n        var _this6 = this;\n\n        var id = this.automationId || String(Date.now());\n        this.hass.callApi(\"POST\", \"config/automation/config/\" + id, this._config).then(function () {\n          _this6._dirty = false;\n\n          if (!_this6.automationId) {\n            (0,_common_navigate__WEBPACK_IMPORTED_MODULE_6__.navigate)(\"/config/automation/edit/\".concat(id), {\n              replace: true\n            });\n          }\n        }, function (errors) {\n          _this6._errors = errors.body.message || errors.error || errors.body;\n          (0,_util_toast__WEBPACK_IMPORTED_MODULE_20__.showToast)(_this6, {\n            message: errors.body.message || errors.error || errors.body\n          });\n          throw errors;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_subscribeAutomationConfig\",\n      value: function _subscribeAutomationConfig(ev) {\n        var _this7 = this;\n\n        var id = this._configSubscriptionsId++;\n        this._configSubscriptions[id] = ev.detail.callback;\n\n        ev.detail.unsub = function () {\n          delete _this7._configSubscriptions[id];\n        };\n\n        ev.detail.callback(this._config);\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleKeyboardSave\",\n      value: function handleKeyboardSave() {\n        this._saveAutomation();\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_19__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_3__.css)(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n        ha-card {\\n          overflow: hidden;\\n        }\\n        .errors {\\n          padding: 20px;\\n          font-weight: bold;\\n          color: var(--error-color);\\n        }\\n        .content {\\n          padding-bottom: 20px;\\n        }\\n        .yaml-mode {\\n          height: 100%;\\n          display: flex;\\n          flex-direction: column;\\n          padding-bottom: 0;\\n        }\\n        ha-yaml-editor {\\n          flex-grow: 1;\\n          --code-mirror-height: 100%;\\n          min-height: 0;\\n        }\\n        .yaml-mode ha-card {\\n          overflow: initial;\\n          --ha-card-border-radius: 0;\\n          border-bottom: 1px solid var(--divider-color);\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        ha-entity-toggle {\\n          margin-right: 8px;\\n        }\\n        ha-fab {\\n          position: relative;\\n          bottom: calc(-80px - env(safe-area-inset-bottom));\\n          transition: bottom 0.3s;\\n        }\\n        ha-fab.dirty {\\n          bottom: 0;\\n        }\\n        .selected_menu_item {\\n          color: var(--primary-color);\\n        }\\n        li[role=\\\"separator\\\"] {\\n          border-bottom-color: var(--divider-color);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, (0,_mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_18__.KeyboardShortcutMixin)(lit__WEBPACK_IMPORTED_MODULE_3__.LitElement));\ncustomElements.define(\"ha-automation-editor\", HaAutomationEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tZWRpdG9yLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBOzs7Ozs7QUFRQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdDQTs7QUFDQTtBQUdBO0FBNEVBO0FBQUE7QUFPQTtBQUFBO0FBZUE7QUFEQTtBQXdGQTtBQUFBO0FBU0E7QUF0T0E7QUFBQTtBQUFBO0FBQUE7QUF3T0E7O0FBQ0E7O0FBRUE7O0FBQ0E7QUFLQTtBQUVBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUpBOztBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFMQTtBQU9BOztBQUNBO0FBSUE7QUFDQTs7QUFFQTtBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBNVJBO0FBQUE7QUFBQTtBQUFBO0FBOFJBOztBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFuU0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXFTQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBOztBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQWhCQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQWtCQTtBQUNBO0FBREE7QUFXQTtBQUFBOztBQTdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFyU0E7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM1VBO0FBQUE7QUFBQTtBQUFBO0FBOFVBO0FBQ0E7QUEvVUE7QUFBQTtBQUFBO0FBQUE7QUFrVkE7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQTFWQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNFZBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUdBO0FBQ0E7QUFEQTs7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUE1VkE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXNXQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3V0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQWdYQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUE5WEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ1lBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUlBO0FBR0E7QUFDQTtBQUxBOztBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFBQTs7QUFkQTtBQWdCQTtBQUVBO0FBQ0E7QUFIQTs7QUFoQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBaFlBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXlaQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBTkE7O0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBelpBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9hQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFwYUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeWFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBR0E7QUFIQTs7QUFBQTtBQU1BO0FBTkE7O0FBQUE7QUFTQTs7QUFUQTs7QUFBQTtBQVlBOztBQVpBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQXphQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMGJBOztBQUNBO0FBQ0E7QUFNQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFFQTtBQWhkQTtBQUFBO0FBQUE7QUFBQTtBQWtkQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBemRBO0FBQUE7QUFBQTtBQUFBO0FBNGRBO0FBQ0E7QUE3ZEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdlQTtBQW9EQTtBQXBoQkE7QUFBQTtBQUFBO0FBdWhCQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi9oYS1hdXRvbWF0aW9uLWVkaXRvci50cz8xZjFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbkRldGFpbCB9IGZyb20gXCJAbWF0ZXJpYWwvbXdjLWxpc3QvbXdjLWxpc3QtZm91bmRhdGlvblwiO1xuaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1saXN0L213Yy1saXN0LWl0ZW1cIjtcbmltcG9ydCB7XG4gIG1kaUNoZWNrLFxuICBtZGlDb250ZW50RHVwbGljYXRlLFxuICBtZGlDb250ZW50U2F2ZSxcbiAgbWRpRGVsZXRlLFxuICBtZGlEb3RzVmVydGljYWwsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgXCJAcG9seW1lci9hcHAtbGF5b3V0L2FwcC1oZWFkZXIvYXBwLWhlYWRlclwiO1xuaW1wb3J0IFwiQHBvbHltZXIvYXBwLWxheW91dC9hcHAtdG9vbGJhci9hcHAtdG9vbGJhclwiO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIFRlbXBsYXRlUmVzdWx0LFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgc3RhdGUsIHF1ZXJ5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXBcIjtcbmltcG9ydCB7IG5hdmlnYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9uYXZpZ2F0ZVwiO1xuaW1wb3J0IHsgY29weVRvQ2xpcGJvYXJkIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi91dGlsL2NvcHktY2xpcGJvYXJkXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWJ1dHRvbi1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhcmRcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtZmFiXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXN2Zy1pY29uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXlhbWwtZWRpdG9yXCI7XG5pbXBvcnQgdHlwZSB7IEhhWWFtbEVkaXRvciB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXlhbWwtZWRpdG9yXCI7XG5pbXBvcnQge1xuICBBdXRvbWF0aW9uQ29uZmlnLFxuICBBdXRvbWF0aW9uRW50aXR5LFxuICBkZWxldGVBdXRvbWF0aW9uLFxuICBnZXRBdXRvbWF0aW9uQ29uZmlnLFxuICBnZXRBdXRvbWF0aW9uRWRpdG9ySW5pdERhdGEsXG4gIHNob3dBdXRvbWF0aW9uRWRpdG9yLFxuICB0cmlnZ2VyQXV0b21hdGlvbkFjdGlvbnMsXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcbmltcG9ydCB7XG4gIHNob3dBbGVydERpYWxvZyxcbiAgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyxcbn0gZnJvbSBcIi4uLy4uLy4uL2RpYWxvZ3MvZ2VuZXJpYy9zaG93LWRpYWxvZy1ib3hcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2xheW91dHMvaGEtYXBwLWxheW91dFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXRhYnMtc3VicGFnZVwiO1xuaW1wb3J0IHsgS2V5Ym9hcmRTaG9ydGN1dE1peGluIH0gZnJvbSBcIi4uLy4uLy4uL21peGlucy9rZXlib2FyZC1zaG9ydGN1dC1taXhpblwiO1xuaW1wb3J0IHsgaGFTdHlsZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZXMvc3R5bGVzXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50LCBSb3V0ZSB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgc2hvd1RvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvdG9hc3RcIjtcbmltcG9ydCBcIi4uL2hhLWNvbmZpZy1zZWN0aW9uXCI7XG5pbXBvcnQgeyBjb25maWdTZWN0aW9ucyB9IGZyb20gXCIuLi9oYS1wYW5lbC1jb25maWdcIjtcbmltcG9ydCB7IEhhRGV2aWNlQWN0aW9uIH0gZnJvbSBcIi4vYWN0aW9uL3R5cGVzL2hhLWF1dG9tYXRpb24tYWN0aW9uLWRldmljZV9pZFwiO1xuaW1wb3J0IFwiLi9ibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3JcIjtcbmltcG9ydCBcIi4vbWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXCI7XG5pbXBvcnQgeyBIYURldmljZVRyaWdnZXIgfSBmcm9tIFwiLi90cmlnZ2VyL3R5cGVzL2hhLWF1dG9tYXRpb24tdHJpZ2dlci1kZXZpY2VcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWF1dG9tYXRpb24tZWRpdG9yXCI6IEhhQXV0b21hdGlvbkVkaXRvcjtcbiAgfVxuICAvLyBmb3IgZmlyZSBldmVudFxuICBpbnRlcmZhY2UgSEFTU0RvbUV2ZW50cyB7XG4gICAgXCJzdWJzY3JpYmUtYXV0b21hdGlvbi1jb25maWdcIjoge1xuICAgICAgY2FsbGJhY2s6IChjb25maWc6IEF1dG9tYXRpb25Db25maWcpID0+IHZvaWQ7XG4gICAgICB1bnN1Yj86IFVuc3Vic2NyaWJlRnVuYztcbiAgICB9O1xuICAgIFwidWktbW9kZS1ub3QtYXZhaWxhYmxlXCI6IEVycm9yO1xuICAgIGR1cGxpY2F0ZTogdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIYUF1dG9tYXRpb25FZGl0b3IgZXh0ZW5kcyBLZXlib2FyZFNob3J0Y3V0TWl4aW4oTGl0RWxlbWVudCkge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgYXV0b21hdGlvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgYXV0b21hdGlvbnMhOiBBdXRvbWF0aW9uRW50aXR5W107XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGlzV2lkZT86IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHJvdXRlITogUm91dGU7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY29uZmlnPzogQXV0b21hdGlvbkNvbmZpZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9kaXJ0eSA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2Vycm9ycz86IHN0cmluZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lbnRpdHlJZD86IHN0cmluZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9tb2RlOiBcImd1aVwiIHwgXCJ5YW1sXCIgPSBcImd1aVwiO1xuXG4gIEBxdWVyeShcImhhLXlhbWwtZWRpdG9yXCIsIHRydWUpIHByaXZhdGUgX2VkaXRvcj86IEhhWWFtbEVkaXRvcjtcblxuICBwcml2YXRlIF9jb25maWdTdWJzY3JpcHRpb25zOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIChjb25maWc/OiBBdXRvbWF0aW9uQ29uZmlnKSA9PiB2b2lkXG4gID4gPSB7fTtcblxuICBwcml2YXRlIF9jb25maWdTdWJzY3JpcHRpb25zSWQgPSAxO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fZW50aXR5SWRcbiAgICAgID8gdGhpcy5oYXNzLnN0YXRlc1t0aGlzLl9lbnRpdHlJZF1cbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhc3MtdGFicy1zdWJwYWdlXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgIC5yb3V0ZT0ke3RoaXMucm91dGV9XG4gICAgICAgIC5iYWNrQ2FsbGJhY2s9JHt0aGlzLl9iYWNrVGFwcGVkfVxuICAgICAgICAudGFicz0ke2NvbmZpZ1NlY3Rpb25zLmF1dG9tYXRpb25zfVxuICAgICAgPlxuICAgICAgICA8aGEtYnV0dG9uLW1lbnVcbiAgICAgICAgICBjb3JuZXI9XCJCT1RUT01fU1RBUlRcIlxuICAgICAgICAgIHNsb3Q9XCJ0b29sYmFyLWljb25cIlxuICAgICAgICAgIEBhY3Rpb249JHt0aGlzLl9oYW5kbGVNZW51QWN0aW9ufVxuICAgICAgICAgIGFjdGl2YXRhYmxlXG4gICAgICAgID5cbiAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgIHNsb3Q9XCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbW1vbi5tZW51XCIpfVxuICAgICAgICAgICAgLnBhdGg9JHttZGlEb3RzVmVydGljYWx9XG4gICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG5cbiAgICAgICAgICA8bXdjLWxpc3QtaXRlbVxuICAgICAgICAgICAgYXJpYS1sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF91aVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgP2FjdGl2YXRlZD0ke3RoaXMuX21vZGUgPT09IFwiZ3VpXCJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF91aVwiKX1cbiAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJndWlcIlxuICAgICAgICAgICAgICA/IGh0bWxgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInNlbGVjdGVkX21lbnVfaXRlbVwiXG4gICAgICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNoZWNrfVxuICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPmBcbiAgICAgICAgICAgICAgOiBgYH1cbiAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG4gICAgICAgICAgPG13Yy1saXN0LWl0ZW1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmVkaXRfeWFtbFwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgP2FjdGl2YXRlZD0ke3RoaXMuX21vZGUgPT09IFwieWFtbFwifVxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmVkaXRfeWFtbFwiKX1cbiAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJ5YW1sXCJcbiAgICAgICAgICAgICAgPyBodG1sYDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3RlZF9tZW51X2l0ZW1cIlxuICAgICAgICAgICAgICAgICAgc2xvdD1cImdyYXBoaWNcIlxuICAgICAgICAgICAgICAgICAgLnBhdGg9JHttZGlDaGVja31cbiAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5gXG4gICAgICAgICAgICAgIDogYGB9XG4gICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuXG4gICAgICAgICAgPGxpIGRpdmlkZXIgcm9sZT1cInNlcGFyYXRvclwiPjwvbGk+XG5cbiAgICAgICAgICA8bXdjLWxpc3QtaXRlbVxuICAgICAgICAgICAgLmRpc2FibGVkPSR7IXRoaXMuYXV0b21hdGlvbklkfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZHVwbGljYXRlX2F1dG9tYXRpb25cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGdyYXBoaWM9XCJpY29uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZHVwbGljYXRlX2F1dG9tYXRpb25cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgIC5wYXRoPSR7bWRpQ29udGVudER1cGxpY2F0ZX1cbiAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cblxuICAgICAgICAgIDxtd2MtbGlzdC1pdGVtXG4gICAgICAgICAgICAuZGlzYWJsZWQ9JHshdGhpcy5hdXRvbWF0aW9uSWR9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVfYXV0b21hdGlvblwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IHdhcm5pbmc6IEJvb2xlYW4odGhpcy5hdXRvbWF0aW9uSWQpIH0pfVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVfYXV0b21hdGlvblwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoeyB3YXJuaW5nOiBCb29sZWFuKHRoaXMuYXV0b21hdGlvbklkKSB9KX1cbiAgICAgICAgICAgICAgc2xvdD1cImdyYXBoaWNcIlxuICAgICAgICAgICAgICAucGF0aD0ke21kaURlbGV0ZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuICAgICAgICA8L2hhLWJ1dHRvbi1tZW51PlxuXG4gICAgICAgICR7dGhpcy5fY29uZmlnXG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAke3RoaXMubmFycm93XG4gICAgICAgICAgICAgICAgPyBodG1sYDxzcGFuIHNsb3Q9XCJoZWFkZXJcIj4ke3RoaXMuX2NvbmZpZz8uYWxpYXN9PC9zcGFuPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz1cImNvbnRlbnQgJHtjbGFzc01hcCh7XG4gICAgICAgICAgICAgICAgICBcInlhbWwtbW9kZVwiOiB0aGlzLl9tb2RlID09PSBcInlhbWxcIixcbiAgICAgICAgICAgICAgICB9KX1cIlxuICAgICAgICAgICAgICAgIEBzdWJzY3JpYmUtYXV0b21hdGlvbi1jb25maWc9JHt0aGlzLl9zdWJzY3JpYmVBdXRvbWF0aW9uQ29uZmlnfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9lcnJvcnNcbiAgICAgICAgICAgICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwiZXJyb3JzXCI+JHt0aGlzLl9lcnJvcnN9PC9kaXY+YFxuICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJndWlcIlxuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICR7XCJ1c2VfYmx1ZXByaW50XCIgaW4gdGhpcy5fY29uZmlnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaXNXaWRlPSR7dGhpcy5pc1dpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHtzdGF0ZU9ian1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25maWc9JHt0aGlzLl9jb25maWd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3ZhbHVlQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9ibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3I+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pc1dpZGU9JHt0aGlzLmlzV2lkZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke3N0YXRlT2JqfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmZpZz0ke3RoaXMuX2NvbmZpZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fdmFsdWVDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L21hbnVhbC1hdXRvbWF0aW9uLWVkaXRvcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgOiB0aGlzLl9tb2RlID09PSBcInlhbWxcIlxuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICR7IXRoaXMubmFycm93XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWNhcmQgb3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLl9jb25maWcuYWxpYXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3RhdGVPYmpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcmQtYWN0aW9ucyBsYXlvdXQgaG9yaXpvbnRhbCBqdXN0aWZpZWQgY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWVudGl0eS10b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHtzdGF0ZU9ian1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5lbmFibGVfZGlzYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaGEtZW50aXR5LXRvZ2dsZT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3J1bkFjdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0YXRlT2JqPSR7c3RhdGVPYmp9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidWkuY2FyZC5hdXRvbWF0aW9uLnRyaWdnZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaGEtY2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgYH1cbiAgICAgICAgICAgICAgICAgICAgICA8aGEteWFtbC1lZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRlZmF1bHRWYWx1ZT0ke3RoaXMuX3ByZXByb2Nlc3NZYW1sKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3lhbWxDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgID48L2hhLXlhbWwtZWRpdG9yPlxuICAgICAgICAgICAgICAgICAgICAgIDxoYS1jYXJkIG91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLl9jb3B5WWFtbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5jb3B5X3RvX2NsaXBib2FyZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oYS1jYXJkPlxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICA6IGBgfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDxoYS1mYWJcbiAgICAgICAgICBzbG90PVwiZmFiXCJcbiAgICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHsgZGlydHk6IHRoaXMuX2RpcnR5IH0pfVxuICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5zYXZlXCIpfVxuICAgICAgICAgIGV4dGVuZGVkXG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2F2ZUF1dG9tYXRpb259XG4gICAgICAgID5cbiAgICAgICAgICA8aGEtc3ZnLWljb24gc2xvdD1cImljb25cIiAucGF0aD0ke21kaUNvbnRlbnRTYXZlfT48L2hhLXN2Zy1pY29uPlxuICAgICAgICA8L2hhLWZhYj5cbiAgICAgIDwvaGFzcy10YWJzLXN1YnBhZ2U+XG4gICAgYDtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG5cbiAgICBjb25zdCBvbGRBdXRvbWF0aW9uSWQgPSBjaGFuZ2VkUHJvcHMuZ2V0KFwiYXV0b21hdGlvbklkXCIpO1xuICAgIGlmIChcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJhdXRvbWF0aW9uSWRcIikgJiZcbiAgICAgIHRoaXMuYXV0b21hdGlvbklkICYmXG4gICAgICB0aGlzLmhhc3MgJiZcbiAgICAgIC8vIE9ubHkgcmVmcmVzaCBjb25maWcgaWYgd2UgcGlja2VkIGEgbmV3IGF1dG9tYXRpb24uIElmIHNhbWUgSUQsIGRvbid0IGZldGNoIGl0LlxuICAgICAgb2xkQXV0b21hdGlvbklkICE9PSB0aGlzLmF1dG9tYXRpb25JZFxuICAgICkge1xuICAgICAgdGhpcy5fc2V0RW50aXR5SWQoKTtcbiAgICAgIHRoaXMuX2xvYWRDb25maWcoKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImF1dG9tYXRpb25JZFwiKSAmJiAhdGhpcy5hdXRvbWF0aW9uSWQgJiYgdGhpcy5oYXNzKSB7XG4gICAgICBjb25zdCBpbml0RGF0YSA9IGdldEF1dG9tYXRpb25FZGl0b3JJbml0RGF0YSgpO1xuICAgICAgbGV0IGJhc2VDb25maWc6IFBhcnRpYWw8QXV0b21hdGlvbkNvbmZpZz4gPSB7XG4gICAgICAgIGFsaWFzOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGVmYXVsdF9uYW1lXCJcbiAgICAgICAgKSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICB9O1xuICAgICAgaWYgKCFpbml0RGF0YSB8fCAhKFwidXNlX2JsdWVwcmludFwiIGluIGluaXREYXRhKSkge1xuICAgICAgICBiYXNlQ29uZmlnID0ge1xuICAgICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgICAgbW9kZTogXCJzaW5nbGVcIixcbiAgICAgICAgICB0cmlnZ2VyOiBbeyBwbGF0Zm9ybTogXCJkZXZpY2VcIiwgLi4uSGFEZXZpY2VUcmlnZ2VyLmRlZmF1bHRDb25maWcgfV0sXG4gICAgICAgICAgY29uZGl0aW9uOiBbXSxcbiAgICAgICAgICBhY3Rpb246IFt7IC4uLkhhRGV2aWNlQWN0aW9uLmRlZmF1bHRDb25maWcgfV0sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLl9jb25maWcgPSB7XG4gICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgIC4uLmluaXREYXRhLFxuICAgICAgfSBhcyBBdXRvbWF0aW9uQ29uZmlnO1xuICAgICAgdGhpcy5fZW50aXR5SWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcImF1dG9tYXRpb25zXCIpICYmXG4gICAgICB0aGlzLmF1dG9tYXRpb25JZCAmJlxuICAgICAgIXRoaXMuX2VudGl0eUlkXG4gICAgKSB7XG4gICAgICB0aGlzLl9zZXRFbnRpdHlJZCgpO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiX2NvbmZpZ1wiKSkge1xuICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLl9jb25maWdTdWJzY3JpcHRpb25zKS5mb3JFYWNoKChzdWIpID0+XG4gICAgICAgIHN1Yih0aGlzLl9jb25maWcpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3NldEVudGl0eUlkKCkge1xuICAgIGNvbnN0IGF1dG9tYXRpb24gPSB0aGlzLmF1dG9tYXRpb25zLmZpbmQoXG4gICAgICAoZW50aXR5OiBBdXRvbWF0aW9uRW50aXR5KSA9PiBlbnRpdHkuYXR0cmlidXRlcy5pZCA9PT0gdGhpcy5hdXRvbWF0aW9uSWRcbiAgICApO1xuICAgIHRoaXMuX2VudGl0eUlkID0gYXV0b21hdGlvbj8uZW50aXR5X2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfbG9hZENvbmZpZygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgZ2V0QXV0b21hdGlvbkNvbmZpZyhcbiAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICB0aGlzLmF1dG9tYXRpb25JZCBhcyBzdHJpbmdcbiAgICAgICk7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSBkYXRhOiBlbnN1cmUgdHJpZ2dlciwgYWN0aW9uIGFuZCBjb25kaXRpb24gYXJlIGxpc3RzXG4gICAgICAvLyBIYXBwZW5zIHdoZW4gcGVvcGxlIGNvcHkgcGFzdGUgdGhlaXIgYXV0b21hdGlvbnMgaW50byB0aGUgY29uZmlnXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBbXCJ0cmlnZ2VyXCIsIFwiY29uZGl0aW9uXCIsIFwiYWN0aW9uXCJdKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY29uZmlnW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBjb25maWdba2V5XSA9IFt2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRleHQ6XG4gICAgICAgICAgZXJyLnN0YXR1c19jb2RlID09PSA0MDRcbiAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmxvYWRfZXJyb3Jfbm90X2VkaXRhYmxlXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IubG9hZF9lcnJvcl91bmtub3duXCIsXG4gICAgICAgICAgICAgICAgXCJlcnJfbm9cIixcbiAgICAgICAgICAgICAgICBlcnIuc3RhdHVzX2NvZGVcbiAgICAgICAgICAgICAgKSxcbiAgICAgIH0pLnRoZW4oKCkgPT4gaGlzdG9yeS5iYWNrKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3ZhbHVlQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQ8eyB2YWx1ZTogQXV0b21hdGlvbkNvbmZpZyB9Pikge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuX2NvbmZpZyA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5fZXJyb3JzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfcnVuQWN0aW9ucyhldjogRXZlbnQpIHtcbiAgICB0cmlnZ2VyQXV0b21hdGlvbkFjdGlvbnModGhpcy5oYXNzLCAoZXYudGFyZ2V0IGFzIGFueSkuc3RhdGVPYmouZW50aXR5X2lkKTtcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXByb2Nlc3NZYW1sKCkge1xuICAgIGNvbnN0IGNsZWFuQ29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGlmICghY2xlYW5Db25maWcpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBkZWxldGUgY2xlYW5Db25maWcuaWQ7XG5cbiAgICByZXR1cm4gY2xlYW5Db25maWc7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9jb3B5WWFtbCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5fZWRpdG9yPy55YW1sKSB7XG4gICAgICBhd2FpdCBjb3B5VG9DbGlwYm9hcmQodGhpcy5fZWRpdG9yLnlhbWwpO1xuICAgICAgc2hvd1RvYXN0KHRoaXMsIHtcbiAgICAgICAgbWVzc2FnZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tbW9uLmNvcGllZF9jbGlwYm9hcmRcIiksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF95YW1sQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIWV2LmRldGFpbC5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICB0aGlzLl9lcnJvcnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfYmFja1RhcHBlZCA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgIHNob3dDb25maXJtYXRpb25EaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnVuc2F2ZWRfY29uZmlybVwiXG4gICAgICAgICksXG4gICAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmxlYXZlXCIpLFxuICAgICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5zdGF5XCIpLFxuICAgICAgICBjb25maXJtOiAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoaXN0b3J5LmJhY2soKSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlzdG9yeS5iYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgX2R1cGxpY2F0ZSgpIHtcbiAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIShhd2FpdCBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgICAgICB0ZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IudW5zYXZlZF9jb25maXJtXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmxlYXZlXCIpLFxuICAgICAgICAgIGRpc21pc3NUZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLnN0YXlcIiksXG4gICAgICAgIH0pKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdhaXQgZm9yIGRpYWxvZyB0byBjb21wbGV0ZSBjbG9zaW5nXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgfVxuICAgIHNob3dBdXRvbWF0aW9uRWRpdG9yKHtcbiAgICAgIC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgIGlkOiB1bmRlZmluZWQsXG4gICAgICBhbGlhczogYCR7dGhpcy5fY29uZmlnPy5hbGlhc30gKCR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kdXBsaWNhdGVcIlxuICAgICAgKX0pYCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZUNvbmZpcm0oKSB7XG4gICAgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyh0aGlzLCB7XG4gICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmRlbGV0ZV9jb25maXJtXCJcbiAgICAgICksXG4gICAgICBjb25maXJtVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5kZWxldGVcIiksXG4gICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5jYW5jZWxcIiksXG4gICAgICBjb25maXJtOiAoKSA9PiB0aGlzLl9kZWxldGUoKSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZSgpIHtcbiAgICBhd2FpdCBkZWxldGVBdXRvbWF0aW9uKHRoaXMuaGFzcywgdGhpcy5hdXRvbWF0aW9uSWQgYXMgc3RyaW5nKTtcbiAgICBoaXN0b3J5LmJhY2soKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2hhbmRsZU1lbnVBY3Rpb24oZXY6IEN1c3RvbUV2ZW50PEFjdGlvbkRldGFpbD4pIHtcbiAgICBzd2l0Y2ggKGV2LmRldGFpbC5pbmRleCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICB0aGlzLl9tb2RlID0gXCJndWlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHRoaXMuX21vZGUgPSBcInlhbWxcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHRoaXMuX2R1cGxpY2F0ZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgdGhpcy5fZGVsZXRlQ29uZmlybSgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zYXZlQXV0b21hdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuYXV0b21hdGlvbklkIHx8IFN0cmluZyhEYXRlLm5vdygpKTtcbiAgICB0aGlzLmhhc3MhLmNhbGxBcGkoXG4gICAgICBcIlBPU1RcIixcbiAgICAgIFwiY29uZmlnL2F1dG9tYXRpb24vY29uZmlnL1wiICsgaWQsXG4gICAgICB0aGlzLl9jb25maWdcbiAgICApLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLmF1dG9tYXRpb25JZCkge1xuICAgICAgICAgIG5hdmlnYXRlKGAvY29uZmlnL2F1dG9tYXRpb24vZWRpdC8ke2lkfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChlcnJvcnMpID0+IHtcbiAgICAgICAgdGhpcy5fZXJyb3JzID0gZXJyb3JzLmJvZHkubWVzc2FnZSB8fCBlcnJvcnMuZXJyb3IgfHwgZXJyb3JzLmJvZHk7XG4gICAgICAgIHNob3dUb2FzdCh0aGlzLCB7XG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLmJvZHkubWVzc2FnZSB8fCBlcnJvcnMuZXJyb3IgfHwgZXJyb3JzLmJvZHksXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBlcnJvcnM7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3N1YnNjcmliZUF1dG9tYXRpb25Db25maWcoZXYpIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuX2NvbmZpZ1N1YnNjcmlwdGlvbnNJZCsrO1xuICAgIHRoaXMuX2NvbmZpZ1N1YnNjcmlwdGlvbnNbaWRdID0gZXYuZGV0YWlsLmNhbGxiYWNrO1xuICAgIGV2LmRldGFpbC51bnN1YiA9ICgpID0+IHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jb25maWdTdWJzY3JpcHRpb25zW2lkXTtcbiAgICB9O1xuICAgIGV2LmRldGFpbC5jYWxsYmFjayh0aGlzLl9jb25maWcpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGhhbmRsZUtleWJvYXJkU2F2ZSgpIHtcbiAgICB0aGlzLl9zYXZlQXV0b21hdGlvbigpO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICBoYS1jYXJkIHtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvcnMge1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnlhbWwtbW9kZSB7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICBoYS15YW1sLWVkaXRvciB7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIC0tY29kZS1taXJyb3ItaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnlhbWwtbW9kZSBoYS1jYXJkIHtcbiAgICAgICAgICBvdmVyZmxvdzogaW5pdGlhbDtcbiAgICAgICAgICAtLWhhLWNhcmQtYm9yZGVyLXJhZGl1czogMDtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgcCB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICBoYS1lbnRpdHktdG9nZ2xlIHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgICAgfVxuICAgICAgICBoYS1mYWIge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICBib3R0b206IGNhbGMoLTgwcHggLSBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpO1xuICAgICAgICAgIHRyYW5zaXRpb246IGJvdHRvbSAwLjNzO1xuICAgICAgICB9XG4gICAgICAgIGhhLWZhYi5kaXJ0eSB7XG4gICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICB9XG4gICAgICAgIC5zZWxlY3RlZF9tZW51X2l0ZW0ge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBsaVtyb2xlPVwic2VwYXJhdG9yXCJdIHtcbiAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImhhLWF1dG9tYXRpb24tZWRpdG9yXCIsIEhhQXV0b21hdGlvbkVkaXRvcik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-automation-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-automation-picker.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-automation-picker.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _components_entity_ha_entity_toggle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/entity/ha-entity-toggle */ \"./src/components/entity/ha-entity-toggle.ts\");\n/* harmony import */ var _components_ha_button_related_filter_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ha-button-related-filter-menu */ \"./src/components/ha-button-related-filter-menu.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _components_ha_icon_overflow_menu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/ha-icon-overflow-menu */ \"./src/components/ha-icon-overflow-menu.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_hass_tabs_subpage_data_table__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layouts/hass-tabs-subpage-data-table */ \"./src/layouts/hass-tabs-subpage-data-table.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _ha_panel_config__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ha-panel-config */ \"./src/panels/config/ha-panel-config.ts\");\n/* harmony import */ var _show_dialog_new_automation__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./show-dialog-new-automation */ \"./src/panels/config/automation/show-dialog-new-automation.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nvar mdiHistory = \"M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3\";\nvar mdiInformationOutline = \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\";\nvar mdiPencil = \"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\";\nvar mdiPencilOff = \"M18.66,2C18.4,2 18.16,2.09 17.97,2.28L16.13,4.13L19.88,7.88L21.72,6.03C22.11,5.64 22.11,5 21.72,4.63L19.38,2.28C19.18,2.09 18.91,2 18.66,2M3.28,4L2,5.28L8.5,11.75L4,16.25V20H7.75L12.25,15.5L18.72,22L20,20.72L13.5,14.25L9.75,10.5L3.28,4M15.06,5.19L11.03,9.22L14.78,12.97L18.81,8.94L15.06,5.19Z\";\nvar mdiPlayCircleOutline = \"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z\";\nvar mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaAutomationPicker = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"ha-automation-picker\")], function (_initialize, _LitElement) {\n  var HaAutomationPicker = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaAutomationPicker, _LitElement2);\n\n    var _super = _createSuper(HaAutomationPicker);\n\n    function HaAutomationPicker() {\n      var _this;\n\n      _classCallCheck(this, HaAutomationPicker);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return HaAutomationPicker;\n  }(_LitElement);\n\n  return {\n    F: HaAutomationPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"automations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"_activeFilters\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_filteredAutomations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_filterValue\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_automations\",\n      value: function value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(function (automations, filteredAutomations) {\n          if (filteredAutomations === null) {\n            return [];\n          }\n\n          return (filteredAutomations ? automations.filter(function (automation) {\n            return filteredAutomations.includes(automation.entity_id);\n          }) : automations).map(function (automation) {\n            return Object.assign({}, automation, {\n              name: (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(automation),\n              last_triggered: automation.attributes.last_triggered || undefined\n            });\n          });\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_columns\",\n      value: function value() {\n        var _this2 = this;\n\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(function (narrow, _locale) {\n          var columns = {\n            toggle: {\n              title: \"\",\n              label: _this2.hass.localize(\"ui.panel.config.automation.picker.headers.toggle\"),\n              type: \"icon\",\n              template: function template(_toggle, automation) {\n                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n              <ha-entity-toggle\\n                .hass=\", \"\\n                .stateObj=\", \"\\n              ></ha-entity-toggle>\\n            \"])), _this2.hass, automation);\n              }\n            },\n            name: {\n              title: _this2.hass.localize(\"ui.panel.config.automation.picker.headers.name\"),\n              sortable: true,\n              filterable: true,\n              direction: \"asc\",\n              grows: true,\n              template: narrow ? function (name, automation) {\n                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n                  \", \"\\n                  <div class=\\\"secondary\\\">\\n                    \", \":\\n                    \", \"\\n                  </div>\\n                \"])), name, _this2.hass.localize(\"ui.card.automation.last_triggered\"), automation.attributes.last_triggered ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__.formatDateTime)(new Date(automation.attributes.last_triggered), _this2.hass.locale) : _this2.hass.localize(\"ui.components.relative_time.never\"));\n              } : undefined\n            }\n          };\n\n          if (!narrow) {\n            columns.last_triggered = {\n              sortable: true,\n              width: \"20%\",\n              title: _this2.hass.localize(\"ui.card.automation.last_triggered\"),\n              template: function template(last_triggered) {\n                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n            \", \"\\n          \"])), last_triggered ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__.formatDateTime)(new Date(last_triggered), _this2.hass.locale) : _this2.hass.localize(\"ui.components.relative_time.never\"));\n              }\n            };\n            columns.trigger = {\n              label: _this2.hass.localize(\"ui.panel.config.automation.picker.headers.trigger\"),\n              title: (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n            <mwc-button style=\\\"visibility: hidden\\\">\\n              \", \"\\n            </mwc-button>\\n          \"])), _this2.hass.localize(\"ui.card.automation.trigger\")),\n              width: \"20%\",\n              template: function template(_info, automation) {\n                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n            <mwc-button\\n              .automation=\", \"\\n              @click=\", \"\\n              .disabled=\", \"\\n            >\\n              \", \"\\n            </mwc-button>\\n          \"])), automation, _this2._triggerRunActions, _data_entity__WEBPACK_IMPORTED_MODULE_14__.UNAVAILABLE_STATES.includes(automation.state), _this2.hass.localize(\"ui.card.automation.trigger\"));\n              }\n            };\n          }\n\n          columns.actions = {\n            title: \"\",\n            label: _this2.hass.localize(\"ui.panel.config.automation.picker.headers.actions\"),\n            type: \"overflow-menu\",\n            template: function template(_info, automation) {\n              return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n          <ha-icon-overflow-menu\\n            .hass=\", \"\\n            .narrow=\", \"\\n            .items=\", \"\\n            style=\\\"color: var(--secondary-text-color)\\\"\\n          >\\n          </ha-icon-overflow-menu>\\n        \"])), _this2.hass, _this2.narrow, [// Info Button\n              {\n                path: mdiInformationOutline,\n                label: _this2.hass.localize(\"ui.panel.config.automation.picker.show_info_automation\"),\n                action: function action() {\n                  return _this2._showInfo(automation);\n                }\n              }, // Trigger Button\n              {\n                path: mdiPlayCircleOutline,\n                label: _this2.hass.localize(\"ui.card.automation.trigger\"),\n                narrowOnly: true,\n                action: function action() {\n                  return _this2._runActions(automation);\n                }\n              }, // Trace Button\n              {\n                path: mdiHistory,\n                disabled: !automation.attributes.id,\n                label: _this2.hass.localize(\"ui.panel.config.automation.picker.dev_automation\"),\n                tooltip: !automation.attributes.id ? _this2.hass.localize(\"ui.panel.config.automation.picker.dev_only_editable\") : \"\",\n                action: function action() {\n                  if (automation.attributes.id) {\n                    (0,_common_navigate__WEBPACK_IMPORTED_MODULE_6__.navigate)(\"/config/automation/trace/\".concat(automation.attributes.id));\n                  }\n                }\n              }, // Edit Button\n              {\n                path: automation.attributes.id ? mdiPencil : mdiPencilOff,\n                disabled: !automation.attributes.id,\n                label: _this2.hass.localize(\"ui.panel.config.automation.picker.edit_automation\"),\n                tooltip: !automation.attributes.id ? _this2.hass.localize(\"ui.panel.config.automation.picker.dev_only_editable\") : \"\",\n                action: function action() {\n                  if (automation.attributes.id) {\n                    (0,_common_navigate__WEBPACK_IMPORTED_MODULE_6__.navigate)(\"/config/automation/edit/\".concat(automation.attributes.id));\n                  }\n                }\n              }]);\n            }\n          };\n          return columns;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n      <hass-tabs-subpage-data-table\\n        .hass=\", \"\\n        .narrow=\", \"\\n        back-path=\\\"/config\\\"\\n        id=\\\"entity_id\\\"\\n        .route=\", \"\\n        .tabs=\", \"\\n        .activeFilters=\", \"\\n        .columns=\", \"\\n        .data=\", \"\\n        .noDataText=\", \"\\n        @clear-filter=\", \"\\n        hasFab\\n      >\\n        <ha-icon-button\\n          slot=\\\"toolbar-icon\\\"\\n          .label=\", \"\\n          .path=\", \"\\n          @click=\", \"\\n        ></ha-icon-button>\\n        <ha-button-related-filter-menu\\n          slot=\\\"filter-menu\\\"\\n          corner=\\\"BOTTOM_START\\\"\\n          .narrow=\", \"\\n          .hass=\", \"\\n          .value=\", \"\\n          exclude-domains='[\\\"automation\\\"]'\\n          @related-changed=\", \"\\n        >\\n        </ha-button-related-filter-menu>\\n        <ha-fab\\n          slot=\\\"fab\\\"\\n          .label=\", \"\\n          extended\\n          @click=\", \"\\n        >\\n          <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n        </ha-fab>\\n      </hass-tabs-subpage-data-table>\\n    \"])), this.hass, this.narrow, this.route, _ha_panel_config__WEBPACK_IMPORTED_MODULE_19__.configSections.automations, this._activeFilters, this._columns(this.narrow, this.hass.locale), this._automations(this.automations, this._filteredAutomations), this.hass.localize(\"ui.panel.config.automation.picker.no_automations\"), this._clearFilter, this.hass.localize(\"ui.common.help\"), mdiHelpCircle, this._showHelp, this.narrow, this.hass, this._filterValue, this._relatedFilterChanged, this.hass.localize(\"ui.panel.config.automation.picker.add_automation\"), this._createNew, mdiPlus);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_relatedFilterChanged\",\n      value: function _relatedFilterChanged(ev) {\n        this._filterValue = ev.detail.value;\n\n        if (!this._filterValue) {\n          this._clearFilter();\n\n          return;\n        }\n\n        this._activeFilters = [ev.detail.filter];\n        this._filteredAutomations = ev.detail.items.automation || null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearFilter\",\n      value: function _clearFilter() {\n        this._filteredAutomations = undefined;\n        this._activeFilters = undefined;\n        this._filterValue = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showInfo\",\n      value: function _showInfo(automation) {\n        var entityId = automation.entity_id;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"hass-more-info\", {\n          entityId: entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showHelp\",\n      value: function _showHelp() {\n        (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_15__.showAlertDialog)(this, {\n          title: this.hass.localize(\"ui.panel.config.automation.caption\"),\n          text: (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n        \", \"\\n        <p>\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n          >\\n            \", \"\\n          </a>\\n        </p>\\n      \"])), this.hass.localize(\"ui.panel.config.automation.picker.introduction\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_18__.documentationUrl)(this.hass, \"/docs/automation/editor/\"), this.hass.localize(\"ui.panel.config.automation.picker.learn_more\"))\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_triggerRunActions\",\n      value: function value() {\n        var _this3 = this;\n\n        return function (ev) {\n          _this3._runActions(ev.currentTarget.automation);\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_runActions\",\n      value: function value() {\n        var _this4 = this;\n\n        return function (automation) {\n          (0,_data_automation__WEBPACK_IMPORTED_MODULE_13__.triggerAutomationActions)(_this4.hass, automation.entity_id);\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_createNew\",\n      value: function _createNew() {\n        if ((0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_2__.isComponentLoaded)(this.hass, \"blueprint\")) {\n          (0,_show_dialog_new_automation__WEBPACK_IMPORTED_MODULE_20__.showNewAutomationDialog)(this);\n        } else {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_6__.navigate)(\"/config/automation/edit/new\");\n        }\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return _resources_styles__WEBPACK_IMPORTED_MODULE_17__.haStyle;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_0__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tcGlja2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0FBQ0E7QUFBQTtBQUFBOzs7OztBQUVBO0FBQUE7QUFBQTs7Ozs7QUFFQTtBQUFBO0FBQUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7Ozs7QUFFQTtBQUtBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFIQTtBQUFBO0FBS0E7Ozs7Ozs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBTkE7QUFjQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFUQTtBQWZBOztBQXdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFVQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQVZBO0FBb0JBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBakJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBakJBO0FBekNBO0FBTkE7QUF3RUE7QUFDQTs7Ozs7QUFHQTtBQUNBO0FBNkNBOzs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFpQkE7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUVBO0FBQ0E7QUFDQTs7O0FBeFNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tcGlja2VyLnRzP2VmOWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpSGVscENpcmNsZSxcbiAgbWRpSGlzdG9yeSxcbiAgbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICBtZGlQZW5jaWwsXG4gIG1kaVBlbmNpbE9mZixcbiAgbWRpUGxheUNpcmNsZU91dGxpbmUsXG4gIG1kaVBsdXMsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlVGltZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGF0ZXRpbWUvZm9ybWF0X2RhdGVfdGltZVwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlTmFtZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfbmFtZVwiO1xuaW1wb3J0IHsgbmF2aWdhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL25hdmlnYXRlXCI7XG5pbXBvcnQgeyBEYXRhVGFibGVDb2x1bW5Db250YWluZXIgfSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9kYXRhLXRhYmxlL2hhLWRhdGEtdGFibGVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvZW50aXR5L2hhLWVudGl0eS10b2dnbGVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtYnV0dG9uLXJlbGF0ZWQtZmlsdGVyLW1lbnVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtZmFiXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXN2Zy1pY29uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWljb24tb3ZlcmZsb3ctbWVudVwiO1xuaW1wb3J0IHtcbiAgQXV0b21hdGlvbkVudGl0eSxcbiAgdHJpZ2dlckF1dG9tYXRpb25BY3Rpb25zLFxufSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9hdXRvbWF0aW9uXCI7XG5pbXBvcnQgeyBVTkFWQUlMQUJMRV9TVEFURVMgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9lbnRpdHlcIjtcbmltcG9ydCB7IHNob3dBbGVydERpYWxvZyB9IGZyb20gXCIuLi8uLi8uLi9kaWFsb2dzL2dlbmVyaWMvc2hvdy1kaWFsb2ctYm94XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9sYXlvdXRzL2hhc3MtdGFicy1zdWJwYWdlLWRhdGEtdGFibGVcIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCwgUm91dGUgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGRvY3VtZW50YXRpb25VcmwgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9kb2N1bWVudGF0aW9uLXVybFwiO1xuaW1wb3J0IHsgY29uZmlnU2VjdGlvbnMgfSBmcm9tIFwiLi4vaGEtcGFuZWwtY29uZmlnXCI7XG5pbXBvcnQgeyBzaG93TmV3QXV0b21hdGlvbkRpYWxvZyB9IGZyb20gXCIuL3Nob3ctZGlhbG9nLW5ldy1hdXRvbWF0aW9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtYXV0b21hdGlvbi1waWNrZXJcIilcbmNsYXNzIEhhQXV0b21hdGlvblBpY2tlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1dpZGUhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHJvdXRlITogUm91dGU7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGF1dG9tYXRpb25zITogQXV0b21hdGlvbkVudGl0eVtdO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2FjdGl2ZUZpbHRlcnM/OiBzdHJpbmdbXTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9maWx0ZXJlZEF1dG9tYXRpb25zPzogc3RyaW5nW10gfCBudWxsO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ZpbHRlclZhbHVlPztcblxuICBwcml2YXRlIF9hdXRvbWF0aW9ucyA9IG1lbW9pemVPbmUoXG4gICAgKFxuICAgICAgYXV0b21hdGlvbnM6IEF1dG9tYXRpb25FbnRpdHlbXSxcbiAgICAgIGZpbHRlcmVkQXV0b21hdGlvbnM/OiBzdHJpbmdbXSB8IG51bGxcbiAgICApID0+IHtcbiAgICAgIGlmIChmaWx0ZXJlZEF1dG9tYXRpb25zID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpbHRlcmVkQXV0b21hdGlvbnNcbiAgICAgICAgICA/IGF1dG9tYXRpb25zLmZpbHRlcigoYXV0b21hdGlvbikgPT5cbiAgICAgICAgICAgICAgZmlsdGVyZWRBdXRvbWF0aW9ucyEuaW5jbHVkZXMoYXV0b21hdGlvbi5lbnRpdHlfaWQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBhdXRvbWF0aW9uc1xuICAgICAgKS5tYXAoKGF1dG9tYXRpb24pID0+ICh7XG4gICAgICAgIC4uLmF1dG9tYXRpb24sXG4gICAgICAgIG5hbWU6IGNvbXB1dGVTdGF0ZU5hbWUoYXV0b21hdGlvbiksXG4gICAgICAgIGxhc3RfdHJpZ2dlcmVkOiBhdXRvbWF0aW9uLmF0dHJpYnV0ZXMubGFzdF90cmlnZ2VyZWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSkpO1xuICAgIH1cbiAgKTtcblxuICBwcml2YXRlIF9jb2x1bW5zID0gbWVtb2l6ZU9uZShcbiAgICAobmFycm93OiBib29sZWFuLCBfbG9jYWxlKTogRGF0YVRhYmxlQ29sdW1uQ29udGFpbmVyID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnM6IERhdGFUYWJsZUNvbHVtbkNvbnRhaW5lciA9IHtcbiAgICAgICAgdG9nZ2xlOiB7XG4gICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmhlYWRlcnMudG9nZ2xlXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIHR5cGU6IFwiaWNvblwiLFxuICAgICAgICAgIHRlbXBsYXRlOiAoX3RvZ2dsZSwgYXV0b21hdGlvbjogYW55KSA9PlxuICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgPGhhLWVudGl0eS10b2dnbGVcbiAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHthdXRvbWF0aW9ufVxuICAgICAgICAgICAgICA+PC9oYS1lbnRpdHktdG9nZ2xlPlxuICAgICAgICAgICAgYCxcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5oZWFkZXJzLm5hbWVcIlxuICAgICAgICAgICksXG4gICAgICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICAgICAgZmlsdGVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBkaXJlY3Rpb246IFwiYXNjXCIsXG4gICAgICAgICAgZ3Jvd3M6IHRydWUsXG4gICAgICAgICAgdGVtcGxhdGU6IG5hcnJvd1xuICAgICAgICAgICAgPyAobmFtZSwgYXV0b21hdGlvbjogYW55KSA9PlxuICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAke25hbWV9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5hdXRvbWF0aW9uLmxhc3RfdHJpZ2dlcmVkXCIpfTpcbiAgICAgICAgICAgICAgICAgICAgJHthdXRvbWF0aW9uLmF0dHJpYnV0ZXMubGFzdF90cmlnZ2VyZWRcbiAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdERhdGVUaW1lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShhdXRvbWF0aW9uLmF0dHJpYnV0ZXMubGFzdF90cmlnZ2VyZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLnJlbGF0aXZlX3RpbWUubmV2ZXJcIil9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBpZiAoIW5hcnJvdykge1xuICAgICAgICBjb2x1bW5zLmxhc3RfdHJpZ2dlcmVkID0ge1xuICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgICAgIHdpZHRoOiBcIjIwJVwiLFxuICAgICAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24ubGFzdF90cmlnZ2VyZWRcIiksXG4gICAgICAgICAgdGVtcGxhdGU6IChsYXN0X3RyaWdnZXJlZCkgPT4gaHRtbGBcbiAgICAgICAgICAgICR7bGFzdF90cmlnZ2VyZWRcbiAgICAgICAgICAgICAgPyBmb3JtYXREYXRlVGltZShuZXcgRGF0ZShsYXN0X3RyaWdnZXJlZCksIHRoaXMuaGFzcy5sb2NhbGUpXG4gICAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5yZWxhdGl2ZV90aW1lLm5ldmVyXCIpfVxuICAgICAgICAgIGAsXG4gICAgICAgIH07XG4gICAgICAgIGNvbHVtbnMudHJpZ2dlciA9IHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuaGVhZGVycy50cmlnZ2VyXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIHRpdGxlOiBodG1sYFxuICAgICAgICAgICAgPG13Yy1idXR0b24gc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24udHJpZ2dlclwiKX1cbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICBgLFxuICAgICAgICAgIHdpZHRoOiBcIjIwJVwiLFxuICAgICAgICAgIHRlbXBsYXRlOiAoX2luZm8sIGF1dG9tYXRpb246IGFueSkgPT4gaHRtbGBcbiAgICAgICAgICAgIDxtd2MtYnV0dG9uXG4gICAgICAgICAgICAgIC5hdXRvbWF0aW9uPSR7YXV0b21hdGlvbn1cbiAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fdHJpZ2dlclJ1bkFjdGlvbnN9XG4gICAgICAgICAgICAgIC5kaXNhYmxlZD0ke1VOQVZBSUxBQkxFX1NUQVRFUy5pbmNsdWRlcyhhdXRvbWF0aW9uLnN0YXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24udHJpZ2dlclwiKX1cbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICBgLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29sdW1ucy5hY3Rpb25zID0ge1xuICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5oZWFkZXJzLmFjdGlvbnNcIlxuICAgICAgICApLFxuICAgICAgICB0eXBlOiBcIm92ZXJmbG93LW1lbnVcIixcbiAgICAgICAgdGVtcGxhdGU6IChfaW5mbywgYXV0b21hdGlvbjogYW55KSA9PiBodG1sYFxuICAgICAgICAgIDxoYS1pY29uLW92ZXJmbG93LW1lbnVcbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgICAgLml0ZW1zPSR7W1xuICAgICAgICAgICAgICAvLyBJbmZvIEJ1dHRvblxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5zaG93X2luZm9fYXV0b21hdGlvblwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuX3Nob3dJbmZvKGF1dG9tYXRpb24pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBUcmlnZ2VyIEJ1dHRvblxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWRpUGxheUNpcmNsZU91dGxpbmUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNhcmQuYXV0b21hdGlvbi50cmlnZ2VyXCIpLFxuICAgICAgICAgICAgICAgIG5hcnJvd09ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLl9ydW5BY3Rpb25zKGF1dG9tYXRpb24pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBUcmFjZSBCdXR0b25cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhdGg6IG1kaUhpc3RvcnksXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFhdXRvbWF0aW9uLmF0dHJpYnV0ZXMuaWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmRldl9hdXRvbWF0aW9uXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICFhdXRvbWF0aW9uLmF0dHJpYnV0ZXMuaWRcbiAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmRldl9vbmx5X2VkaXRhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGF1dG9tYXRpb24uYXR0cmlidXRlcy5pZCkge1xuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZShcbiAgICAgICAgICAgICAgICAgICAgICBgL2NvbmZpZy9hdXRvbWF0aW9uL3RyYWNlLyR7YXV0b21hdGlvbi5hdHRyaWJ1dGVzLmlkfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBFZGl0IEJ1dHRvblxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogYXV0b21hdGlvbi5hdHRyaWJ1dGVzLmlkID8gbWRpUGVuY2lsIDogbWRpUGVuY2lsT2ZmLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhYXV0b21hdGlvbi5hdHRyaWJ1dGVzLmlkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5lZGl0X2F1dG9tYXRpb25cIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogIWF1dG9tYXRpb24uYXR0cmlidXRlcy5pZFxuICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZGV2X29ubHlfZWRpdGFibGVcIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoYXV0b21hdGlvbi5hdHRyaWJ1dGVzLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlKFxuICAgICAgICAgICAgICAgICAgICAgIGAvY29uZmlnL2F1dG9tYXRpb24vZWRpdC8ke2F1dG9tYXRpb24uYXR0cmlidXRlcy5pZH1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBzdHlsZT1cImNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcilcIlxuICAgICAgICAgID5cbiAgICAgICAgICA8L2hhLWljb24tb3ZlcmZsb3ctbWVudT5cbiAgICAgICAgYCxcbiAgICAgIH07XG4gICAgICByZXR1cm4gY29sdW1ucztcbiAgICB9XG4gICk7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGFzcy10YWJzLXN1YnBhZ2UtZGF0YS10YWJsZVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICBiYWNrLXBhdGg9XCIvY29uZmlnXCJcbiAgICAgICAgaWQ9XCJlbnRpdHlfaWRcIlxuICAgICAgICAucm91dGU9JHt0aGlzLnJvdXRlfVxuICAgICAgICAudGFicz0ke2NvbmZpZ1NlY3Rpb25zLmF1dG9tYXRpb25zfVxuICAgICAgICAuYWN0aXZlRmlsdGVycz0ke3RoaXMuX2FjdGl2ZUZpbHRlcnN9XG4gICAgICAgIC5jb2x1bW5zPSR7dGhpcy5fY29sdW1ucyh0aGlzLm5hcnJvdywgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgIC5kYXRhPSR7dGhpcy5fYXV0b21hdGlvbnModGhpcy5hdXRvbWF0aW9ucywgdGhpcy5fZmlsdGVyZWRBdXRvbWF0aW9ucyl9XG4gICAgICAgIC5ub0RhdGFUZXh0PSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLm5vX2F1dG9tYXRpb25zXCJcbiAgICAgICAgKX1cbiAgICAgICAgQGNsZWFyLWZpbHRlcj0ke3RoaXMuX2NsZWFyRmlsdGVyfVxuICAgICAgICBoYXNGYWJcbiAgICAgID5cbiAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgc2xvdD1cInRvb2xiYXItaWNvblwiXG4gICAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tbW9uLmhlbHBcIil9XG4gICAgICAgICAgLnBhdGg9JHttZGlIZWxwQ2lyY2xlfVxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3Nob3dIZWxwfVxuICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgPGhhLWJ1dHRvbi1yZWxhdGVkLWZpbHRlci1tZW51XG4gICAgICAgICAgc2xvdD1cImZpbHRlci1tZW51XCJcbiAgICAgICAgICBjb3JuZXI9XCJCT1RUT01fU1RBUlRcIlxuICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLl9maWx0ZXJWYWx1ZX1cbiAgICAgICAgICBleGNsdWRlLWRvbWFpbnM9J1tcImF1dG9tYXRpb25cIl0nXG4gICAgICAgICAgQHJlbGF0ZWQtY2hhbmdlZD0ke3RoaXMuX3JlbGF0ZWRGaWx0ZXJDaGFuZ2VkfVxuICAgICAgICA+XG4gICAgICAgIDwvaGEtYnV0dG9uLXJlbGF0ZWQtZmlsdGVyLW1lbnU+XG4gICAgICAgIDxoYS1mYWJcbiAgICAgICAgICBzbG90PVwiZmFiXCJcbiAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5hZGRfYXV0b21hdGlvblwiXG4gICAgICAgICAgKX1cbiAgICAgICAgICBleHRlbmRlZFxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2NyZWF0ZU5ld31cbiAgICAgICAgPlxuICAgICAgICAgIDxoYS1zdmctaWNvbiBzbG90PVwiaWNvblwiIC5wYXRoPSR7bWRpUGx1c30+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgPC9oYS1mYWI+XG4gICAgICA8L2hhc3MtdGFicy1zdWJwYWdlLWRhdGEtdGFibGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbGF0ZWRGaWx0ZXJDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIHRoaXMuX2ZpbHRlclZhbHVlID0gZXYuZGV0YWlsLnZhbHVlO1xuICAgIGlmICghdGhpcy5fZmlsdGVyVmFsdWUpIHtcbiAgICAgIHRoaXMuX2NsZWFyRmlsdGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUZpbHRlcnMgPSBbZXYuZGV0YWlsLmZpbHRlcl07XG4gICAgdGhpcy5fZmlsdGVyZWRBdXRvbWF0aW9ucyA9IGV2LmRldGFpbC5pdGVtcy5hdXRvbWF0aW9uIHx8IG51bGw7XG4gIH1cblxuICBwcml2YXRlIF9jbGVhckZpbHRlcigpIHtcbiAgICB0aGlzLl9maWx0ZXJlZEF1dG9tYXRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlcnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZmlsdGVyVmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIF9zaG93SW5mbyhhdXRvbWF0aW9uOiBBdXRvbWF0aW9uRW50aXR5KSB7XG4gICAgY29uc3QgZW50aXR5SWQgPSBhdXRvbWF0aW9uLmVudGl0eV9pZDtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLW1vcmUtaW5mb1wiLCB7IGVudGl0eUlkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2hvd0hlbHAoKSB7XG4gICAgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5jYXB0aW9uXCIpLFxuICAgICAgdGV4dDogaHRtbGBcbiAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuaW50cm9kdWN0aW9uXCIpfVxuICAgICAgICA8cD5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj0ke2RvY3VtZW50YXRpb25VcmwodGhpcy5oYXNzLCBcIi9kb2NzL2F1dG9tYXRpb24vZWRpdG9yL1wiKX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIubGVhcm5fbW9yZVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgYCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3RyaWdnZXJSdW5BY3Rpb25zID0gKGV2KSA9PiB7XG4gICAgdGhpcy5fcnVuQWN0aW9ucyhldi5jdXJyZW50VGFyZ2V0LmF1dG9tYXRpb24pO1xuICB9O1xuXG4gIHByaXZhdGUgX3J1bkFjdGlvbnMgPSAoYXV0b21hdGlvbjogQXV0b21hdGlvbkVudGl0eSkgPT4ge1xuICAgIHRyaWdnZXJBdXRvbWF0aW9uQWN0aW9ucyh0aGlzLmhhc3MsIGF1dG9tYXRpb24uZW50aXR5X2lkKTtcbiAgfTtcblxuICBwcml2YXRlIF9jcmVhdGVOZXcoKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50TG9hZGVkKHRoaXMuaGFzcywgXCJibHVlcHJpbnRcIikpIHtcbiAgICAgIHNob3dOZXdBdXRvbWF0aW9uRGlhbG9nKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYXZpZ2F0ZShcIi9jb25maWcvYXV0b21hdGlvbi9lZGl0L25ld1wiKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGhhU3R5bGU7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWF1dG9tYXRpb24tcGlja2VyXCI6IEhhQXV0b21hdGlvblBpY2tlcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-automation-picker.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-config-automation.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-config-automation.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/util/debounce */ \"./src/common/util/debounce.ts\");\n/* harmony import */ var _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layouts/hass-router-page */ \"./src/layouts/hass-router-page.ts\");\n/* harmony import */ var _ha_automation_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ha-automation-editor */ \"./src/panels/config/automation/ha-automation-editor.ts\");\n/* harmony import */ var _ha_automation_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ha-automation-picker */ \"./src/panels/config/automation/ha-automation-picker.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\nvar equal = function equal(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return a.every(function (automation, index) {\n    return automation === b[index];\n  });\n};\n\nvar HaConfigAutomation = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"ha-config-automation\")], function (_initialize, _HassRouterPage) {\n  var HaConfigAutomation = /*#__PURE__*/function (_HassRouterPage2) {\n    _inherits(HaConfigAutomation, _HassRouterPage2);\n\n    var _super = _createSuper(HaConfigAutomation);\n\n    function HaConfigAutomation() {\n      var _this;\n\n      _classCallCheck(this, HaConfigAutomation);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return HaConfigAutomation;\n  }(_HassRouterPage);\n\n  return {\n    F: HaConfigAutomation,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.property)()],\n      key: \"showAdvanced\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_0__.property)()],\n      key: \"automations\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_debouncedUpdateAutomations\",\n      value: function value() {\n        var _this2 = this;\n\n        return (0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(function (pageEl) {\n          var newAutomations = _this2._getAutomations(_this2.hass.states);\n\n          if (!equal(newAutomations, pageEl.automations)) {\n            pageEl.automations = newAutomations;\n          }\n        }, 10);\n      }\n    }, {\n      kind: \"field\",\n      key: \"routerOptions\",\n      value: function value() {\n        return {\n          defaultPage: \"dashboard\",\n          routes: {\n            dashboard: {\n              tag: \"ha-automation-picker\",\n              cache: true\n            },\n            edit: {\n              tag: \"ha-automation-editor\"\n            },\n            trace: {\n              tag: \"ha-automation-trace\",\n              load: function load() {\n                return Promise.all(/*! import() */[__webpack_require__.e(\"src_components_ha-relative-time_ts\"), __webpack_require__.e(\"src_data_trace_ts-src_panels_logbook_ha-logbook-renderer_ts\"), __webpack_require__.e(\"node_modules_formatjs_intl-utils_lib_src_diff_js-src_common_entity_compute_state_display_ts-s-7c1ffc\"), __webpack_require__.e(\"src_panels_config_automation_ha-automation-trace_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./ha-automation-trace */ \"./src/panels/config/automation/ha-automation-trace.ts\"));\n              }\n            }\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getAutomations\",\n      value: function value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(function (states) {\n          return Object.values(states).filter(function (entity) {\n            return (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_1__.computeStateDomain)(entity) === \"automation\" && !entity.attributes.restored;\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(HaConfigAutomation.prototype), \"firstUpdated\", this).call(this, changedProps);\n\n        this.hass.loadBackendTranslation(\"device_automation\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"updatePageEl\",\n      value: function updatePageEl(pageEl, changedProps) {\n        pageEl.hass = this.hass;\n        pageEl.narrow = this.narrow;\n        pageEl.isWide = this.isWide;\n        pageEl.route = this.routeTail;\n        pageEl.showAdvanced = this.showAdvanced;\n\n        if (this.hass) {\n          if (!pageEl.automations || !changedProps) {\n            pageEl.automations = this._getAutomations(this.hass.states);\n          } else if (changedProps.has(\"hass\")) {\n            this._debouncedUpdateAutomations(pageEl);\n          }\n        }\n\n        if ((!changedProps || changedProps.has(\"route\")) && this._currentPage !== \"dashboard\") {\n          var automationId = decodeURIComponent(this.routeTail.path.substr(1));\n          pageEl.automationId = automationId === \"new\" ? null : automationId;\n        }\n      }\n    }]\n  };\n}, _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_3__.HassRouterPage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWNvbmZpZy1hdXRvbWF0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBR0E7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7QUFDQTtBQUFBO0FBQUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7OztBQUFBOzs7Ozs7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBUkE7QUFGQTs7Ozs7O0FBaUJBO0FBQ0E7QUFFQTtBQUFBO0FBRkE7Ozs7O0FBUUE7QUFDQTs7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQXZFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi9oYS1jb25maWctYXV0b21hdGlvbi50cz85YWNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhhc3NFbnRpdGllcyB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFByb3BlcnR5VmFsdWVzIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlRG9tYWluIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9kb21haW5cIjtcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi91dGlsL2RlYm91bmNlXCI7XG5pbXBvcnQgeyBBdXRvbWF0aW9uRW50aXR5IH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHtcbiAgSGFzc1JvdXRlclBhZ2UsXG4gIFJvdXRlck9wdGlvbnMsXG59IGZyb20gXCIuLi8uLi8uLi9sYXlvdXRzL2hhc3Mtcm91dGVyLXBhZ2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGEtYXV0b21hdGlvbi1lZGl0b3JcIjtcbmltcG9ydCBcIi4vaGEtYXV0b21hdGlvbi1waWNrZXJcIjtcblxuY29uc3QgZXF1YWwgPSAoYTogQXV0b21hdGlvbkVudGl0eVtdLCBiOiBBdXRvbWF0aW9uRW50aXR5W10pOiBib29sZWFuID0+IHtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gYS5ldmVyeSgoYXV0b21hdGlvbiwgaW5kZXgpID0+IGF1dG9tYXRpb24gPT09IGJbaW5kZXhdKTtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtY29uZmlnLWF1dG9tYXRpb25cIilcbmNsYXNzIEhhQ29uZmlnQXV0b21hdGlvbiBleHRlbmRzIEhhc3NSb3V0ZXJQYWdlIHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGlzV2lkZSE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHNob3dBZHZhbmNlZCE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGF1dG9tYXRpb25zOiBBdXRvbWF0aW9uRW50aXR5W10gPSBbXTtcblxuICBwcml2YXRlIF9kZWJvdW5jZWRVcGRhdGVBdXRvbWF0aW9ucyA9IGRlYm91bmNlKChwYWdlRWwpID0+IHtcbiAgICBjb25zdCBuZXdBdXRvbWF0aW9ucyA9IHRoaXMuX2dldEF1dG9tYXRpb25zKHRoaXMuaGFzcy5zdGF0ZXMpO1xuICAgIGlmICghZXF1YWwobmV3QXV0b21hdGlvbnMsIHBhZ2VFbC5hdXRvbWF0aW9ucykpIHtcbiAgICAgIHBhZ2VFbC5hdXRvbWF0aW9ucyA9IG5ld0F1dG9tYXRpb25zO1xuICAgIH1cbiAgfSwgMTApO1xuXG4gIHByb3RlY3RlZCByb3V0ZXJPcHRpb25zOiBSb3V0ZXJPcHRpb25zID0ge1xuICAgIGRlZmF1bHRQYWdlOiBcImRhc2hib2FyZFwiLFxuICAgIHJvdXRlczoge1xuICAgICAgZGFzaGJvYXJkOiB7XG4gICAgICAgIHRhZzogXCJoYS1hdXRvbWF0aW9uLXBpY2tlclwiLFxuICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlZGl0OiB7XG4gICAgICAgIHRhZzogXCJoYS1hdXRvbWF0aW9uLWVkaXRvclwiLFxuICAgICAgfSxcbiAgICAgIHRyYWNlOiB7XG4gICAgICAgIHRhZzogXCJoYS1hdXRvbWF0aW9uLXRyYWNlXCIsXG4gICAgICAgIGxvYWQ6ICgpID0+IGltcG9ydChcIi4vaGEtYXV0b21hdGlvbi10cmFjZVwiKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBwcml2YXRlIF9nZXRBdXRvbWF0aW9ucyA9IG1lbW9pemVPbmUoXG4gICAgKHN0YXRlczogSGFzc0VudGl0aWVzKTogQXV0b21hdGlvbkVudGl0eVtdID0+XG4gICAgICBPYmplY3QudmFsdWVzKHN0YXRlcykuZmlsdGVyKFxuICAgICAgICAoZW50aXR5KSA9PlxuICAgICAgICAgIGNvbXB1dGVTdGF0ZURvbWFpbihlbnRpdHkpID09PSBcImF1dG9tYXRpb25cIiAmJlxuICAgICAgICAgICFlbnRpdHkuYXR0cmlidXRlcy5yZXN0b3JlZFxuICAgICAgKSBhcyBBdXRvbWF0aW9uRW50aXR5W11cbiAgKTtcblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcykge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuICAgIHRoaXMuaGFzcy5sb2FkQmFja2VuZFRyYW5zbGF0aW9uKFwiZGV2aWNlX2F1dG9tYXRpb25cIik7XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlUGFnZUVsKHBhZ2VFbCwgY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHBhZ2VFbC5oYXNzID0gdGhpcy5oYXNzO1xuICAgIHBhZ2VFbC5uYXJyb3cgPSB0aGlzLm5hcnJvdztcbiAgICBwYWdlRWwuaXNXaWRlID0gdGhpcy5pc1dpZGU7XG4gICAgcGFnZUVsLnJvdXRlID0gdGhpcy5yb3V0ZVRhaWw7XG4gICAgcGFnZUVsLnNob3dBZHZhbmNlZCA9IHRoaXMuc2hvd0FkdmFuY2VkO1xuXG4gICAgaWYgKHRoaXMuaGFzcykge1xuICAgICAgaWYgKCFwYWdlRWwuYXV0b21hdGlvbnMgfHwgIWNoYW5nZWRQcm9wcykge1xuICAgICAgICBwYWdlRWwuYXV0b21hdGlvbnMgPSB0aGlzLl9nZXRBdXRvbWF0aW9ucyh0aGlzLmhhc3Muc3RhdGVzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpIHtcbiAgICAgICAgdGhpcy5fZGVib3VuY2VkVXBkYXRlQXV0b21hdGlvbnMocGFnZUVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAoIWNoYW5nZWRQcm9wcyB8fCBjaGFuZ2VkUHJvcHMuaGFzKFwicm91dGVcIikpICYmXG4gICAgICB0aGlzLl9jdXJyZW50UGFnZSAhPT0gXCJkYXNoYm9hcmRcIlxuICAgICkge1xuICAgICAgY29uc3QgYXV0b21hdGlvbklkID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucm91dGVUYWlsLnBhdGguc3Vic3RyKDEpKTtcbiAgICAgIHBhZ2VFbC5hdXRvbWF0aW9uSWQgPSBhdXRvbWF0aW9uSWQgPT09IFwibmV3XCIgPyBudWxsIDogYXV0b21hdGlvbklkO1xuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtY29uZmlnLWF1dG9tYXRpb25cIjogSGFDb25maWdBdXRvbWF0aW9uO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-config-automation.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/manual-automation-editor.ts":
/*!******************************************************************!*\
  !*** ./src/panels/config/automation/manual-automation-editor.ts ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HaManualAutomationEditor\": function() { return /* binding */ HaManualAutomationEditor; }\n/* harmony export */ });\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _components_entity_ha_entity_toggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/entity/ha-entity-toggle */ \"./src/components/entity/ha-entity-toggle.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_textarea__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/ha-textarea */ \"./src/components/ha-textarea.ts\");\n/* harmony import */ var _components_ha_textfield__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/ha-textfield */ \"./src/components/ha-textfield.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\n/* harmony import */ var _action_ha_automation_action__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./action/ha-automation-action */ \"./src/panels/config/automation/action/ha-automation-action.ts\");\n/* harmony import */ var _condition_ha_automation_condition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./condition/ha-automation-condition */ \"./src/panels/config/automation/condition/ha-automation-condition.ts\");\n/* harmony import */ var _trigger_ha_automation_trigger__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./trigger/ha-automation-trigger */ \"./src/panels/config/automation/trigger/ha-automation-trigger.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaManualAutomationEditor = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"manual-automation-editor\")], function (_initialize, _LitElement) {\n  var HaManualAutomationEditor = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaManualAutomationEditor, _LitElement2);\n\n    var _super = _createSuper(HaManualAutomationEditor);\n\n    function HaManualAutomationEditor() {\n      var _this;\n\n      _classCallCheck(this, HaManualAutomationEditor);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return HaManualAutomationEditor;\n  }(_LitElement);\n\n  return {\n    F: HaManualAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_showDescription\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"<ha-config-section vertical .isWide=\", \">\\n        \", \"\\n        <span slot=\\\"introduction\\\">\\n          \", \"\\n        </span>\\n        <ha-card outlined>\\n          <div class=\\\"card-content\\\">\\n            <ha-textfield\\n              .label=\", \"\\n              name=\\\"alias\\\"\\n              .value=\", \"\\n              @change=\", \"\\n            >\\n            </ha-textfield>\\n            \", \"\\n            <p>\\n              \", \"\\n            </p>\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              @selected=\", \"\\n              fixedMenuPosition\\n            >\\n              \", \"\\n            </ha-select>\\n            \", \"\\n          </div>\\n          \", \"\\n        </ha-card>\\n      </ha-config-section>\\n\\n      <ha-config-section vertical .isWide=\", \">\\n        <span slot=\\\"header\\\">\\n          \", \"\\n        </span>\\n        <span slot=\\\"introduction\\\">\\n          <p>\\n            \", \"\\n          </p>\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n          >\\n            \", \"\\n          </a>\\n        </span>\\n        <ha-automation-trigger\\n          .triggers=\", \"\\n          @value-changed=\", \"\\n          .hass=\", \"\\n        ></ha-automation-trigger>\\n      </ha-config-section>\\n\\n      <ha-config-section vertical .isWide=\", \">\\n        <span slot=\\\"header\\\">\\n          \", \"\\n        </span>\\n        <span slot=\\\"introduction\\\">\\n          <p>\\n            \", \"\\n          </p>\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n          >\\n            \", \"\\n          </a>\\n        </span>\\n        <ha-automation-condition\\n          .conditions=\", \"\\n          @value-changed=\", \"\\n          .hass=\", \"\\n        ></ha-automation-condition>\\n      </ha-config-section>\\n\\n      <ha-config-section vertical .isWide=\", \">\\n        <span slot=\\\"header\\\">\\n          \", \"\\n        </span>\\n        <span slot=\\\"introduction\\\">\\n          <p>\\n            \", \"\\n          </p>\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n          >\\n            \", \"\\n          </a>\\n        </span>\\n        <ha-automation-action\\n          .actions=\", \"\\n          @value-changed=\", \"\\n          .hass=\", \"\\n          .narrow=\", \"\\n        ></ha-automation-action>\\n      </ha-config-section>\"])), this.isWide, !this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<span slot=\\\"header\\\">\", \"</span>\"])), this.config.alias) : \"\", this.hass.localize(\"ui.panel.config.automation.editor.introduction\"), this.hass.localize(\"ui.panel.config.automation.editor.alias\"), this.config.alias || \"\", this._valueChanged, this._showDescription ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n                  <ha-textarea\\n                    .label=\", \"\\n                    .placeholder=\", \"\\n                    name=\\\"description\\\"\\n                    autogrow\\n                    .value=\", \"\\n                    @change=\", \"\\n                  ></ha-textarea>\\n                \"])), this.hass.localize(\"ui.panel.config.automation.editor.description.label\"), this.hass.localize(\"ui.panel.config.automation.editor.description.placeholder\"), this.config.description || \"\", this._valueChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                  <div class=\\\"link-button-row\\\">\\n                    <button class=\\\"link\\\" @click=\", \">\\n                      \", \"\\n                    </button>\\n                  </div>\\n                \"])), this._addDescription, this.hass.localize(\"ui.panel.config.automation.editor.description.add\")), this.hass.localize(\"ui.panel.config.automation.editor.modes.description\", \"documentation_link\", (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<a\\n                  href=\", \"\\n                  target=\\\"_blank\\\"\\n                  rel=\\\"noreferrer\\\"\\n                  >\", \"</a\\n                >\"])), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/modes/\"), this.hass.localize(\"ui.panel.config.automation.editor.modes.documentation\"))), this.hass.localize(\"ui.panel.config.automation.editor.modes.label\"), this.config.mode || _data_automation__WEBPACK_IMPORTED_MODULE_8__.AUTOMATION_DEFAULT_MODE, this._modeChanged, _data_script__WEBPACK_IMPORTED_MODULE_9__.MODES.map(function (mode) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                  <mwc-list-item .value=\", \">\\n                    \", \"\\n                  </mwc-list-item>\\n                \"])), mode, _this2.hass.localize(\"ui.panel.config.automation.editor.modes.\".concat(mode)) || mode);\n        }), this.config.mode && _data_script__WEBPACK_IMPORTED_MODULE_9__.MODES_MAX.includes(this.config.mode) ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n                  <br /><ha-textfield\\n                    .label=\", \"\\n                    type=\\\"number\\\"\\n                    name=\\\"max\\\"\\n                    .value=\", \"\\n                    @change=\", \"\\n                    class=\\\"max\\\"\\n                  >\\n                  </ha-textfield>\\n                \"])), this.hass.localize(\"ui.panel.config.automation.editor.max.\".concat(this.config.mode)), this.config.max || \"10\", this._valueChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\"]))), this.stateObj ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n                <div class=\\\"card-actions layout horizontal justified center\\\">\\n                  <div class=\\\"layout horizontal center\\\">\\n                    <ha-entity-toggle\\n                      .hass=\", \"\\n                      .stateObj=\", \"\\n                    ></ha-entity-toggle>\\n                    \", \"\\n                  </div>\\n                  <div>\\n                    <a href=\\\"/config/automation/trace/\", \"\\\">\\n                      <mwc-button>\\n                        \", \"\\n                      </mwc-button>\\n                    </a>\\n                    <mwc-button\\n                      @click=\", \"\\n                      .stateObj=\", \"\\n                    >\\n                      \", \"\\n                    </mwc-button>\\n                  </div>\\n                </div>\\n              \"])), this.hass, this.stateObj, this.hass.localize(\"ui.panel.config.automation.editor.enable_disable\"), this.config.id, this.hass.localize(\"ui.panel.config.automation.editor.show_trace\"), this._runActions, this.stateObj, this.hass.localize(\"ui.card.automation.trigger\")) : \"\", this.isWide, this.hass.localize(\"ui.panel.config.automation.editor.triggers.header\"), this.hass.localize(\"ui.panel.config.automation.editor.triggers.introduction\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/trigger/\"), this.hass.localize(\"ui.panel.config.automation.editor.triggers.learn_more\"), this.config.trigger, this._triggerChanged, this.hass, this.isWide, this.hass.localize(\"ui.panel.config.automation.editor.conditions.header\"), this.hass.localize(\"ui.panel.config.automation.editor.conditions.introduction\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/scripts/conditions/\"), this.hass.localize(\"ui.panel.config.automation.editor.conditions.learn_more\"), this.config.condition || [], this._conditionChanged, this.hass, this.isWide, this.hass.localize(\"ui.panel.config.automation.editor.actions.header\"), this.hass.localize(\"ui.panel.config.automation.editor.actions.introduction\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/action/\"), this.hass.localize(\"ui.panel.config.automation.editor.actions.learn_more\"), this.config.action, this._actionChanged, this.hass, this.narrow);\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(HaManualAutomationEditor.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (!this._showDescription && changedProps.has(\"config\") && this.config.description) {\n          this._showDescription = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_runActions\",\n      value: function _runActions(ev) {\n        (0,_data_automation__WEBPACK_IMPORTED_MODULE_8__.triggerAutomationActions)(this.hass, ev.target.stateObj.entity_id);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        ev.stopPropagation();\n        var target = ev.target;\n        var name = target.name;\n\n        if (!name) {\n          return;\n        }\n\n        var newVal = target.value;\n\n        if (target.type === \"number\") {\n          newVal = Number(newVal);\n        }\n\n        if ((this.config[name] || \"\") === newVal) {\n          return;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, _defineProperty({}, name, newVal))\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_modeChanged\",\n      value: function _modeChanged(ev) {\n        var mode = ev.target.value;\n\n        if (mode === this.config.mode || !this.config.mode && mode === _data_script__WEBPACK_IMPORTED_MODULE_9__.MODES[0]) {\n          return;\n        }\n\n        var value = Object.assign({}, this.config, {\n          mode: mode\n        });\n\n        if (!_data_script__WEBPACK_IMPORTED_MODULE_9__.MODES_MAX.includes(mode)) {\n          delete value.max;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: value\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_triggerChanged\",\n      value: function _triggerChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, {\n            trigger: ev.detail.value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_conditionChanged\",\n      value: function _conditionChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, {\n            condition: ev.detail.value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_actionChanged\",\n      value: function _actionChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign({}, this.config, {\n            action: ev.detail.value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addDescription\",\n      value: function _addDescription() {\n        this._showDescription = true;\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_10__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n        ha-card {\\n          overflow: hidden;\\n        }\\n        .link-button-row {\\n          padding: 14px;\\n        }\\n        ha-textarea,\\n        ha-textfield {\\n          display: block;\\n        }\\n        span[slot=\\\"introduction\\\"] a {\\n          color: var(--primary-color);\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        ha-entity-toggle {\\n          margin-right: 8px;\\n        }\\n        ha-select,\\n        .max {\\n          margin-top: 16px;\\n          width: 200px;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL21hbnVhbC1hdXRvbWF0aW9uLWVkaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWFBOztBQUNBO0FBbUVBO0FBQUE7QUFpSkE7QUFsT0E7QUFBQTtBQUFBO0FBQUE7QUFxT0E7O0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUE3T0E7QUFBQTtBQUFBO0FBQUE7QUFnUEE7QUFDQTtBQWpQQTtBQUFBO0FBQUE7QUFBQTtBQW9QQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFwUUE7QUFBQTtBQUFBO0FBQUE7QUF1UUE7O0FBRUE7QUFJQTtBQUNBOztBQUNBO0FBRUE7QUFGQTs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQURBO0FBR0E7QUEzUkE7QUFBQTtBQUFBO0FBQUE7QUE4UkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFsU0E7QUFBQTtBQUFBO0FBQUE7QUFxU0E7QUFDQTtBQUNBO0FBRUE7QUFGQTtBQURBO0FBTUE7QUE1U0E7QUFBQTtBQUFBO0FBQUE7QUErU0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFuVEE7QUFBQTtBQUFBO0FBQUE7QUFzVEE7QUFDQTtBQXZUQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMFRBO0FBNkJBO0FBdlZBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi9tYW51YWwtYXV0b21hdGlvbi1lZGl0b3IudHM/MDlhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWJ1dHRvbi9td2MtYnV0dG9uXCI7XG5pbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvZW50aXR5L2hhLWVudGl0eS10b2dnbGVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS10ZXh0YXJlYVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS10ZXh0ZmllbGRcIjtcbmltcG9ydCB7XG4gIEFVVE9NQVRJT05fREVGQVVMVF9NT0RFLFxuICBDb25kaXRpb24sXG4gIE1hbnVhbEF1dG9tYXRpb25Db25maWcsXG4gIFRyaWdnZXIsXG4gIHRyaWdnZXJBdXRvbWF0aW9uQWN0aW9ucyxcbn0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHsgQWN0aW9uLCBNT0RFUywgTU9ERVNfTUFYIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvc2NyaXB0XCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgZG9jdW1lbnRhdGlvblVybCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2RvY3VtZW50YXRpb24tdXJsXCI7XG5pbXBvcnQgXCIuLi9oYS1jb25maWctc2VjdGlvblwiO1xuaW1wb3J0IFwiLi9hY3Rpb24vaGEtYXV0b21hdGlvbi1hY3Rpb25cIjtcbmltcG9ydCBcIi4vY29uZGl0aW9uL2hhLWF1dG9tYXRpb24tY29uZGl0aW9uXCI7XG5pbXBvcnQgXCIuL3RyaWdnZXIvaGEtYXV0b21hdGlvbi10cmlnZ2VyXCI7XG5cbkBjdXN0b21FbGVtZW50KFwibWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXCIpXG5leHBvcnQgY2xhc3MgSGFNYW51YWxBdXRvbWF0aW9uRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBpc1dpZGUhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBuYXJyb3chOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBjb25maWchOiBNYW51YWxBdXRvbWF0aW9uQ29uZmlnO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBzdGF0ZU9iaj86IEhhc3NFbnRpdHk7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfc2hvd0Rlc2NyaXB0aW9uID0gZmFsc2U7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8aGEtY29uZmlnLXNlY3Rpb24gdmVydGljYWwgLmlzV2lkZT0ke3RoaXMuaXNXaWRlfT5cbiAgICAgICAgJHshdGhpcy5uYXJyb3dcbiAgICAgICAgICA/IGh0bWxgPHNwYW4gc2xvdD1cImhlYWRlclwiPiR7dGhpcy5jb25maWcuYWxpYXN9PC9zcGFuPmBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDxzcGFuIHNsb3Q9XCJpbnRyb2R1Y3Rpb25cIj5cbiAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmludHJvZHVjdGlvblwiXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8aGEtY2FyZCBvdXRsaW5lZD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG4gICAgICAgICAgICA8aGEtdGV4dGZpZWxkXG4gICAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5hbGlhc1wiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG5hbWU9XCJhbGlhc1wiXG4gICAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMuY29uZmlnLmFsaWFzIHx8IFwiXCJ9XG4gICAgICAgICAgICAgIEBjaGFuZ2U9JHt0aGlzLl92YWx1ZUNoYW5nZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2hhLXRleHRmaWVsZD5cbiAgICAgICAgICAgICR7dGhpcy5fc2hvd0Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxoYS10ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGVzY3JpcHRpb24ubGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAucGxhY2Vob2xkZXI9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGVzY3JpcHRpb24ucGxhY2Vob2xkZXJcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICBhdXRvZ3Jvd1xuICAgICAgICAgICAgICAgICAgICAudmFsdWU9JHt0aGlzLmNvbmZpZy5kZXNjcmlwdGlvbiB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5fdmFsdWVDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgPjwvaGEtdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluay1idXR0b24tcm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsaW5rXCIgQGNsaWNrPSR7dGhpcy5fYWRkRGVzY3JpcHRpb259PlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGVzY3JpcHRpb24uYWRkXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IubW9kZXMuZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICBcImRvY3VtZW50YXRpb25fbGlua1wiLFxuICAgICAgICAgICAgICAgIGh0bWxgPGFcbiAgICAgICAgICAgICAgICAgIGhyZWY9JHtkb2N1bWVudGF0aW9uVXJsKHRoaXMuaGFzcywgXCIvZG9jcy9hdXRvbWF0aW9uL21vZGVzL1wiKX1cbiAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgID4ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IubW9kZXMuZG9jdW1lbnRhdGlvblwiXG4gICAgICAgICAgICAgICAgICApfTwvYVxuICAgICAgICAgICAgICAgID5gXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8aGEtc2VsZWN0XG4gICAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5tb2Rlcy5sYWJlbFwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMuY29uZmlnLm1vZGUgfHwgQVVUT01BVElPTl9ERUZBVUxUX01PREV9XG4gICAgICAgICAgICAgIEBzZWxlY3RlZD0ke3RoaXMuX21vZGVDaGFuZ2VkfVxuICAgICAgICAgICAgICBmaXhlZE1lbnVQb3NpdGlvblxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAke01PREVTLm1hcChcbiAgICAgICAgICAgICAgICAobW9kZSkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIC52YWx1ZT0ke21vZGV9PlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBgdWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLm1vZGVzLiR7bW9kZX1gXG4gICAgICAgICAgICAgICAgICAgICkgfHwgbW9kZX1cbiAgICAgICAgICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2hhLXNlbGVjdD5cbiAgICAgICAgICAgICR7dGhpcy5jb25maWcubW9kZSAmJiBNT0RFU19NQVguaW5jbHVkZXModGhpcy5jb25maWcubW9kZSlcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgPGJyIC8+PGhhLXRleHRmaWVsZFxuICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgYHVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5tYXguJHt0aGlzLmNvbmZpZy5tb2RlfWBcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJtYXhcIlxuICAgICAgICAgICAgICAgICAgICAudmFsdWU9JHt0aGlzLmNvbmZpZy5tYXggfHwgXCIxMFwifVxuICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5fdmFsdWVDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1heFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8L2hhLXRleHRmaWVsZD5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogaHRtbGBgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICR7dGhpcy5zdGF0ZU9ialxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWFjdGlvbnMgbGF5b3V0IGhvcml6b250YWwganVzdGlmaWVkIGNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dCBob3Jpem9udGFsIGNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aGEtZW50aXR5LXRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke3RoaXMuc3RhdGVPYmohfVxuICAgICAgICAgICAgICAgICAgICA+PC9oYS1lbnRpdHktdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5lbmFibGVfZGlzYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvY29uZmlnL2F1dG9tYXRpb24vdHJhY2UvJHt0aGlzLmNvbmZpZy5pZH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5zaG93X3RyYWNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxtd2MtYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fcnVuQWN0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHt0aGlzLnN0YXRlT2JqfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24udHJpZ2dlclwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgPC9oYS1jYXJkPlxuICAgICAgPC9oYS1jb25maWctc2VjdGlvbj5cblxuICAgICAgPGhhLWNvbmZpZy1zZWN0aW9uIHZlcnRpY2FsIC5pc1dpZGU9JHt0aGlzLmlzV2lkZX0+XG4gICAgICAgIDxzcGFuIHNsb3Q9XCJoZWFkZXJcIj5cbiAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnRyaWdnZXJzLmhlYWRlclwiXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBzbG90PVwiaW50cm9kdWN0aW9uXCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IudHJpZ2dlcnMuaW50cm9kdWN0aW9uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3MvYXV0b21hdGlvbi90cmlnZ2VyL1wiKX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IudHJpZ2dlcnMubGVhcm5fbW9yZVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8aGEtYXV0b21hdGlvbi10cmlnZ2VyXG4gICAgICAgICAgLnRyaWdnZXJzPSR7dGhpcy5jb25maWcudHJpZ2dlcn1cbiAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3RyaWdnZXJDaGFuZ2VkfVxuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICA+PC9oYS1hdXRvbWF0aW9uLXRyaWdnZXI+XG4gICAgICA8L2hhLWNvbmZpZy1zZWN0aW9uPlxuXG4gICAgICA8aGEtY29uZmlnLXNlY3Rpb24gdmVydGljYWwgLmlzV2lkZT0ke3RoaXMuaXNXaWRlfT5cbiAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRlclwiPlxuICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuY29uZGl0aW9ucy5oZWFkZXJcIlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gc2xvdD1cImludHJvZHVjdGlvblwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmNvbmRpdGlvbnMuaW50cm9kdWN0aW9uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3Mvc2NyaXB0cy9jb25kaXRpb25zL1wiKX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuY29uZGl0aW9ucy5sZWFybl9tb3JlXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxoYS1hdXRvbWF0aW9uLWNvbmRpdGlvblxuICAgICAgICAgIC5jb25kaXRpb25zPSR7dGhpcy5jb25maWcuY29uZGl0aW9uIHx8IFtdfVxuICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fY29uZGl0aW9uQ2hhbmdlZH1cbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgPjwvaGEtYXV0b21hdGlvbi1jb25kaXRpb24+XG4gICAgICA8L2hhLWNvbmZpZy1zZWN0aW9uPlxuXG4gICAgICA8aGEtY29uZmlnLXNlY3Rpb24gdmVydGljYWwgLmlzV2lkZT0ke3RoaXMuaXNXaWRlfT5cbiAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRlclwiPlxuICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYWN0aW9ucy5oZWFkZXJcIlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gc2xvdD1cImludHJvZHVjdGlvblwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmFjdGlvbnMuaW50cm9kdWN0aW9uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3MvYXV0b21hdGlvbi9hY3Rpb24vXCIpfVxuICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5hY3Rpb25zLmxlYXJuX21vcmVcIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGhhLWF1dG9tYXRpb24tYWN0aW9uXG4gICAgICAgICAgLmFjdGlvbnM9JHt0aGlzLmNvbmZpZy5hY3Rpb259XG4gICAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl9hY3Rpb25DaGFuZ2VkfVxuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgPjwvaGEtYXV0b21hdGlvbi1hY3Rpb24+XG4gICAgICA8L2hhLWNvbmZpZy1zZWN0aW9uPmA7XG4gIH1cblxuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7XG4gICAgc3VwZXIud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHMpO1xuICAgIGlmIChcbiAgICAgICF0aGlzLl9zaG93RGVzY3JpcHRpb24gJiZcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJjb25maWdcIikgJiZcbiAgICAgIHRoaXMuY29uZmlnLmRlc2NyaXB0aW9uXG4gICAgKSB7XG4gICAgICB0aGlzLl9zaG93RGVzY3JpcHRpb24gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3J1bkFjdGlvbnMoZXY6IEV2ZW50KSB7XG4gICAgdHJpZ2dlckF1dG9tYXRpb25BY3Rpb25zKHRoaXMuaGFzcywgKGV2LnRhcmdldCBhcyBhbnkpLnN0YXRlT2JqLmVudGl0eV9pZCk7XG4gIH1cblxuICBwcml2YXRlIF92YWx1ZUNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIGFueTtcbiAgICBjb25zdCBuYW1lID0gdGFyZ2V0Lm5hbWU7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZXdWYWwgPSB0YXJnZXQudmFsdWU7XG4gICAgaWYgKHRhcmdldC50eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBuZXdWYWwgPSBOdW1iZXIobmV3VmFsKTtcbiAgICB9XG4gICAgaWYgKCh0aGlzLmNvbmZpZyFbbmFtZV0gfHwgXCJcIikgPT09IG5ld1ZhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7IC4uLnRoaXMuY29uZmlnISwgW25hbWVdOiBuZXdWYWwgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX21vZGVDaGFuZ2VkKGV2KSB7XG4gICAgY29uc3QgbW9kZSA9IGV2LnRhcmdldC52YWx1ZTtcblxuICAgIGlmIChcbiAgICAgIG1vZGUgPT09IHRoaXMuY29uZmlnIS5tb2RlIHx8XG4gICAgICAoIXRoaXMuY29uZmlnIS5tb2RlICYmIG1vZGUgPT09IE1PREVTWzBdKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHtcbiAgICAgIC4uLnRoaXMuY29uZmlnISxcbiAgICAgIG1vZGUsXG4gICAgfTtcblxuICAgIGlmICghTU9ERVNfTUFYLmluY2x1ZGVzKG1vZGUpKSB7XG4gICAgICBkZWxldGUgdmFsdWUubWF4O1xuICAgIH1cblxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWUsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF90cmlnZ2VyQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpOiB2b2lkIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7IC4uLnRoaXMuY29uZmlnISwgdHJpZ2dlcjogZXYuZGV0YWlsLnZhbHVlIGFzIFRyaWdnZXJbXSB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29uZGl0aW9uQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpOiB2b2lkIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnISxcbiAgICAgICAgY29uZGl0aW9uOiBldi5kZXRhaWwudmFsdWUgYXMgQ29uZGl0aW9uW10sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWN0aW9uQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpOiB2b2lkIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7IC4uLnRoaXMuY29uZmlnISwgYWN0aW9uOiBldi5kZXRhaWwudmFsdWUgYXMgQWN0aW9uW10gfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2FkZERlc2NyaXB0aW9uKCkge1xuICAgIHRoaXMuX3Nob3dEZXNjcmlwdGlvbiA9IHRydWU7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGUsXG4gICAgICBjc3NgXG4gICAgICAgIGhhLWNhcmQge1xuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIH1cbiAgICAgICAgLmxpbmstYnV0dG9uLXJvdyB7XG4gICAgICAgICAgcGFkZGluZzogMTRweDtcbiAgICAgICAgfVxuICAgICAgICBoYS10ZXh0YXJlYSxcbiAgICAgICAgaGEtdGV4dGZpZWxkIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBzcGFuW3Nsb3Q9XCJpbnRyb2R1Y3Rpb25cIl0gYSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIHAge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgIH1cbiAgICAgICAgaGEtZW50aXR5LXRvZ2dsZSB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgICAgIH1cbiAgICAgICAgaGEtc2VsZWN0LFxuICAgICAgICAubWF4IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICAgICAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJtYW51YWwtYXV0b21hdGlvbi1lZGl0b3JcIjogSGFNYW51YWxBdXRvbWF0aW9uRWRpdG9yO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/manual-automation-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/show-dialog-new-automation.ts":
/*!********************************************************************!*\
  !*** ./src/panels/config/automation/show-dialog-new-automation.ts ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadNewAutomationDialog\": function() { return /* binding */ loadNewAutomationDialog; },\n/* harmony export */   \"showNewAutomationDialog\": function() { return /* binding */ showNewAutomationDialog; }\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nvar loadNewAutomationDialog = function loadNewAutomationDialog() {\n  return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_panels_config_automation_dialog-new-automation_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-new-automation */ \"./src/panels/config/automation/dialog-new-automation.ts\"));\n};\nvar showNewAutomationDialog = function showNewAutomationDialog(element) {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"ha-dialog-new-automation\",\n    dialogImport: loadNewAutomationDialog,\n    dialogParams: {}\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL3Nob3ctZGlhbG9nLW5ldy1hdXRvbWF0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vc2hvdy1kaWFsb2ctbmV3LWF1dG9tYXRpb24udHM/NjM3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5cbmV4cG9ydCBjb25zdCBsb2FkTmV3QXV0b21hdGlvbkRpYWxvZyA9ICgpID0+IGltcG9ydChcIi4vZGlhbG9nLW5ldy1hdXRvbWF0aW9uXCIpO1xuXG5leHBvcnQgY29uc3Qgc2hvd05ld0F1dG9tYXRpb25EaWFsb2cgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcbiAgZmlyZUV2ZW50KGVsZW1lbnQsIFwic2hvdy1kaWFsb2dcIiwge1xuICAgIGRpYWxvZ1RhZzogXCJoYS1kaWFsb2ctbmV3LWF1dG9tYXRpb25cIixcbiAgICBkaWFsb2dJbXBvcnQ6IGxvYWROZXdBdXRvbWF0aW9uRGlhbG9nLFxuICAgIGRpYWxvZ1BhcmFtczoge30sXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/config/automation/show-dialog-new-automation.ts\n");

/***/ })

}]);