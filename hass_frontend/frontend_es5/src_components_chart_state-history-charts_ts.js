"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_components_chart_state-history-charts_ts"],{

/***/ "./src/common/decorators/restore-scroll.ts":
/*!*************************************************!*\
  !*** ./src/common/decorators/restore-scroll.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   restoreScroll: function() { return /* binding */ restoreScroll; }\n/* harmony export */ });\n/* harmony import */ var _util_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/throttle */ \"./src/common/util/throttle.ts\");\n\nvar throttleReplaceState = (0,_util_throttle__WEBPACK_IMPORTED_MODULE_0__.throttle)(function (value) {\n  history.replaceState({\n    scrollPosition: value\n  }, \"\");\n}, 300);\nvar restoreScroll = function restoreScroll(selector) {\n  return function (element) {\n    return {\n      kind: \"method\",\n      placement: \"prototype\",\n      key: element.key,\n      descriptor: {\n        set: function set(value) {\n          throttleReplaceState(value);\n          this[\"__\".concat(String(element.key))] = value;\n        },\n        get: function get() {\n          var _history$state;\n          return this[\"__\".concat(String(element.key))] || ((_history$state = history.state) === null || _history$state === void 0 ? void 0 : _history$state.scrollPosition);\n        },\n        enumerable: true,\n        configurable: true\n      },\n      finisher: function finisher(cls) {\n        var connectedCallback = cls.prototype.connectedCallback;\n        cls.prototype.connectedCallback = function () {\n          var _this = this;\n          connectedCallback.call(this);\n          var scrollPos = this[element.key];\n          if (scrollPos) {\n            this.updateComplete.then(function () {\n              var target = _this.renderRoot.querySelector(selector);\n              if (!target) {\n                return;\n              }\n              setTimeout(function () {\n                target.scrollTop = scrollPos;\n              }, 0);\n            });\n          }\n        };\n      }\n    };\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2RlY29yYXRvcnMvcmVzdG9yZS1zY3JvbGwudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9kZWNvcmF0b3JzL3Jlc3RvcmUtc2Nyb2xsLnRzP2I2N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHR5cGUgeyBDbGFzc0VsZW1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSBcIi4uL3V0aWwvdGhyb3R0bGVcIjtcblxuY29uc3QgdGhyb3R0bGVSZXBsYWNlU3RhdGUgPSB0aHJvdHRsZSgodmFsdWUpID0+IHtcbiAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBzY3JvbGxQb3NpdGlvbjogdmFsdWUgfSwgXCJcIik7XG59LCAzMDApO1xuXG5leHBvcnQgY29uc3QgcmVzdG9yZVNjcm9sbCA9XG4gIChzZWxlY3Rvcjogc3RyaW5nKTogYW55ID0+XG4gIChlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+ICh7XG4gICAga2luZDogXCJtZXRob2RcIixcbiAgICBwbGFjZW1lbnQ6IFwicHJvdG90eXBlXCIsXG4gICAga2V5OiBlbGVtZW50LmtleSxcbiAgICBkZXNjcmlwdG9yOiB7XG4gICAgICBzZXQodGhpczogTGl0RWxlbWVudCwgdmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aHJvdHRsZVJlcGxhY2VTdGF0ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXNbYF9fJHtTdHJpbmcoZWxlbWVudC5rZXkpfWBdID0gdmFsdWU7XG4gICAgICB9LFxuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB0aGlzW2BfXyR7U3RyaW5nKGVsZW1lbnQua2V5KX1gXSB8fCBoaXN0b3J5LnN0YXRlPy5zY3JvbGxQb3NpdGlvblxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSxcbiAgICBmaW5pc2hlcihjbHM6IHR5cGVvZiBMaXRFbGVtZW50KSB7XG4gICAgICBjb25zdCBjb25uZWN0ZWRDYWxsYmFjayA9IGNscy5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s7XG4gICAgICBjbHMucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSB0aGlzW2VsZW1lbnQua2V5XTtcbiAgICAgICAgaWYgKHNjcm9sbFBvcykge1xuICAgICAgICAgIHRoaXMudXBkYXRlQ29tcGxldGUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGFyZ2V0LnNjcm9sbFRvcCA9IHNjcm9sbFBvcztcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/decorators/restore-scroll.ts\n");

/***/ }),

/***/ "./src/common/util/throttle.ts":
/*!*************************************!*\
  !*** ./src/common/util/throttle.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   throttle: function() { return /* binding */ throttle; }\n/* harmony export */ });\n// From: underscore.js https://github.com/jashkenas/underscore/blob/master/underscore.js\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `false for leading`. To disable execution on the trailing edge, ditto.\nvar throttle = function throttle(func, wait) {\n  var leading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var trailing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var timeout;\n  var previous = 0;\n  var throttledFunc = function throttledFunc() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var later = function later() {\n      previous = leading === false ? 0 : Date.now();\n      timeout = undefined;\n      func.apply(void 0, args);\n    };\n    var now = Date.now();\n    if (!previous && leading === false) {\n      previous = now;\n    }\n    var remaining = wait - (now - previous);\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n      previous = now;\n      func.apply(void 0, args);\n    } else if (!timeout && trailing !== false) {\n      timeout = window.setTimeout(later, remaining);\n    }\n  };\n  throttledFunc.cancel = function () {\n    clearTimeout(timeout);\n    timeout = undefined;\n    previous = 0;\n  };\n  return throttledFunc;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvdGhyb3R0bGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRkE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi91dGlsL3Rocm90dGxlLnRzP2Y4YjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRnJvbTogdW5kZXJzY29yZS5qcyBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvYmxvYi9tYXN0ZXIvdW5kZXJzY29yZS5qc1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2Vcbi8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3Ncbi8vIGBmYWxzZSBmb3IgbGVhZGluZ2AuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbmV4cG9ydCBjb25zdCB0aHJvdHRsZSA9IDxUIGV4dGVuZHMgYW55W10+KFxuICBmdW5jOiAoLi4uYXJnczogVCkgPT4gdm9pZCxcbiAgd2FpdDogbnVtYmVyLFxuICBsZWFkaW5nID0gdHJ1ZSxcbiAgdHJhaWxpbmcgPSB0cnVlXG4pID0+IHtcbiAgbGV0IHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgbGV0IHByZXZpb3VzID0gMDtcbiAgY29uc3QgdGhyb3R0bGVkRnVuYyA9ICguLi5hcmdzOiBUKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICBwcmV2aW91cyA9IGxlYWRpbmcgPT09IGZhbHNlID8gMCA6IERhdGUubm93KCk7XG4gICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKCFwcmV2aW91cyAmJiBsZWFkaW5nID09PSBmYWxzZSkge1xuICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgfVxuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICBpZiAodGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiB0cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gIH07XG4gIHRocm90dGxlZEZ1bmMuY2FuY2VsID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIHByZXZpb3VzID0gMDtcbiAgfTtcbiAgcmV0dXJuIHRocm90dGxlZEZ1bmM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/util/throttle.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-chart-line.ts":
/*!**********************************************************!*\
  !*** ./src/components/chart/state-history-chart-line.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_color_colors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/color/colors */ \"./src/common/color/colors.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/util/compute_rtl */ \"./src/common/util/compute_rtl.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _ha_chart_base__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\n\n\n\n\n\n\n\nvar _templateObject;\n\n\n\n\n\n\n\nvar safeParseFloat = function safeParseFloat(value) {\n  var parsed = parseFloat(value);\n  return isFinite(parsed) ? parsed : null;\n};\nvar StateHistoryChartLine = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(null, function (_initialize, _LitElement) {\n  var StateHistoryChartLine = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(StateHistoryChartLine, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(StateHistoryChartLine);\n    function StateHistoryChartLine() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, StateHistoryChartLine);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(StateHistoryChartLine);\n  }(_LitElement);\n  return {\n    F: StateHistoryChartLine,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"data\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"names\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"identifier\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Boolean\n      })],\n      key: \"showNames\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Number\n      })],\n      key: \"paddingYAxis\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Number\n      })],\n      key: \"chartIndex\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_chartData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_chartOptions\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_yWidth\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_chartTime\",\n      value: function value() {\n        return new Date();\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_7__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n      <ha-chart-base\\n        .hass=\", \"\\n        .data=\", \"\\n        .options=\", \"\\n        .paddingYAxis=\", \"\\n        chart-type=\\\"line\\\"\\n      ></ha-chart-base>\\n    \"])), this.hass, this._chartData, this._chartOptions, this.paddingYAxis - this._yWidth);\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        var _this2 = this;\n        if (!this.hasUpdated || changedProps.has(\"showNames\")) {\n          this._chartOptions = {\n            parsing: false,\n            animation: false,\n            interaction: {\n              mode: \"nearest\",\n              axis: \"xy\"\n            },\n            scales: {\n              x: {\n                type: \"time\",\n                adapters: {\n                  date: {\n                    locale: this.hass.locale\n                  }\n                },\n                suggestedMax: this.endTime,\n                ticks: {\n                  maxRotation: 0,\n                  sampleSize: 5,\n                  autoSkipPadding: 20,\n                  major: {\n                    enabled: true\n                  },\n                  font: function font(context) {\n                    return context.tick && context.tick.major ? {\n                      weight: \"bold\"\n                    } : {};\n                  }\n                },\n                time: {\n                  tooltipFormat: \"datetimeseconds\"\n                }\n              },\n              y: {\n                ticks: {\n                  maxTicksLimit: 7\n                },\n                title: {\n                  display: true,\n                  text: this.unit\n                },\n                afterUpdate: function afterUpdate(y) {\n                  if (_this2._yWidth !== Math.floor(y.width)) {\n                    _this2._yWidth = Math.floor(y.width);\n                    (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_10__.fireEvent)(_this2, \"y-width-changed\", {\n                      value: _this2._yWidth,\n                      chartIndex: _this2.chartIndex\n                    });\n                  }\n                },\n                position: (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_11__.computeRTL)(this.hass) ? \"right\" : \"left\"\n              }\n            },\n            plugins: {\n              tooltip: {\n                callbacks: {\n                  label: function label(context) {\n                    return \"\".concat(context.dataset.label, \": \").concat((0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_12__.formatNumber)(context.parsed.y, _this2.hass.locale), \" \").concat(_this2.unit);\n                  }\n                }\n              },\n              filler: {\n                propagate: true\n              },\n              legend: {\n                display: this.showNames,\n                labels: {\n                  usePointStyle: true\n                }\n              }\n            },\n            elements: {\n              line: {\n                tension: 0.1,\n                borderWidth: 1.5\n              },\n              point: {\n                hitRadius: 50\n              }\n            },\n            // @ts-expect-error\n            locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_12__.numberFormatToLocale)(this.hass.locale)\n          };\n        }\n        if (changedProps.has(\"data\") || this._chartTime < new Date(this.endTime.getTime() - _ha_chart_base__WEBPACK_IMPORTED_MODULE_13__.MIN_TIME_BETWEEN_UPDATES)) {\n          // If the line is more than 5 minutes old, re-gen it\n          // so the X axis grows even if there is no new data\n          this._generateData();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_generateData\",\n      value: function _generateData() {\n        var _this3 = this;\n        var colorIndex = 0;\n        var computedStyles = getComputedStyle(this);\n        var entityStates = this.data;\n        var datasets = [];\n        if (entityStates.length === 0) {\n          return;\n        }\n        this._chartTime = new Date();\n        var endTime = this.endTime;\n        var names = this.names || {};\n        entityStates.forEach(function (states) {\n          var domain = states.domain;\n          var name = names[states.entity_id] || states.name;\n          // array containing [value1, value2, etc]\n          var prevValues = null;\n          var data = [];\n          var pushData = function pushData(timestamp, datavalues) {\n            if (!datavalues) return;\n            if (timestamp > endTime) {\n              // Drop data points that are after the requested endTime. This could happen if\n              // endTime is \"now\" and client time is not in sync with server time.\n              return;\n            }\n            data.forEach(function (d, i) {\n              if (datavalues[i] === null && prevValues && prevValues[i] !== null) {\n                // null data values show up as gaps in the chart.\n                // If the current value for the dataset is null and the previous\n                // value of the data set is not null, then add an 'end' point\n                // to the chart for the previous value. Otherwise the gap will\n                // be too big. It will go from the start of the previous data\n                // value until the start of the next data value.\n                d.data.push({\n                  x: timestamp.getTime(),\n                  y: prevValues[i]\n                });\n              }\n              d.data.push({\n                x: timestamp.getTime(),\n                y: datavalues[i]\n              });\n            });\n            prevValues = datavalues;\n          };\n          var addDataSet = function addDataSet(nameY) {\n            var fill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var color = arguments.length > 2 ? arguments[2] : undefined;\n            if (!color) {\n              color = (0,_common_color_colors__WEBPACK_IMPORTED_MODULE_9__.getGraphColorByIndex)(colorIndex, computedStyles);\n              colorIndex++;\n            }\n            data.push({\n              label: nameY,\n              fill: fill ? \"origin\" : false,\n              borderColor: color,\n              backgroundColor: color + \"7F\",\n              stepped: \"before\",\n              pointRadius: 0,\n              data: []\n            });\n          };\n          if (domain === \"thermostat\" || domain === \"climate\" || domain === \"water_heater\") {\n            var hasHvacAction = states.states.some(function (entityState) {\n              var _entityState$attribut;\n              return (_entityState$attribut = entityState.attributes) === null || _entityState$attribut === void 0 ? void 0 : _entityState$attribut.hvac_action;\n            });\n            var isHeating = domain === \"climate\" && hasHvacAction ? function (entityState) {\n              var _entityState$attribut2;\n              return ((_entityState$attribut2 = entityState.attributes) === null || _entityState$attribut2 === void 0 ? void 0 : _entityState$attribut2.hvac_action) === \"heating\";\n            } : function (entityState) {\n              return entityState.state === \"heat\";\n            };\n            var isCooling = domain === \"climate\" && hasHvacAction ? function (entityState) {\n              var _entityState$attribut3;\n              return ((_entityState$attribut3 = entityState.attributes) === null || _entityState$attribut3 === void 0 ? void 0 : _entityState$attribut3.hvac_action) === \"cooling\";\n            } : function (entityState) {\n              return entityState.state === \"cool\";\n            };\n            var hasHeat = states.states.some(isHeating);\n            var hasCool = states.states.some(isCooling);\n            // We differentiate between thermostats that have a target temperature\n            // range versus ones that have just a target temperature\n\n            // Using step chart by step-before so manually interpolation not needed.\n            var hasTargetRange = states.states.some(function (entityState) {\n              return entityState.attributes && entityState.attributes.target_temp_high !== entityState.attributes.target_temp_low;\n            });\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.current_temperature\", {\n              name: name\n            })));\n            if (hasHeat) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.heating\", {\n                name: name\n              })), true, computedStyles.getPropertyValue(\"--state-climate-heat-color\"));\n              // The \"heating\" series uses steppedArea to shade the area below the current\n              // temperature when the thermostat is calling for heat.\n            }\n\n            if (hasCool) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.cooling\", {\n                name: name\n              })), true, computedStyles.getPropertyValue(\"--state-climate-cool-color\"));\n              // The \"cooling\" series uses steppedArea to shade the area below the current\n              // temperature when the thermostat is calling for heat.\n            }\n\n            if (hasTargetRange) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_mode\", {\n                name: name,\n                mode: _this3.hass.localize(\"ui.card.climate.high\")\n              })));\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_mode\", {\n                name: name,\n                mode: _this3.hass.localize(\"ui.card.climate.low\")\n              })));\n            } else {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_entity\", {\n                name: name\n              })));\n            }\n            states.states.forEach(function (entityState) {\n              if (!entityState.attributes) return;\n              var curTemp = safeParseFloat(entityState.attributes.current_temperature);\n              var series = [curTemp];\n              if (hasHeat) {\n                series.push(isHeating(entityState) ? curTemp : null);\n              }\n              if (hasCool) {\n                series.push(isCooling(entityState) ? curTemp : null);\n              }\n              if (hasTargetRange) {\n                var targetHigh = safeParseFloat(entityState.attributes.target_temp_high);\n                var targetLow = safeParseFloat(entityState.attributes.target_temp_low);\n                series.push(targetHigh, targetLow);\n                pushData(new Date(entityState.last_changed), series);\n              } else {\n                var target = safeParseFloat(entityState.attributes.temperature);\n                series.push(target);\n                pushData(new Date(entityState.last_changed), series);\n              }\n            });\n          } else if (domain === \"humidifier\") {\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.humidifier.target_humidity_entity\", {\n              name: name\n            })));\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.humidifier.on_entity\", {\n              name: name\n            })), true);\n            states.states.forEach(function (entityState) {\n              if (!entityState.attributes) return;\n              var target = safeParseFloat(entityState.attributes.humidity);\n              var series = [target];\n              series.push(entityState.state === \"on\" ? target : null);\n              pushData(new Date(entityState.last_changed), series);\n            });\n          } else {\n            addDataSet(name);\n            var lastValue;\n            var lastDate;\n            var lastNullDate = null;\n\n            // Process chart data.\n            // When state is `unknown`, calculate the value and break the line.\n            states.states.forEach(function (entityState) {\n              var value = safeParseFloat(entityState.state);\n              var date = new Date(entityState.last_changed);\n              if (value !== null && lastNullDate) {\n                var _lastDate;\n                var dateTime = date.getTime();\n                var lastNullDateTime = lastNullDate.getTime();\n                var lastDateTime = (_lastDate = lastDate) === null || _lastDate === void 0 ? void 0 : _lastDate.getTime();\n                var tmpValue = (value - lastValue) * ((lastNullDateTime - lastDateTime) / (dateTime - lastDateTime)) + lastValue;\n                pushData(lastNullDate, [tmpValue]);\n                pushData(new Date(lastNullDateTime + 1), [null]);\n                pushData(date, [value]);\n                lastDate = date;\n                lastValue = value;\n                lastNullDate = null;\n              } else if (value !== null && lastNullDate === null) {\n                pushData(date, [value]);\n                lastDate = date;\n                lastValue = value;\n              } else if (value === null && lastNullDate === null && lastValue !== undefined) {\n                lastNullDate = date;\n              }\n            });\n          }\n\n          // Add an entry for final values\n          pushData(endTime, prevValues);\n\n          // Concat two arrays\n          Array.prototype.push.apply(datasets, data);\n        });\n        this._chartData = {\n          datasets: datasets\n        };\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_7__.LitElement);\ncustomElements.define(\"state-history-chart-line\", StateHistoryChartLine);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2NoYXJ0L3N0YXRlLWhpc3RvcnktY2hhcnQtbGluZS50cz8zZTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2hhcnREYXRhLCBDaGFydERhdGFzZXQsIENoYXJ0T3B0aW9ucyB9IGZyb20gXCJjaGFydC5qc1wiO1xuaW1wb3J0IHsgaHRtbCwgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGdldEdyYXBoQ29sb3JCeUluZGV4IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvci9jb2xvcnNcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVSVEwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3V0aWwvY29tcHV0ZV9ydGxcIjtcbmltcG9ydCB7XG4gIGZvcm1hdE51bWJlcixcbiAgbnVtYmVyRm9ybWF0VG9Mb2NhbGUsXG59IGZyb20gXCIuLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCB7IExpbmVDaGFydEVudGl0eSwgTGluZUNoYXJ0U3RhdGUgfSBmcm9tIFwiLi4vLi4vZGF0YS9oaXN0b3J5XCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBNSU5fVElNRV9CRVRXRUVOX1VQREFURVMgfSBmcm9tIFwiLi9oYS1jaGFydC1iYXNlXCI7XG5cbmNvbnN0IHNhZmVQYXJzZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICByZXR1cm4gaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IG51bGw7XG59O1xuXG5jbGFzcyBTdGF0ZUhpc3RvcnlDaGFydExpbmUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZGF0YTogTGluZUNoYXJ0RW50aXR5W10gPSBbXTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFtZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyB1bml0Pzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBpZGVudGlmaWVyPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIHNob3dOYW1lcyA9IHRydWU7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZW5kVGltZSE6IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogTnVtYmVyIH0pIHB1YmxpYyBwYWRkaW5nWUF4aXMgPSAwO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KSBwdWJsaWMgY2hhcnRJbmRleD87XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhcnREYXRhPzogQ2hhcnREYXRhPFwibGluZVwiPjtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jaGFydE9wdGlvbnM/OiBDaGFydE9wdGlvbnM7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfeVdpZHRoID0gMDtcblxuICBwcml2YXRlIF9jaGFydFRpbWU6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY2hhcnQtYmFzZVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLmRhdGE9JHt0aGlzLl9jaGFydERhdGF9XG4gICAgICAgIC5vcHRpb25zPSR7dGhpcy5fY2hhcnRPcHRpb25zfVxuICAgICAgICAucGFkZGluZ1lBeGlzPSR7dGhpcy5wYWRkaW5nWUF4aXMgLSB0aGlzLl95V2lkdGh9XG4gICAgICAgIGNoYXJ0LXR5cGU9XCJsaW5lXCJcbiAgICAgID48L2hhLWNoYXJ0LWJhc2U+XG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCB8fCBjaGFuZ2VkUHJvcHMuaGFzKFwic2hvd05hbWVzXCIpKSB7XG4gICAgICB0aGlzLl9jaGFydE9wdGlvbnMgPSB7XG4gICAgICAgIHBhcnNpbmc6IGZhbHNlLFxuICAgICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgICBpbnRlcmFjdGlvbjoge1xuICAgICAgICAgIG1vZGU6IFwibmVhcmVzdFwiLFxuICAgICAgICAgIGF4aXM6IFwieHlcIixcbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgeDoge1xuICAgICAgICAgICAgdHlwZTogXCJ0aW1lXCIsXG4gICAgICAgICAgICBhZGFwdGVyczoge1xuICAgICAgICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Z2dlc3RlZE1heDogdGhpcy5lbmRUaW1lLFxuICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgbWF4Um90YXRpb246IDAsXG4gICAgICAgICAgICAgIHNhbXBsZVNpemU6IDUsXG4gICAgICAgICAgICAgIGF1dG9Ta2lwUGFkZGluZzogMjAsXG4gICAgICAgICAgICAgIG1ham9yOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZm9udDogKGNvbnRleHQpID0+XG4gICAgICAgICAgICAgICAgY29udGV4dC50aWNrICYmIGNvbnRleHQudGljay5tYWpvclxuICAgICAgICAgICAgICAgICAgPyAoeyB3ZWlnaHQ6IFwiYm9sZFwiIH0gYXMgYW55KVxuICAgICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aW1lOiB7XG4gICAgICAgICAgICAgIHRvb2x0aXBGb3JtYXQ6IFwiZGF0ZXRpbWVzZWNvbmRzXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeToge1xuICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgbWF4VGlja3NMaW1pdDogNyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnVuaXQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWZ0ZXJVcGRhdGU6ICh5KSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl95V2lkdGggIT09IE1hdGguZmxvb3IoeS53aWR0aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95V2lkdGggPSBNYXRoLmZsb29yKHkud2lkdGgpO1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudCh0aGlzLCBcInktd2lkdGgtY2hhbmdlZFwiLCB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5feVdpZHRoLFxuICAgICAgICAgICAgICAgICAgY2hhcnRJbmRleDogdGhpcy5jaGFydEluZGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zaXRpb246IGNvbXB1dGVSVEwodGhpcy5oYXNzKSA/IFwicmlnaHRcIiA6IFwibGVmdFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgbGFiZWw6IChjb250ZXh0KSA9PlxuICAgICAgICAgICAgICAgIGAke2NvbnRleHQuZGF0YXNldC5sYWJlbH06ICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgY29udGV4dC5wYXJzZWQueSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICAgICAgICAgICApfSAke3RoaXMudW5pdH1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbGxlcjoge1xuICAgICAgICAgICAgcHJvcGFnYXRlOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnNob3dOYW1lcyxcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICB1c2VQb2ludFN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBlbGVtZW50czoge1xuICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIHRlbnNpb246IDAuMSxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLjUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgaGl0UmFkaXVzOiA1MCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGxvY2FsZTogbnVtYmVyRm9ybWF0VG9Mb2NhbGUodGhpcy5oYXNzLmxvY2FsZSksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiZGF0YVwiKSB8fFxuICAgICAgdGhpcy5fY2hhcnRUaW1lIDxcbiAgICAgICAgbmV3IERhdGUodGhpcy5lbmRUaW1lLmdldFRpbWUoKSAtIE1JTl9USU1FX0JFVFdFRU5fVVBEQVRFUylcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBsaW5lIGlzIG1vcmUgdGhhbiA1IG1pbnV0ZXMgb2xkLCByZS1nZW4gaXRcbiAgICAgIC8vIHNvIHRoZSBYIGF4aXMgZ3Jvd3MgZXZlbiBpZiB0aGVyZSBpcyBubyBuZXcgZGF0YVxuICAgICAgdGhpcy5fZ2VuZXJhdGVEYXRhKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2VuZXJhdGVEYXRhKCkge1xuICAgIGxldCBjb2xvckluZGV4ID0gMDtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgY29uc3QgZW50aXR5U3RhdGVzID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGRhdGFzZXRzOiBDaGFydERhdGFzZXQ8XCJsaW5lXCI+W10gPSBbXTtcbiAgICBpZiAoZW50aXR5U3RhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NoYXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZW5kVGltZSA9IHRoaXMuZW5kVGltZTtcbiAgICBjb25zdCBuYW1lcyA9IHRoaXMubmFtZXMgfHwge307XG4gICAgZW50aXR5U3RhdGVzLmZvckVhY2goKHN0YXRlcykgPT4ge1xuICAgICAgY29uc3QgZG9tYWluID0gc3RhdGVzLmRvbWFpbjtcbiAgICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tzdGF0ZXMuZW50aXR5X2lkXSB8fCBzdGF0ZXMubmFtZTtcbiAgICAgIC8vIGFycmF5IGNvbnRhaW5pbmcgW3ZhbHVlMSwgdmFsdWUyLCBldGNdXG4gICAgICBsZXQgcHJldlZhbHVlczogYW55W10gfCBudWxsID0gbnVsbDtcblxuICAgICAgY29uc3QgZGF0YTogQ2hhcnREYXRhc2V0PFwibGluZVwiPltdID0gW107XG5cbiAgICAgIGNvbnN0IHB1c2hEYXRhID0gKHRpbWVzdGFtcDogRGF0ZSwgZGF0YXZhbHVlczogYW55W10gfCBudWxsKSA9PiB7XG4gICAgICAgIGlmICghZGF0YXZhbHVlcykgcmV0dXJuO1xuICAgICAgICBpZiAodGltZXN0YW1wID4gZW5kVGltZSkge1xuICAgICAgICAgIC8vIERyb3AgZGF0YSBwb2ludHMgdGhhdCBhcmUgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBlbmRUaW1lLiBUaGlzIGNvdWxkIGhhcHBlbiBpZlxuICAgICAgICAgIC8vIGVuZFRpbWUgaXMgXCJub3dcIiBhbmQgY2xpZW50IHRpbWUgaXMgbm90IGluIHN5bmMgd2l0aCBzZXJ2ZXIgdGltZS5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGF2YWx1ZXNbaV0gPT09IG51bGwgJiYgcHJldlZhbHVlcyAmJiBwcmV2VmFsdWVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBudWxsIGRhdGEgdmFsdWVzIHNob3cgdXAgYXMgZ2FwcyBpbiB0aGUgY2hhcnQuXG4gICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB2YWx1ZSBmb3IgdGhlIGRhdGFzZXQgaXMgbnVsbCBhbmQgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZGF0YSBzZXQgaXMgbm90IG51bGwsIHRoZW4gYWRkIGFuICdlbmQnIHBvaW50XG4gICAgICAgICAgICAvLyB0byB0aGUgY2hhcnQgZm9yIHRoZSBwcmV2aW91cyB2YWx1ZS4gT3RoZXJ3aXNlIHRoZSBnYXAgd2lsbFxuICAgICAgICAgICAgLy8gYmUgdG9vIGJpZy4gSXQgd2lsbCBnbyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgcHJldmlvdXMgZGF0YVxuICAgICAgICAgICAgLy8gdmFsdWUgdW50aWwgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGRhdGEgdmFsdWUuXG4gICAgICAgICAgICBkLmRhdGEucHVzaCh7IHg6IHRpbWVzdGFtcC5nZXRUaW1lKCksIHk6IHByZXZWYWx1ZXNbaV0gfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGQuZGF0YS5wdXNoKHsgeDogdGltZXN0YW1wLmdldFRpbWUoKSwgeTogZGF0YXZhbHVlc1tpXSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZWYWx1ZXMgPSBkYXRhdmFsdWVzO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgYWRkRGF0YVNldCA9IChuYW1lWTogc3RyaW5nLCBmaWxsID0gZmFsc2UsIGNvbG9yPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghY29sb3IpIHtcbiAgICAgICAgICBjb2xvciA9IGdldEdyYXBoQ29sb3JCeUluZGV4KGNvbG9ySW5kZXgsIGNvbXB1dGVkU3R5bGVzKTtcbiAgICAgICAgICBjb2xvckluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBsYWJlbDogbmFtZVksXG4gICAgICAgICAgZmlsbDogZmlsbCA/IFwib3JpZ2luXCIgOiBmYWxzZSxcbiAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciArIFwiN0ZcIixcbiAgICAgICAgICBzdGVwcGVkOiBcImJlZm9yZVwiLFxuICAgICAgICAgIHBvaW50UmFkaXVzOiAwLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChcbiAgICAgICAgZG9tYWluID09PSBcInRoZXJtb3N0YXRcIiB8fFxuICAgICAgICBkb21haW4gPT09IFwiY2xpbWF0ZVwiIHx8XG4gICAgICAgIGRvbWFpbiA9PT0gXCJ3YXRlcl9oZWF0ZXJcIlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGhhc0h2YWNBY3Rpb24gPSBzdGF0ZXMuc3RhdGVzLnNvbWUoXG4gICAgICAgICAgKGVudGl0eVN0YXRlKSA9PiBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzPy5odmFjX2FjdGlvblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGlzSGVhdGluZyA9XG4gICAgICAgICAgZG9tYWluID09PSBcImNsaW1hdGVcIiAmJiBoYXNIdmFjQWN0aW9uXG4gICAgICAgICAgICA/IChlbnRpdHlTdGF0ZTogTGluZUNoYXJ0U3RhdGUpID0+XG4gICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcz8uaHZhY19hY3Rpb24gPT09IFwiaGVhdGluZ1wiXG4gICAgICAgICAgICA6IChlbnRpdHlTdGF0ZTogTGluZUNoYXJ0U3RhdGUpID0+IGVudGl0eVN0YXRlLnN0YXRlID09PSBcImhlYXRcIjtcbiAgICAgICAgY29uc3QgaXNDb29saW5nID1cbiAgICAgICAgICBkb21haW4gPT09IFwiY2xpbWF0ZVwiICYmIGhhc0h2YWNBY3Rpb25cbiAgICAgICAgICAgID8gKGVudGl0eVN0YXRlOiBMaW5lQ2hhcnRTdGF0ZSkgPT5cbiAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzPy5odmFjX2FjdGlvbiA9PT0gXCJjb29saW5nXCJcbiAgICAgICAgICAgIDogKGVudGl0eVN0YXRlOiBMaW5lQ2hhcnRTdGF0ZSkgPT4gZW50aXR5U3RhdGUuc3RhdGUgPT09IFwiY29vbFwiO1xuXG4gICAgICAgIGNvbnN0IGhhc0hlYXQgPSBzdGF0ZXMuc3RhdGVzLnNvbWUoaXNIZWF0aW5nKTtcbiAgICAgICAgY29uc3QgaGFzQ29vbCA9IHN0YXRlcy5zdGF0ZXMuc29tZShpc0Nvb2xpbmcpO1xuICAgICAgICAvLyBXZSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlcm1vc3RhdHMgdGhhdCBoYXZlIGEgdGFyZ2V0IHRlbXBlcmF0dXJlXG4gICAgICAgIC8vIHJhbmdlIHZlcnN1cyBvbmVzIHRoYXQgaGF2ZSBqdXN0IGEgdGFyZ2V0IHRlbXBlcmF0dXJlXG5cbiAgICAgICAgLy8gVXNpbmcgc3RlcCBjaGFydCBieSBzdGVwLWJlZm9yZSBzbyBtYW51YWxseSBpbnRlcnBvbGF0aW9uIG5vdCBuZWVkZWQuXG4gICAgICAgIGNvbnN0IGhhc1RhcmdldFJhbmdlID0gc3RhdGVzLnN0YXRlcy5zb21lKFxuICAgICAgICAgIChlbnRpdHlTdGF0ZSkgPT5cbiAgICAgICAgICAgIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMgJiZcbiAgICAgICAgICAgIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMudGFyZ2V0X3RlbXBfaGlnaCAhPT1cbiAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9sb3dcbiAgICAgICAgKTtcbiAgICAgICAgYWRkRGF0YVNldChcbiAgICAgICAgICBgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmNsaW1hdGUuY3VycmVudF90ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIH0pfWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGhhc0hlYXQpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmhlYXRpbmdcIiwgeyBuYW1lOiBuYW1lIH0pfWAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShcIi0tc3RhdGUtY2xpbWF0ZS1oZWF0LWNvbG9yXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBUaGUgXCJoZWF0aW5nXCIgc2VyaWVzIHVzZXMgc3RlcHBlZEFyZWEgdG8gc2hhZGUgdGhlIGFyZWEgYmVsb3cgdGhlIGN1cnJlbnRcbiAgICAgICAgICAvLyB0ZW1wZXJhdHVyZSB3aGVuIHRoZSB0aGVybW9zdGF0IGlzIGNhbGxpbmcgZm9yIGhlYXQuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0Nvb2wpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmNvb2xpbmdcIiwgeyBuYW1lOiBuYW1lIH0pfWAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShcIi0tc3RhdGUtY2xpbWF0ZS1jb29sLWNvbG9yXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBUaGUgXCJjb29saW5nXCIgc2VyaWVzIHVzZXMgc3RlcHBlZEFyZWEgdG8gc2hhZGUgdGhlIGFyZWEgYmVsb3cgdGhlIGN1cnJlbnRcbiAgICAgICAgICAvLyB0ZW1wZXJhdHVyZSB3aGVuIHRoZSB0aGVybW9zdGF0IGlzIGNhbGxpbmcgZm9yIGhlYXQuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVGFyZ2V0UmFuZ2UpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLnRhcmdldF90ZW1wZXJhdHVyZV9tb2RlXCIsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgbW9kZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmhpZ2hcIiksXG4gICAgICAgICAgICB9KX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLnRhcmdldF90ZW1wZXJhdHVyZV9tb2RlXCIsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgbW9kZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmxvd1wiKSxcbiAgICAgICAgICAgIH0pfWBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgICBgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmNsaW1hdGUudGFyZ2V0X3RlbXBlcmF0dXJlX2VudGl0eVwiLCB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB9KX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoIWVudGl0eVN0YXRlLmF0dHJpYnV0ZXMpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBjdXJUZW1wID0gc2FmZVBhcnNlRmxvYXQoXG4gICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLmN1cnJlbnRfdGVtcGVyYXR1cmVcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHNlcmllcyA9IFtjdXJUZW1wXTtcbiAgICAgICAgICBpZiAoaGFzSGVhdCkge1xuICAgICAgICAgICAgc2VyaWVzLnB1c2goaXNIZWF0aW5nKGVudGl0eVN0YXRlKSA/IGN1clRlbXAgOiBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc0Nvb2wpIHtcbiAgICAgICAgICAgIHNlcmllcy5wdXNoKGlzQ29vbGluZyhlbnRpdHlTdGF0ZSkgPyBjdXJUZW1wIDogbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXNUYXJnZXRSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SGlnaCA9IHNhZmVQYXJzZUZsb2F0KFxuICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLnRhcmdldF90ZW1wX2hpZ2hcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb3cgPSBzYWZlUGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9sb3dcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzZXJpZXMucHVzaCh0YXJnZXRIaWdoLCB0YXJnZXRMb3cpO1xuICAgICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2FmZVBhcnNlRmxvYXQoZW50aXR5U3RhdGUuYXR0cmlidXRlcy50ZW1wZXJhdHVyZSk7XG4gICAgICAgICAgICBzZXJpZXMucHVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkb21haW4gPT09IFwiaHVtaWRpZmllclwiKSB7XG4gICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5odW1pZGlmaWVyLnRhcmdldF9odW1pZGl0eV9lbnRpdHlcIiwge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB9KX1gXG4gICAgICAgICk7XG4gICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5odW1pZGlmaWVyLm9uX2VudGl0eVwiLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIH0pfWAsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoIWVudGl0eVN0YXRlLmF0dHJpYnV0ZXMpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzYWZlUGFyc2VGbG9hdChlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLmh1bWlkaXR5KTtcbiAgICAgICAgICBjb25zdCBzZXJpZXMgPSBbdGFyZ2V0XTtcbiAgICAgICAgICBzZXJpZXMucHVzaChlbnRpdHlTdGF0ZS5zdGF0ZSA9PT0gXCJvblwiID8gdGFyZ2V0IDogbnVsbCk7XG4gICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGREYXRhU2V0KG5hbWUpO1xuXG4gICAgICAgIGxldCBsYXN0VmFsdWU6IG51bWJlcjtcbiAgICAgICAgbGV0IGxhc3REYXRlOiBEYXRlO1xuICAgICAgICBsZXQgbGFzdE51bGxEYXRlOiBEYXRlIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjaGFydCBkYXRhLlxuICAgICAgICAvLyBXaGVuIHN0YXRlIGlzIGB1bmtub3duYCwgY2FsY3VsYXRlIHRoZSB2YWx1ZSBhbmQgYnJlYWsgdGhlIGxpbmUuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNhZmVQYXJzZUZsb2F0KGVudGl0eVN0YXRlLnN0YXRlKTtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKTtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgbGFzdE51bGxEYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlVGltZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgbGFzdE51bGxEYXRlVGltZSA9IGxhc3ROdWxsRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0RGF0ZVRpbWUgPSBsYXN0RGF0ZT8uZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgdG1wVmFsdWUgPVxuICAgICAgICAgICAgICAodmFsdWUgLSBsYXN0VmFsdWUpICpcbiAgICAgICAgICAgICAgICAoKGxhc3ROdWxsRGF0ZVRpbWUgLSBsYXN0RGF0ZVRpbWUpIC9cbiAgICAgICAgICAgICAgICAgIChkYXRlVGltZSAtIGxhc3REYXRlVGltZSkpICtcbiAgICAgICAgICAgICAgbGFzdFZhbHVlO1xuICAgICAgICAgICAgcHVzaERhdGEobGFzdE51bGxEYXRlLCBbdG1wVmFsdWVdKTtcbiAgICAgICAgICAgIHB1c2hEYXRhKG5ldyBEYXRlKGxhc3ROdWxsRGF0ZVRpbWUgKyAxKSwgW251bGxdKTtcbiAgICAgICAgICAgIHB1c2hEYXRhKGRhdGUsIFt2YWx1ZV0pO1xuICAgICAgICAgICAgbGFzdERhdGUgPSBkYXRlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBsYXN0TnVsbERhdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG51bGwgJiYgbGFzdE51bGxEYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBwdXNoRGF0YShkYXRlLCBbdmFsdWVdKTtcbiAgICAgICAgICAgIGxhc3REYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB2YWx1ZSA9PT0gbnVsbCAmJlxuICAgICAgICAgICAgbGFzdE51bGxEYXRlID09PSBudWxsICYmXG4gICAgICAgICAgICBsYXN0VmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbGFzdE51bGxEYXRlID0gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgYW4gZW50cnkgZm9yIGZpbmFsIHZhbHVlc1xuICAgICAgcHVzaERhdGEoZW5kVGltZSwgcHJldlZhbHVlcyk7XG5cbiAgICAgIC8vIENvbmNhdCB0d28gYXJyYXlzXG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkYXRhc2V0cywgZGF0YSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jaGFydERhdGEgPSB7XG4gICAgICBkYXRhc2V0cyxcbiAgICB9O1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJzdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmVcIiwgU3RhdGVIaXN0b3J5Q2hhcnRMaW5lKTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcInN0YXRlLWhpc3RvcnktY2hhcnQtbGluZVwiOiBTdGF0ZUhpc3RvcnlDaGFydExpbmU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-chart-line.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-chart-timeline.ts":
/*!**************************************************************!*\
  !*** ./src/components/chart/state-history-chart-timeline.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateHistoryChartTimeline: function() { return /* binding */ StateHistoryChartTimeline; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_datetime_milliseconds_to_duration__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/datetime/milliseconds_to_duration */ \"./src/common/datetime/milliseconds_to_duration.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/util/compute_rtl */ \"./src/common/util/compute_rtl.ts\");\n/* harmony import */ var _ha_chart_base__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\n/* harmony import */ var _timeline_chart_timeline_color__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./timeline-chart/timeline-color */ \"./src/components/chart/timeline-chart/timeline-color.ts\");\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2;\n\n\n\n\n\n\n\n\n\nvar StateHistoryChartTimeline = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.customElement)(\"state-history-chart-timeline\")], function (_initialize, _LitElement) {\n  var StateHistoryChartTimeline = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(StateHistoryChartTimeline, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(StateHistoryChartTimeline);\n    function StateHistoryChartTimeline() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, StateHistoryChartTimeline);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(StateHistoryChartTimeline);\n  }(_LitElement);\n  return {\n    F: StateHistoryChartTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"data\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"names\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)()],\n      key: \"identifier\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Boolean\n      })],\n      key: \"showNames\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Boolean\n      })],\n      key: \"chunked\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"startTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Number\n      })],\n      key: \"paddingYAxis\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.property)({\n        type: Number\n      })],\n      key: \"chartIndex\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_chartData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_chartOptions\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_8__.state)()],\n      key: \"_yWidth\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_chartTime\",\n      value: function value() {\n        return new Date();\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_7__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n      <ha-chart-base\\n        .hass=\", \"\\n        .data=\", \"\\n        .options=\", \"\\n        .height=\", \"\\n        .paddingYAxis=\", \"\\n        chart-type=\\\"timeline\\\"\\n      ></ha-chart-base>\\n    \"])), this.hass, this._chartData, this._chartOptions, this.data.length * 30 + 30, this.paddingYAxis - this._yWidth);\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        if (!this.hasUpdated) {\n          this._createOptions();\n        }\n        if (changedProps.has(\"startTime\") || changedProps.has(\"endTime\") || changedProps.has(\"data\") || this._chartTime < new Date(this.endTime.getTime() - _ha_chart_base__WEBPACK_IMPORTED_MODULE_14__.MIN_TIME_BETWEEN_UPDATES)) {\n          // If the line is more than 5 minutes old, re-gen it\n          // so the X axis grows even if there is no new data\n          this._generateData();\n        }\n        if (changedProps.has(\"startTime\") || changedProps.has(\"endTime\") || changedProps.has(\"showNames\")) {\n          this._createOptions();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_createOptions\",\n      value: function _createOptions() {\n        var _this2 = this;\n        var narrow = this.narrow;\n        this._chartOptions = {\n          maintainAspectRatio: false,\n          parsing: false,\n          animation: false,\n          scales: {\n            x: {\n              type: \"timeline\",\n              position: \"bottom\",\n              adapters: {\n                date: {\n                  locale: this.hass.locale\n                }\n              },\n              suggestedMin: this.startTime,\n              suggestedMax: this.endTime,\n              ticks: {\n                autoSkip: true,\n                maxRotation: 0,\n                sampleSize: 5,\n                autoSkipPadding: 20,\n                major: {\n                  enabled: true\n                },\n                font: function font(context) {\n                  return context.tick && context.tick.major ? {\n                    weight: \"bold\"\n                  } : {};\n                }\n              },\n              grid: {\n                offset: false\n              },\n              time: {\n                tooltipFormat: \"datetimeseconds\"\n              }\n            },\n            y: {\n              type: \"category\",\n              barThickness: 20,\n              offset: true,\n              grid: {\n                display: false,\n                drawBorder: false,\n                drawTicks: false\n              },\n              ticks: {\n                display: this.chunked || this.showNames\n              },\n              afterSetDimensions: function afterSetDimensions(y) {\n                y.maxWidth = y.chart.width * 0.18;\n              },\n              afterFit: function afterFit(scaleInstance) {\n                if (_this2.chunked) {\n                  // ensure all the chart labels are the same width\n                  scaleInstance.width = narrow ? 105 : 185;\n                }\n              },\n              afterUpdate: function afterUpdate(y) {\n                var _y$width, _y$left;\n                var yWidth = _this2.showNames ? (_y$width = y.width) !== null && _y$width !== void 0 ? _y$width : 0 : (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_13__.computeRTL)(_this2.hass) ? 0 : (_y$left = y.left) !== null && _y$left !== void 0 ? _y$left : 0;\n                if (_this2._yWidth !== Math.floor(yWidth) && y.ticks.length === _this2.data.length) {\n                  _this2._yWidth = Math.floor(yWidth);\n                  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_11__.fireEvent)(_this2, \"y-width-changed\", {\n                    value: _this2._yWidth,\n                    chartIndex: _this2.chartIndex\n                  });\n                }\n              },\n              position: (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_13__.computeRTL)(this.hass) ? \"right\" : \"left\"\n            }\n          },\n          plugins: {\n            tooltip: {\n              mode: \"nearest\",\n              callbacks: {\n                title: function title(context) {\n                  return context[0].chart.data.labels[context[0].datasetIndex];\n                },\n                beforeBody: function beforeBody(context) {\n                  return context[0].dataset.label || \"\";\n                },\n                label: function label(item) {\n                  var d = item.dataset.data[item.dataIndex];\n                  var durationInMs = d.end.getTime() - d.start.getTime();\n                  var formattedDuration = \"\".concat(_this2.hass.localize(\"ui.components.history_charts.duration\"), \": \").concat((0,_common_datetime_milliseconds_to_duration__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(durationInMs));\n                  return [d.label || \"\", (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_9__.formatDateTimeWithSeconds)(d.start, _this2.hass.locale), (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_9__.formatDateTimeWithSeconds)(d.end, _this2.hass.locale), formattedDuration];\n                },\n                labelColor: function labelColor(item) {\n                  return {\n                    borderColor: item.dataset.data[item.dataIndex].color,\n                    backgroundColor: item.dataset.data[item.dataIndex].color\n                  };\n                }\n              }\n            },\n            filler: {\n              propagate: true\n            }\n          },\n          // @ts-expect-error\n          locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_12__.numberFormatToLocale)(this.hass.locale)\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_generateData\",\n      value: function _generateData() {\n        var _this3 = this;\n        var computedStyles = getComputedStyle(this);\n        var stateHistory = this.data;\n        if (!stateHistory) {\n          stateHistory = [];\n        }\n        this._chartTime = new Date();\n        var startTime = this.startTime;\n        var endTime = this.endTime;\n        var labels = [];\n        var datasets = [];\n        var names = this.names || {};\n        // stateHistory is a list of lists of sorted state objects\n        stateHistory.forEach(function (stateInfo) {\n          var newLastChanged;\n          var prevState = null;\n          var locState = null;\n          var prevLastChanged = startTime;\n          var entityDisplay = names[stateInfo.entity_id] || stateInfo.name;\n          var dataRow = [];\n          stateInfo.data.forEach(function (entityState) {\n            var newState = entityState.state;\n            var timeStamp = new Date(entityState.last_changed);\n            if (!newState) {\n              newState = null;\n            }\n            if (timeStamp > endTime) {\n              // Drop datapoints that are after the requested endTime. This could happen if\n              // endTime is 'now' and client time is not in sync with server time.\n              return;\n            }\n            if (prevState === null) {\n              prevState = newState;\n              locState = entityState.state_localize;\n              prevLastChanged = new Date(entityState.last_changed);\n            } else if (newState !== prevState) {\n              newLastChanged = new Date(entityState.last_changed);\n              dataRow.push({\n                start: prevLastChanged,\n                end: newLastChanged,\n                label: locState,\n                color: (0,_timeline_chart_timeline_color__WEBPACK_IMPORTED_MODULE_15__.computeTimelineColor)(prevState, computedStyles, _this3.hass.states[stateInfo.entity_id])\n              });\n              prevState = newState;\n              locState = entityState.state_localize;\n              prevLastChanged = newLastChanged;\n            }\n          });\n          if (prevState !== null) {\n            dataRow.push({\n              start: prevLastChanged,\n              end: endTime,\n              label: locState,\n              color: (0,_timeline_chart_timeline_color__WEBPACK_IMPORTED_MODULE_15__.computeTimelineColor)(prevState, computedStyles, _this3.hass.states[stateInfo.entity_id])\n            });\n          }\n          datasets.push({\n            data: dataRow,\n            label: stateInfo.entity_id\n          });\n          labels.push(entityDisplay);\n        });\n        this._chartData = {\n          labels: labels,\n          datasets: datasets\n        };\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_7__.css)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n      ha-chart-base {\\n        --chart-max-height: none;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_7__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFLQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvY2hhcnQvc3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZS50cz9jMDU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2hhcnREYXRhLCBDaGFydERhdGFzZXQsIENoYXJ0T3B0aW9ucyB9IGZyb20gXCJjaGFydC5qc1wiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlX3RpbWVcIjtcbmltcG9ydCBtaWxsaXNlY29uZHNUb0R1cmF0aW9uIGZyb20gXCIuLi8uLi9jb21tb24vZGF0ZXRpbWUvbWlsbGlzZWNvbmRzX3RvX2R1cmF0aW9uXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBudW1iZXJGb3JtYXRUb0xvY2FsZSB9IGZyb20gXCIuLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCB7IGNvbXB1dGVSVEwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3V0aWwvY29tcHV0ZV9ydGxcIjtcbmltcG9ydCB7IFRpbWVsaW5lRW50aXR5IH0gZnJvbSBcIi4uLy4uL2RhdGEvaGlzdG9yeVwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgTUlOX1RJTUVfQkVUV0VFTl9VUERBVEVTIH0gZnJvbSBcIi4vaGEtY2hhcnQtYmFzZVwiO1xuaW1wb3J0IHR5cGUgeyBUaW1lTGluZURhdGEgfSBmcm9tIFwiLi90aW1lbGluZS1jaGFydC9jb25zdFwiO1xuaW1wb3J0IHsgY29tcHV0ZVRpbWVsaW5lQ29sb3IgfSBmcm9tIFwiLi90aW1lbGluZS1jaGFydC90aW1lbGluZS1jb2xvclwiO1xuXG5AY3VzdG9tRWxlbWVudChcInN0YXRlLWhpc3RvcnktY2hhcnQtdGltZWxpbmVcIilcbmV4cG9ydCBjbGFzcyBTdGF0ZUhpc3RvcnlDaGFydFRpbWVsaW5lIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGRhdGE6IFRpbWVsaW5lRW50aXR5W10gPSBbXTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFtZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyB1bml0Pzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBpZGVudGlmaWVyPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIHNob3dOYW1lcyA9IHRydWU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgY2h1bmtlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHN0YXJ0VGltZSE6IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZW5kVGltZSE6IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogTnVtYmVyIH0pIHB1YmxpYyBwYWRkaW5nWUF4aXMgPSAwO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KSBwdWJsaWMgY2hhcnRJbmRleD87XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhcnREYXRhPzogQ2hhcnREYXRhPFwidGltZWxpbmVcIj47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhcnRPcHRpb25zPzogQ2hhcnRPcHRpb25zPFwidGltZWxpbmVcIj47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfeVdpZHRoID0gMDtcblxuICBwcml2YXRlIF9jaGFydFRpbWU6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY2hhcnQtYmFzZVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLmRhdGE9JHt0aGlzLl9jaGFydERhdGF9XG4gICAgICAgIC5vcHRpb25zPSR7dGhpcy5fY2hhcnRPcHRpb25zfVxuICAgICAgICAuaGVpZ2h0PSR7dGhpcy5kYXRhLmxlbmd0aCAqIDMwICsgMzB9XG4gICAgICAgIC5wYWRkaW5nWUF4aXM9JHt0aGlzLnBhZGRpbmdZQXhpcyAtIHRoaXMuX3lXaWR0aH1cbiAgICAgICAgY2hhcnQtdHlwZT1cInRpbWVsaW5lXCJcbiAgICAgID48L2hhLWNoYXJ0LWJhc2U+XG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5fY3JlYXRlT3B0aW9ucygpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJzdGFydFRpbWVcIikgfHxcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJlbmRUaW1lXCIpIHx8XG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiZGF0YVwiKSB8fFxuICAgICAgdGhpcy5fY2hhcnRUaW1lIDxcbiAgICAgICAgbmV3IERhdGUodGhpcy5lbmRUaW1lLmdldFRpbWUoKSAtIE1JTl9USU1FX0JFVFdFRU5fVVBEQVRFUylcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBsaW5lIGlzIG1vcmUgdGhhbiA1IG1pbnV0ZXMgb2xkLCByZS1nZW4gaXRcbiAgICAgIC8vIHNvIHRoZSBYIGF4aXMgZ3Jvd3MgZXZlbiBpZiB0aGVyZSBpcyBubyBuZXcgZGF0YVxuICAgICAgdGhpcy5fZ2VuZXJhdGVEYXRhKCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcInN0YXJ0VGltZVwiKSB8fFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcImVuZFRpbWVcIikgfHxcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJzaG93TmFtZXNcIilcbiAgICApIHtcbiAgICAgIHRoaXMuX2NyZWF0ZU9wdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVPcHRpb25zKCkge1xuICAgIGNvbnN0IG5hcnJvdyA9IHRoaXMubmFycm93O1xuICAgIHRoaXMuX2NoYXJ0T3B0aW9ucyA9IHtcbiAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgICAgcGFyc2luZzogZmFsc2UsXG4gICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgc2NhbGVzOiB7XG4gICAgICAgIHg6IHtcbiAgICAgICAgICB0eXBlOiBcInRpbWVsaW5lXCIsXG4gICAgICAgICAgcG9zaXRpb246IFwiYm90dG9tXCIsXG4gICAgICAgICAgYWRhcHRlcnM6IHtcbiAgICAgICAgICAgIGRhdGU6IHtcbiAgICAgICAgICAgICAgbG9jYWxlOiB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Z2dlc3RlZE1pbjogdGhpcy5zdGFydFRpbWUsXG4gICAgICAgICAgc3VnZ2VzdGVkTWF4OiB0aGlzLmVuZFRpbWUsXG4gICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlLFxuICAgICAgICAgICAgbWF4Um90YXRpb246IDAsXG4gICAgICAgICAgICBzYW1wbGVTaXplOiA1LFxuICAgICAgICAgICAgYXV0b1NraXBQYWRkaW5nOiAyMCxcbiAgICAgICAgICAgIG1ham9yOiB7XG4gICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9udDogKGNvbnRleHQpID0+XG4gICAgICAgICAgICAgIGNvbnRleHQudGljayAmJiBjb250ZXh0LnRpY2subWFqb3JcbiAgICAgICAgICAgICAgICA/ICh7IHdlaWdodDogXCJib2xkXCIgfSBhcyBhbnkpXG4gICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1lOiB7XG4gICAgICAgICAgICB0b29sdGlwRm9ybWF0OiBcImRhdGV0aW1lc2Vjb25kc1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHk6IHtcbiAgICAgICAgICB0eXBlOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgYmFyVGhpY2tuZXNzOiAyMCxcbiAgICAgICAgICBvZmZzZXQ6IHRydWUsXG4gICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICBkcmF3Qm9yZGVyOiBmYWxzZSxcbiAgICAgICAgICAgIGRyYXdUaWNrczogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5jaHVua2VkIHx8IHRoaXMuc2hvd05hbWVzLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWZ0ZXJTZXREaW1lbnNpb25zOiAoeSkgPT4ge1xuICAgICAgICAgICAgeS5tYXhXaWR0aCA9IHkuY2hhcnQud2lkdGggKiAwLjE4O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYWZ0ZXJGaXQ6IChzY2FsZUluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaHVua2VkKSB7XG4gICAgICAgICAgICAgIC8vIGVuc3VyZSBhbGwgdGhlIGNoYXJ0IGxhYmVscyBhcmUgdGhlIHNhbWUgd2lkdGhcbiAgICAgICAgICAgICAgc2NhbGVJbnN0YW5jZS53aWR0aCA9IG5hcnJvdyA/IDEwNSA6IDE4NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmdGVyVXBkYXRlOiAoeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeVdpZHRoID0gdGhpcy5zaG93TmFtZXNcbiAgICAgICAgICAgICAgPyB5LndpZHRoID8/IDBcbiAgICAgICAgICAgICAgOiBjb21wdXRlUlRMKHRoaXMuaGFzcylcbiAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgIDogeS5sZWZ0ID8/IDA7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHRoaXMuX3lXaWR0aCAhPT0gTWF0aC5mbG9vcih5V2lkdGgpICYmXG4gICAgICAgICAgICAgIHkudGlja3MubGVuZ3RoID09PSB0aGlzLmRhdGEubGVuZ3RoXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdGhpcy5feVdpZHRoID0gTWF0aC5mbG9vcih5V2lkdGgpO1xuICAgICAgICAgICAgICBmaXJlRXZlbnQodGhpcywgXCJ5LXdpZHRoLWNoYW5nZWRcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl95V2lkdGgsXG4gICAgICAgICAgICAgICAgY2hhcnRJbmRleDogdGhpcy5jaGFydEluZGV4LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvc2l0aW9uOiBjb21wdXRlUlRMKHRoaXMuaGFzcykgPyBcInJpZ2h0XCIgOiBcImxlZnRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwbHVnaW5zOiB7XG4gICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICBtb2RlOiBcIm5lYXJlc3RcIixcbiAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgIHRpdGxlOiAoY29udGV4dCkgPT5cbiAgICAgICAgICAgICAgY29udGV4dCFbMF0uY2hhcnQhLmRhdGEhLmxhYmVscyFbXG4gICAgICAgICAgICAgICAgY29udGV4dFswXS5kYXRhc2V0SW5kZXhcbiAgICAgICAgICAgICAgXSBhcyBzdHJpbmcsXG4gICAgICAgICAgICBiZWZvcmVCb2R5OiAoY29udGV4dCkgPT4gY29udGV4dFswXS5kYXRhc2V0LmxhYmVsIHx8IFwiXCIsXG4gICAgICAgICAgICBsYWJlbDogKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZCA9IGl0ZW0uZGF0YXNldC5kYXRhW2l0ZW0uZGF0YUluZGV4XSBhcyBUaW1lTGluZURhdGE7XG4gICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uSW5NcyA9IGQuZW5kLmdldFRpbWUoKSAtIGQuc3RhcnQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREdXJhdGlvbiA9IGAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLmNvbXBvbmVudHMuaGlzdG9yeV9jaGFydHMuZHVyYXRpb25cIlxuICAgICAgICAgICAgICApfTogJHttaWxsaXNlY29uZHNUb0R1cmF0aW9uKGR1cmF0aW9uSW5Ncyl9YDtcblxuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGQubGFiZWwgfHwgXCJcIixcbiAgICAgICAgICAgICAgICBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKGQuc3RhcnQsIHRoaXMuaGFzcy5sb2NhbGUpLFxuICAgICAgICAgICAgICAgIGZvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMoZC5lbmQsIHRoaXMuaGFzcy5sb2NhbGUpLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZER1cmF0aW9uLFxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhYmVsQ29sb3I6IChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogKGl0ZW0uZGF0YXNldC5kYXRhW2l0ZW0uZGF0YUluZGV4XSBhcyBUaW1lTGluZURhdGEpXG4gICAgICAgICAgICAgICAgLmNvbG9yISxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAoXG4gICAgICAgICAgICAgICAgaXRlbS5kYXRhc2V0LmRhdGFbaXRlbS5kYXRhSW5kZXhdIGFzIFRpbWVMaW5lRGF0YVxuICAgICAgICAgICAgICApLmNvbG9yISxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGxlcjoge1xuICAgICAgICAgIHByb3BhZ2F0ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBsb2NhbGU6IG51bWJlckZvcm1hdFRvTG9jYWxlKHRoaXMuaGFzcy5sb2NhbGUpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIF9nZW5lcmF0ZURhdGEoKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMpO1xuICAgIGxldCBzdGF0ZUhpc3RvcnkgPSB0aGlzLmRhdGE7XG5cbiAgICBpZiAoIXN0YXRlSGlzdG9yeSkge1xuICAgICAgc3RhdGVIaXN0b3J5ID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5fY2hhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcbiAgICBjb25zdCBlbmRUaW1lID0gdGhpcy5lbmRUaW1lO1xuICAgIGNvbnN0IGxhYmVsczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBkYXRhc2V0czogQ2hhcnREYXRhc2V0PFwidGltZWxpbmVcIj5bXSA9IFtdO1xuICAgIGNvbnN0IG5hbWVzID0gdGhpcy5uYW1lcyB8fCB7fTtcbiAgICAvLyBzdGF0ZUhpc3RvcnkgaXMgYSBsaXN0IG9mIGxpc3RzIG9mIHNvcnRlZCBzdGF0ZSBvYmplY3RzXG4gICAgc3RhdGVIaXN0b3J5LmZvckVhY2goKHN0YXRlSW5mbykgPT4ge1xuICAgICAgbGV0IG5ld0xhc3RDaGFuZ2VkOiBEYXRlO1xuICAgICAgbGV0IHByZXZTdGF0ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgbG9jU3RhdGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgbGV0IHByZXZMYXN0Q2hhbmdlZCA9IHN0YXJ0VGltZTtcbiAgICAgIGNvbnN0IGVudGl0eURpc3BsYXk6IHN0cmluZyA9XG4gICAgICAgIG5hbWVzW3N0YXRlSW5mby5lbnRpdHlfaWRdIHx8IHN0YXRlSW5mby5uYW1lO1xuXG4gICAgICBjb25zdCBkYXRhUm93OiBUaW1lTGluZURhdGFbXSA9IFtdO1xuICAgICAgc3RhdGVJbmZvLmRhdGEuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgbGV0IG5ld1N0YXRlOiBzdHJpbmcgfCBudWxsID0gZW50aXR5U3RhdGUuc3RhdGU7XG4gICAgICAgIGNvbnN0IHRpbWVTdGFtcCA9IG5ldyBEYXRlKGVudGl0eVN0YXRlLmxhc3RfY2hhbmdlZCk7XG4gICAgICAgIGlmICghbmV3U3RhdGUpIHtcbiAgICAgICAgICBuZXdTdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVTdGFtcCA+IGVuZFRpbWUpIHtcbiAgICAgICAgICAvLyBEcm9wIGRhdGFwb2ludHMgdGhhdCBhcmUgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBlbmRUaW1lLiBUaGlzIGNvdWxkIGhhcHBlbiBpZlxuICAgICAgICAgIC8vIGVuZFRpbWUgaXMgJ25vdycgYW5kIGNsaWVudCB0aW1lIGlzIG5vdCBpbiBzeW5jIHdpdGggc2VydmVyIHRpbWUuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2U3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICBwcmV2U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICBsb2NTdGF0ZSA9IGVudGl0eVN0YXRlLnN0YXRlX2xvY2FsaXplO1xuICAgICAgICAgIHByZXZMYXN0Q2hhbmdlZCA9IG5ldyBEYXRlKGVudGl0eVN0YXRlLmxhc3RfY2hhbmdlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3U3RhdGUgIT09IHByZXZTdGF0ZSkge1xuICAgICAgICAgIG5ld0xhc3RDaGFuZ2VkID0gbmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKTtcblxuICAgICAgICAgIGRhdGFSb3cucHVzaCh7XG4gICAgICAgICAgICBzdGFydDogcHJldkxhc3RDaGFuZ2VkLFxuICAgICAgICAgICAgZW5kOiBuZXdMYXN0Q2hhbmdlZCxcbiAgICAgICAgICAgIGxhYmVsOiBsb2NTdGF0ZSxcbiAgICAgICAgICAgIGNvbG9yOiBjb21wdXRlVGltZWxpbmVDb2xvcihcbiAgICAgICAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICAgICAgdGhpcy5oYXNzLnN0YXRlc1tzdGF0ZUluZm8uZW50aXR5X2lkXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHByZXZTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICAgIGxvY1N0YXRlID0gZW50aXR5U3RhdGUuc3RhdGVfbG9jYWxpemU7XG4gICAgICAgICAgcHJldkxhc3RDaGFuZ2VkID0gbmV3TGFzdENoYW5nZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAocHJldlN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgIGRhdGFSb3cucHVzaCh7XG4gICAgICAgICAgc3RhcnQ6IHByZXZMYXN0Q2hhbmdlZCxcbiAgICAgICAgICBlbmQ6IGVuZFRpbWUsXG4gICAgICAgICAgbGFiZWw6IGxvY1N0YXRlLFxuICAgICAgICAgIGNvbG9yOiBjb21wdXRlVGltZWxpbmVDb2xvcihcbiAgICAgICAgICAgIHByZXZTdGF0ZSxcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzLFxuICAgICAgICAgICAgdGhpcy5oYXNzLnN0YXRlc1tzdGF0ZUluZm8uZW50aXR5X2lkXVxuICAgICAgICAgICksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGF0YXNldHMucHVzaCh7XG4gICAgICAgIGRhdGE6IGRhdGFSb3csXG4gICAgICAgIGxhYmVsOiBzdGF0ZUluZm8uZW50aXR5X2lkLFxuICAgICAgfSk7XG4gICAgICBsYWJlbHMucHVzaChlbnRpdHlEaXNwbGF5KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NoYXJ0RGF0YSA9IHtcbiAgICAgIGxhYmVsczogbGFiZWxzLFxuICAgICAgZGF0YXNldHM6IGRhdGFzZXRzLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGhhLWNoYXJ0LWJhc2Uge1xuICAgICAgICAtLWNoYXJ0LW1heC1oZWlnaHQ6IG5vbmU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwic3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZVwiOiBTdGF0ZUhpc3RvcnlDaGFydFRpbWVsaW5lO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-chart-timeline.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-charts.ts":
/*!******************************************************!*\
  !*** ./src/components/chart/state-history-charts.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateHistoryCharts: function() { return /* binding */ StateHistoryCharts; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/decorators/restore-scroll */ \"./src/common/decorators/restore-scroll.ts\");\n/* harmony import */ var _resources_virtualizer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../resources/virtualizer */ \"./src/resources/virtualizer.ts\");\n/* harmony import */ var _state_history_chart_line__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./state-history-chart-line */ \"./src/components/chart/state-history-chart-line.ts\");\n/* harmony import */ var _state_history_chart_timeline__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./state-history-chart-timeline */ \"./src/components/chart/state-history-chart-timeline.ts\");\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;\n\n\n\n\n\n\n\nvar CANVAS_TIMELINE_ROWS_CHUNK = 10; // Split up the canvases to avoid hitting the render limit\n\nvar chunkData = function chunkData(inputArray, chunks) {\n  return inputArray.reduce(function (results, item, idx) {\n    var chunkIdx = Math.floor(idx / chunks);\n    if (!results[chunkIdx]) {\n      results[chunkIdx] = [];\n    }\n    results[chunkIdx].push(item);\n    return results;\n  }, []);\n};\nvar StateHistoryCharts = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_7__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.customElement)(\"state-history-charts\")], function (_initialize, _LitElement) {\n  var StateHistoryCharts = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(StateHistoryCharts, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(StateHistoryCharts);\n    function StateHistoryCharts() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, StateHistoryCharts);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(StateHistoryCharts);\n  }(_LitElement);\n  return {\n    F: StateHistoryCharts,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        attribute: false\n      })],\n      key: \"historyData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"names\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        type: Boolean,\n        attribute: \"virtualize\",\n        reflect: true\n      })],\n      key: \"virtualize\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        type: Boolean,\n        attribute: \"up-to-now\"\n      })],\n      key: \"upToNow\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        type: Boolean\n      })],\n      key: \"showNames\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        type: Boolean\n      })],\n      key: \"isLoadingData\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)()],\n      key: \"_computedStartTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)()],\n      key: \"_computedEndTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)()],\n      key: \"_maxYWidth\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)()],\n      key: \"_childYWidths\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)()],\n      key: \"_chartCount\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_11__.restoreScroll)(\".container\")],\n      key: \"_savedScrollPos\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value:\n      // @ts-ignore\n\n      function render() {\n        var _this2 = this;\n        if (!(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_10__.isComponentLoaded)(this.hass, \"history\")) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.history_disabled\"));\n        }\n        if (this.isLoadingData && !this.historyData) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.loading_history\"));\n        }\n        if (this._isHistoryEmpty()) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.no_history_found\"));\n        }\n        var now = new Date();\n        this._computedEndTime = this.upToNow || !this.endTime || this.endTime > now ? now : this.endTime;\n        this._computedStartTime = new Date(this.historyData.timeline.reduce(function (minTime, stateInfo) {\n          return Math.min(minTime, new Date(stateInfo.data[0].last_changed).getTime());\n        }, new Date().getTime()));\n        var combinedItems = this.historyData.timeline.length ? (this.virtualize ? chunkData(this.historyData.timeline, CANVAS_TIMELINE_ROWS_CHUNK) : [this.historyData.timeline]).concat(this.historyData.line) : this.historyData.line;\n        this._chartCount = combinedItems.length;\n        return this.virtualize ? (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"container ha-scrollbar\\\" @scroll=\", \">\\n          <lit-virtualizer\\n            scroller\\n            class=\\\"ha-scrollbar\\\"\\n            .items=\", \"\\n            .renderItem=\", \"\\n          >\\n          </lit-virtualizer>\\n        </div>\"])), this._saveScrollPos, combinedItems, this._renderHistoryItem) : (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"\", \"\"])), combinedItems.map(function (item, index) {\n          return _this2._renderHistoryItem(item, index);\n        }));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_renderHistoryItem\",\n      value: function value() {\n        var _this3 = this;\n        return function (item, index) {\n          if (!item || index === undefined) {\n            return lit__WEBPACK_IMPORTED_MODULE_8__.nothing;\n          }\n          if (!Array.isArray(item)) {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject6 || (_templateObject6 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"entry-container\\\">\\n        <state-history-chart-line\\n          .hass=\", \"\\n          .unit=\", \"\\n          .data=\", \"\\n          .identifier=\", \"\\n          .showNames=\", \"\\n          .endTime=\", \"\\n          .paddingYAxis=\", \"\\n          .names=\", \"\\n          .chartIndex=\", \"\\n          @y-width-changed=\", \"\\n        ></state-history-chart-line>\\n      </div> \"])), _this3.hass, item.unit, item.data, item.identifier, _this3.showNames, _this3._computedEndTime, _this3._maxYWidth, _this3.names, index, _this3._yWidthChanged);\n          }\n          return (0,lit__WEBPACK_IMPORTED_MODULE_8__.html)(_templateObject7 || (_templateObject7 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"<div class=\\\"entry-container\\\">\\n      <state-history-chart-timeline\\n        .hass=\", \"\\n        .data=\", \"\\n        .startTime=\", \"\\n        .endTime=\", \"\\n        .showNames=\", \"\\n        .names=\", \"\\n        .narrow=\", \"\\n        .chunked=\", \"\\n        .paddingYAxis=\", \"\\n        .chartIndex=\", \"\\n        @y-width-changed=\", \"\\n      ></state-history-chart-timeline>\\n    </div> \"])), _this3.hass, item, _this3._computedStartTime, _this3._computedEndTime, _this3.showNames, _this3.names, _this3.narrow, _this3.virtualize, _this3._maxYWidth, index, _this3._yWidthChanged);\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        return !(changedProps.size === 1 && changedProps.has(\"hass\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate() {\n        if (!this.hasUpdated) {\n          (0,_resources_virtualizer__WEBPACK_IMPORTED_MODULE_12__.loadVirtualizer)();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"_chartCount\")) {\n          if (this._chartCount < this._childYWidths.length) {\n            this._childYWidths.length = this._chartCount;\n            this._maxYWidth = Math.max.apply(Math, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object.values(this._childYWidths)).concat([0]));\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_yWidthChanged\",\n      value: function _yWidthChanged(e) {\n        this._childYWidths[e.detail.chartIndex] = e.detail.value;\n        this._maxYWidth = Math.max.apply(Math, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object.values(this._childYWidths)).concat([0]));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_isHistoryEmpty\",\n      value: function _isHistoryEmpty() {\n        var historyDataEmpty = !this.historyData || !this.historyData.timeline || !this.historyData.line || this.historyData.timeline.length === 0 && this.historyData.line.length === 0;\n        return !this.isLoadingData && historyDataEmpty;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.eventOptions)({\n        passive: true\n      })],\n      key: \"_saveScrollPos\",\n      value: function _saveScrollPos(e) {\n        this._savedScrollPos = e.target.scrollTop;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_8__.css)(_templateObject8 || (_templateObject8 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__[\"default\"])([\"\\n      :host {\\n        display: block;\\n        /* height of single timeline chart = 60px */\\n        min-height: 60px;\\n      }\\n\\n      :host([virtualize]) {\\n        height: 100%;\\n      }\\n\\n      .info {\\n        text-align: center;\\n        line-height: 60px;\\n        color: var(--secondary-text-color);\\n      }\\n\\n      .container {\\n        max-height: var(--history-max-height);\\n      }\\n\\n      .entry-container {\\n        width: 100%;\\n      }\\n\\n      .entry-container:hover {\\n        z-index: 1;\\n      }\\n\\n      :host([virtualize]) .entry-container {\\n        padding-left: 1px;\\n        padding-right: 1px;\\n      }\\n\\n      .container,\\n      lit-virtualizer {\\n        height: 100%;\\n        width: 100%;\\n      }\\n\\n      lit-virtualizer {\\n        contain: size layout !important;\\n      }\\n\\n      state-history-chart-timeline,\\n      state-history-chart-line {\\n        width: 100%;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_8__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0cy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTs7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUtBO0FBT0E7QUFFQTtBQVVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBZUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQWlEQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvY2hhcnQvc3RhdGUtaGlzdG9yeS1jaGFydHMudHM/YTBmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBub3RoaW5nLFxuICBQcm9wZXJ0eVZhbHVlcyxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgZXZlbnRPcHRpb25zLCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGlzQ29tcG9uZW50TG9hZGVkIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb25maWcvaXNfY29tcG9uZW50X2xvYWRlZFwiO1xuaW1wb3J0IHsgcmVzdG9yZVNjcm9sbCB9IGZyb20gXCIuLi8uLi9jb21tb24vZGVjb3JhdG9ycy9yZXN0b3JlLXNjcm9sbFwiO1xuaW1wb3J0IHtcbiAgSGlzdG9yeVJlc3VsdCxcbiAgTGluZUNoYXJ0VW5pdCxcbiAgVGltZWxpbmVFbnRpdHksXG59IGZyb20gXCIuLi8uLi9kYXRhL2hpc3RvcnlcIjtcbmltcG9ydCB7IGxvYWRWaXJ0dWFsaXplciB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvdmlydHVhbGl6ZXJcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IFwiLi9zdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmVcIjtcbmltcG9ydCBcIi4vc3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZVwiO1xuXG5jb25zdCBDQU5WQVNfVElNRUxJTkVfUk9XU19DSFVOSyA9IDEwOyAvLyBTcGxpdCB1cCB0aGUgY2FudmFzZXMgdG8gYXZvaWQgaGl0dGluZyB0aGUgcmVuZGVyIGxpbWl0XG5cbmNvbnN0IGNodW5rRGF0YSA9IChpbnB1dEFycmF5OiBhbnlbXSwgY2h1bmtzOiBudW1iZXIpID0+XG4gIGlucHV0QXJyYXkucmVkdWNlKChyZXN1bHRzLCBpdGVtLCBpZHgpID0+IHtcbiAgICBjb25zdCBjaHVua0lkeCA9IE1hdGguZmxvb3IoaWR4IC8gY2h1bmtzKTtcbiAgICBpZiAoIXJlc3VsdHNbY2h1bmtJZHhdKSB7XG4gICAgICByZXN1bHRzW2NodW5rSWR4XSA9IFtdO1xuICAgIH1cbiAgICByZXN1bHRzW2NodW5rSWR4XS5wdXNoKGl0ZW0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9LCBbXSk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhBU1NEb21FdmVudHMge1xuICAgIFwieS13aWR0aC1jaGFuZ2VkXCI6IHsgdmFsdWU6IG51bWJlcjsgY2hhcnRJbmRleDogbnVtYmVyIH07XG4gIH1cbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJzdGF0ZS1oaXN0b3J5LWNoYXJ0c1wiKVxuZXhwb3J0IGNsYXNzIFN0YXRlSGlzdG9yeUNoYXJ0cyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoaXN0b3J5RGF0YSE6IEhpc3RvcnlSZXN1bHQ7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIG5hbWVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwidmlydHVhbGl6ZVwiLCByZWZsZWN0OiB0cnVlIH0pXG4gIHB1YmxpYyB2aXJ0dWFsaXplID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZW5kVGltZT86IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcInVwLXRvLW5vd1wiIH0pIHB1YmxpYyB1cFRvTm93ID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgc2hvd05hbWVzID0gdHJ1ZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc0xvYWRpbmdEYXRhID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY29tcHV0ZWRTdGFydFRpbWUhOiBEYXRlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbXB1dGVkRW5kVGltZSE6IERhdGU7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbWF4WVdpZHRoID0gMDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jaGlsZFlXaWR0aHM6IG51bWJlcltdID0gW107XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhcnRDb3VudCA9IDA7XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBAcmVzdG9yZVNjcm9sbChcIi5jb250YWluZXJcIikgcHJpdmF0ZSBfc2F2ZWRTY3JvbGxQb3M/OiBudW1iZXI7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIWlzQ29tcG9uZW50TG9hZGVkKHRoaXMuaGFzcywgXCJoaXN0b3J5XCIpKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwiaW5mb1wiPlxuICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMuaGlzdG9yeV9jaGFydHMuaGlzdG9yeV9kaXNhYmxlZFwiKX1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nRGF0YSAmJiAhdGhpcy5oaXN0b3J5RGF0YSkge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLmhpc3RvcnlfY2hhcnRzLmxvYWRpbmdfaGlzdG9yeVwiKX1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzSGlzdG9yeUVtcHR5KCkpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5oaXN0b3J5X2NoYXJ0cy5ub19oaXN0b3J5X2ZvdW5kXCIpfVxuICAgICAgPC9kaXY+YDtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgdGhpcy5fY29tcHV0ZWRFbmRUaW1lID1cbiAgICAgIHRoaXMudXBUb05vdyB8fCAhdGhpcy5lbmRUaW1lIHx8IHRoaXMuZW5kVGltZSA+IG5vdyA/IG5vdyA6IHRoaXMuZW5kVGltZTtcblxuICAgIHRoaXMuX2NvbXB1dGVkU3RhcnRUaW1lID0gbmV3IERhdGUoXG4gICAgICB0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lLnJlZHVjZShcbiAgICAgICAgKG1pblRpbWUsIHN0YXRlSW5mbykgPT5cbiAgICAgICAgICBNYXRoLm1pbihtaW5UaW1lLCBuZXcgRGF0ZShzdGF0ZUluZm8uZGF0YVswXS5sYXN0X2NoYW5nZWQpLmdldFRpbWUoKSksXG4gICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICApXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbWJpbmVkSXRlbXMgPSB0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lLmxlbmd0aFxuICAgICAgPyAodGhpcy52aXJ0dWFsaXplXG4gICAgICAgICAgPyBjaHVua0RhdGEodGhpcy5oaXN0b3J5RGF0YS50aW1lbGluZSwgQ0FOVkFTX1RJTUVMSU5FX1JPV1NfQ0hVTkspXG4gICAgICAgICAgOiBbdGhpcy5oaXN0b3J5RGF0YS50aW1lbGluZV1cbiAgICAgICAgKS5jb25jYXQodGhpcy5oaXN0b3J5RGF0YS5saW5lKVxuICAgICAgOiB0aGlzLmhpc3RvcnlEYXRhLmxpbmU7XG5cbiAgICB0aGlzLl9jaGFydENvdW50ID0gY29tYmluZWRJdGVtcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsaXplXG4gICAgICA/IGh0bWxgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBoYS1zY3JvbGxiYXJcIiBAc2Nyb2xsPSR7dGhpcy5fc2F2ZVNjcm9sbFBvc30+XG4gICAgICAgICAgPGxpdC12aXJ0dWFsaXplclxuICAgICAgICAgICAgc2Nyb2xsZXJcbiAgICAgICAgICAgIGNsYXNzPVwiaGEtc2Nyb2xsYmFyXCJcbiAgICAgICAgICAgIC5pdGVtcz0ke2NvbWJpbmVkSXRlbXN9XG4gICAgICAgICAgICAucmVuZGVySXRlbT0ke3RoaXMuX3JlbmRlckhpc3RvcnlJdGVtfVxuICAgICAgICAgID5cbiAgICAgICAgICA8L2xpdC12aXJ0dWFsaXplcj5cbiAgICAgICAgPC9kaXY+YFxuICAgICAgOiBodG1sYCR7Y29tYmluZWRJdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PlxuICAgICAgICAgIHRoaXMuX3JlbmRlckhpc3RvcnlJdGVtKGl0ZW0sIGluZGV4KVxuICAgICAgICApfWA7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJIaXN0b3J5SXRlbSA9IChcbiAgICBpdGVtOiBUaW1lbGluZUVudGl0eVtdIHwgTGluZUNoYXJ0VW5pdCxcbiAgICBpbmRleDogbnVtYmVyXG4gICkgPT4ge1xuICAgIGlmICghaXRlbSB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbm90aGluZztcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwiZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgIDxzdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmVcbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAudW5pdD0ke2l0ZW0udW5pdH1cbiAgICAgICAgICAuZGF0YT0ke2l0ZW0uZGF0YX1cbiAgICAgICAgICAuaWRlbnRpZmllcj0ke2l0ZW0uaWRlbnRpZmllcn1cbiAgICAgICAgICAuc2hvd05hbWVzPSR7dGhpcy5zaG93TmFtZXN9XG4gICAgICAgICAgLmVuZFRpbWU9JHt0aGlzLl9jb21wdXRlZEVuZFRpbWV9XG4gICAgICAgICAgLnBhZGRpbmdZQXhpcz0ke3RoaXMuX21heFlXaWR0aH1cbiAgICAgICAgICAubmFtZXM9JHt0aGlzLm5hbWVzfVxuICAgICAgICAgIC5jaGFydEluZGV4PSR7aW5kZXh9XG4gICAgICAgICAgQHktd2lkdGgtY2hhbmdlZD0ke3RoaXMuX3lXaWR0aENoYW5nZWR9XG4gICAgICAgID48L3N0YXRlLWhpc3RvcnktY2hhcnQtbGluZT5cbiAgICAgIDwvZGl2PiBgO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwiZW50cnktY29udGFpbmVyXCI+XG4gICAgICA8c3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLmRhdGE9JHtpdGVtfVxuICAgICAgICAuc3RhcnRUaW1lPSR7dGhpcy5fY29tcHV0ZWRTdGFydFRpbWV9XG4gICAgICAgIC5lbmRUaW1lPSR7dGhpcy5fY29tcHV0ZWRFbmRUaW1lfVxuICAgICAgICAuc2hvd05hbWVzPSR7dGhpcy5zaG93TmFtZXN9XG4gICAgICAgIC5uYW1lcz0ke3RoaXMubmFtZXN9XG4gICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgLmNodW5rZWQ9JHt0aGlzLnZpcnR1YWxpemV9XG4gICAgICAgIC5wYWRkaW5nWUF4aXM9JHt0aGlzLl9tYXhZV2lkdGh9XG4gICAgICAgIC5jaGFydEluZGV4PSR7aW5kZXh9XG4gICAgICAgIEB5LXdpZHRoLWNoYW5nZWQ9JHt0aGlzLl95V2lkdGhDaGFuZ2VkfVxuICAgICAgPjwvc3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZT5cbiAgICA8L2Rpdj4gYDtcbiAgfTtcblxuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIShjaGFuZ2VkUHJvcHMuc2l6ZSA9PT0gMSAmJiBjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgbG9hZFZpcnR1YWxpemVyKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiX2NoYXJ0Q291bnRcIikpIHtcbiAgICAgIGlmICh0aGlzLl9jaGFydENvdW50IDwgdGhpcy5fY2hpbGRZV2lkdGhzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9jaGlsZFlXaWR0aHMubGVuZ3RoID0gdGhpcy5fY2hhcnRDb3VudDtcbiAgICAgICAgdGhpcy5fbWF4WVdpZHRoID0gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyh0aGlzLl9jaGlsZFlXaWR0aHMpLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF95V2lkdGhDaGFuZ2VkKGU6IEN1c3RvbUV2ZW50PEhBU1NEb21FdmVudHNbXCJ5LXdpZHRoLWNoYW5nZWRcIl0+KSB7XG4gICAgdGhpcy5fY2hpbGRZV2lkdGhzW2UuZGV0YWlsLmNoYXJ0SW5kZXhdID0gZS5kZXRhaWwudmFsdWU7XG4gICAgdGhpcy5fbWF4WVdpZHRoID0gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyh0aGlzLl9jaGlsZFlXaWR0aHMpLCAwKTtcbiAgfVxuXG4gIHByaXZhdGUgX2lzSGlzdG9yeUVtcHR5KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGhpc3RvcnlEYXRhRW1wdHkgPVxuICAgICAgIXRoaXMuaGlzdG9yeURhdGEgfHxcbiAgICAgICF0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lIHx8XG4gICAgICAhdGhpcy5oaXN0b3J5RGF0YS5saW5lIHx8XG4gICAgICAodGhpcy5oaXN0b3J5RGF0YS50aW1lbGluZS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgdGhpcy5oaXN0b3J5RGF0YS5saW5lLmxlbmd0aCA9PT0gMCk7XG4gICAgcmV0dXJuICF0aGlzLmlzTG9hZGluZ0RhdGEgJiYgaGlzdG9yeURhdGFFbXB0eTtcbiAgfVxuXG4gIEBldmVudE9wdGlvbnMoeyBwYXNzaXZlOiB0cnVlIH0pXG4gIHByaXZhdGUgX3NhdmVTY3JvbGxQb3MoZTogRXZlbnQpIHtcbiAgICB0aGlzLl9zYXZlZFNjcm9sbFBvcyA9IChlLnRhcmdldCBhcyBIVE1MRGl2RWxlbWVudCkuc2Nyb2xsVG9wO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAvKiBoZWlnaHQgb2Ygc2luZ2xlIHRpbWVsaW5lIGNoYXJ0ID0gNjBweCAqL1xuICAgICAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdmlydHVhbGl6ZV0pIHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuXG4gICAgICAuaW5mbyB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDYwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5jb250YWluZXIge1xuICAgICAgICBtYXgtaGVpZ2h0OiB2YXIoLS1oaXN0b3J5LW1heC1oZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICAuZW50cnktY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5lbnRyeS1jb250YWluZXI6aG92ZXIge1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdmlydHVhbGl6ZV0pIC5lbnRyeS1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDFweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMXB4O1xuICAgICAgfVxuXG4gICAgICAuY29udGFpbmVyLFxuICAgICAgbGl0LXZpcnR1YWxpemVyIHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgbGl0LXZpcnR1YWxpemVyIHtcbiAgICAgICAgY29udGFpbjogc2l6ZSBsYXlvdXQgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgc3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZSxcbiAgICAgIHN0YXRlLWhpc3RvcnktY2hhcnQtbGluZSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcInN0YXRlLWhpc3RvcnktY2hhcnRzXCI6IFN0YXRlSGlzdG9yeUNoYXJ0cztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-charts.ts\n");

/***/ }),

/***/ "./src/resources/virtualizer.ts":
/*!**************************************!*\
  !*** ./src/resources/virtualizer.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadVirtualizer: function() { return /* binding */ loadVirtualizer; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resize-observer.polyfill */ \"./src/resources/resize-observer.polyfill.ts\");\n\n\n\nvar loadVirtualizer = /*#__PURE__*/function () {\n  var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee() {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0,_resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__.loadPolyfillIfNeeded)();\n        case 2:\n          _context.next = 4;\n          return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lit-html_development_async-directive_js\"), __webpack_require__.e(\"vendors-node_modules_lit_directives_repeat_js\"), __webpack_require__.e(\"vendors-node_modules_lit-labs_virtualizer_Virtualizer_js\"), __webpack_require__.e(\"vendors-node_modules_lit-labs_virtualizer_lit-virtualizer_js-node_modules_lit-html_developmen-6395be\")]).then(__webpack_require__.bind(__webpack_require__, /*! @lit-labs/virtualizer */ \"./node_modules/@lit-labs/virtualizer/lit-virtualizer.js\"));\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function loadVirtualizer() {\n    return _ref.apply(this, arguments);\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3ZpcnR1YWxpemVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUhBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3Jlc291cmNlcy92aXJ0dWFsaXplci50cz80YjA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvYWRQb2x5ZmlsbElmTmVlZGVkIH0gZnJvbSBcIi4vcmVzaXplLW9ic2VydmVyLnBvbHlmaWxsXCI7XG5cbmV4cG9ydCBjb25zdCBsb2FkVmlydHVhbGl6ZXIgPSBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IGxvYWRQb2x5ZmlsbElmTmVlZGVkKCk7XG4gIGF3YWl0IGltcG9ydChcIkBsaXQtbGFicy92aXJ0dWFsaXplclwiKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/virtualizer.ts\n");

/***/ })

}]);