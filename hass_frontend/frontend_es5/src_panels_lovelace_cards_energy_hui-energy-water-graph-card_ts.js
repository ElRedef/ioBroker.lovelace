"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_cards_energy_hui-energy-water-graph-card_ts"],{

/***/ "./src/mixins/subscribe-mixin.ts":
/*!***************************************!*\
  !*** ./src/mixins/subscribe-mixin.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SubscribeMixin: function() { return /* binding */ SubscribeMixin; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createForOfIteratorHelper */ \"./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\n\n\n\n\n\n\nvar SubscribeMixin = function SubscribeMixin(superClass) {\n  var SubscribeClass = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(null, function (_initialize, _superClass) {\n    var SubscribeClass = /*#__PURE__*/function (_superClass2) {\n      (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(SubscribeClass, _superClass2);\n      var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(SubscribeClass);\n      function SubscribeClass() {\n        var _this;\n        (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, SubscribeClass);\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        _this = _super.call.apply(_super, [this].concat(args));\n        _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_this));\n        return _this;\n      }\n      return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(SubscribeClass);\n    }(_superClass);\n    return {\n      F: SubscribeClass,\n      d: [{\n        kind: \"field\",\n        decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n          attribute: false\n        })],\n        key: \"hass\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"hassSubscribeRequiredHostProps\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"__unsubs\",\n        value: void 0\n      }, {\n        kind: \"method\",\n        key: \"connectedCallback\",\n        value:\n        // we wait with subscribing till these properties are set on the host element\n\n        function connectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(SubscribeClass.prototype), \"connectedCallback\", this).call(this);\n          this.__checkSubscribed();\n        }\n      }, {\n        kind: \"method\",\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(SubscribeClass.prototype), \"disconnectedCallback\", this).call(this);\n          if (this.__unsubs) {\n            while (this.__unsubs.length) {\n              var unsub = this.__unsubs.pop();\n              if (unsub instanceof Promise) {\n                unsub.then(function (unsubFunc) {\n                  return unsubFunc();\n                });\n              } else {\n                unsub();\n              }\n            }\n            this.__unsubs = undefined;\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"updated\",\n        value: function updated(changedProps) {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(SubscribeClass.prototype), \"updated\", this).call(this, changedProps);\n          if (changedProps.has(\"hass\")) {\n            this.__checkSubscribed();\n            return;\n          }\n          if (!this.hassSubscribeRequiredHostProps) {\n            return;\n          }\n          var _iterator = (0,_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(changedProps.keys()),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var key = _step.value;\n              if (this.hassSubscribeRequiredHostProps.includes(key)) {\n                this.__checkSubscribed();\n                return;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"hassSubscribe\",\n        value: function hassSubscribe() {\n          return [];\n        }\n      }, {\n        kind: \"method\",\n        key: \"__checkSubscribed\",\n        value: function __checkSubscribed() {\n          var _this$hassSubscribeRe,\n            _this2 = this;\n          if (this.__unsubs !== undefined || !this.isConnected || this.hass === undefined || (_this$hassSubscribeRe = this.hassSubscribeRequiredHostProps) !== null && _this$hassSubscribeRe !== void 0 && _this$hassSubscribeRe.some(function (prop) {\n            return _this2[prop] === undefined;\n          })) {\n            return;\n          }\n          this.__unsubs = this.hassSubscribe();\n        }\n      }]\n    };\n  }, superClass);\n  return SubscribeClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWl4aW5zL3N1YnNjcmliZS1taXhpbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL21peGlucy9zdWJzY3JpYmUtbWl4aW4udHM/ZjViMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlcywgUmVhY3RpdmVFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IENvbnN0cnVjdG9yLCBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzc1N1YnNjcmliZUVsZW1lbnQge1xuICBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdO1xufVxuXG5leHBvcnQgY29uc3QgU3Vic2NyaWJlTWl4aW4gPSA8VCBleHRlbmRzIENvbnN0cnVjdG9yPFJlYWN0aXZlRWxlbWVudD4+KFxuICBzdXBlckNsYXNzOiBUXG4pID0+IHtcbiAgY2xhc3MgU3Vic2NyaWJlQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzPzogSG9tZUFzc2lzdGFudDtcblxuICAgIC8vIHdlIHdhaXQgd2l0aCBzdWJzY3JpYmluZyB0aWxsIHRoZXNlIHByb3BlcnRpZXMgYXJlIHNldCBvbiB0aGUgaG9zdCBlbGVtZW50XG4gICAgcHJvdGVjdGVkIGhhc3NTdWJzY3JpYmVSZXF1aXJlZEhvc3RQcm9wcz86IHN0cmluZ1tdO1xuXG4gICAgcHJpdmF0ZSBfX3Vuc3Vicz86IEFycmF5PFVuc3Vic2NyaWJlRnVuYyB8IFByb21pc2U8VW5zdWJzY3JpYmVGdW5jPj47XG5cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICBpZiAodGhpcy5fX3Vuc3Vicykge1xuICAgICAgICB3aGlsZSAodGhpcy5fX3Vuc3Vicy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCB1bnN1YiA9IHRoaXMuX191bnN1YnMucG9wKCkhO1xuICAgICAgICAgIGlmICh1bnN1YiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHVuc3ViLnRoZW4oKHVuc3ViRnVuYykgPT4gdW5zdWJGdW5jKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fdW5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSkge1xuICAgICAgICB0aGlzLl9fY2hlY2tTdWJzY3JpYmVkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5oYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgY2hhbmdlZFByb3BzLmtleXMoKSkge1xuICAgICAgICBpZiAodGhpcy5oYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHMuaW5jbHVkZXMoa2V5IGFzIHN0cmluZykpIHtcbiAgICAgICAgICB0aGlzLl9fY2hlY2tTdWJzY3JpYmVkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhc3NTdWJzY3JpYmUoKTogQXJyYXk8XG4gICAgICBVbnN1YnNjcmliZUZ1bmMgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz5cbiAgICA+IHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9fY2hlY2tTdWJzY3JpYmVkKCk6IHZvaWQge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9fdW5zdWJzICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgISh0aGlzIGFzIHVua25vd24gYXMgRWxlbWVudCkuaXNDb25uZWN0ZWQgfHxcbiAgICAgICAgdGhpcy5oYXNzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgdGhpcy5oYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHM/LnNvbWUoXG4gICAgICAgICAgKHByb3ApID0+IHRoaXNbcHJvcF0gPT09IHVuZGVmaW5lZFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fX3Vuc3VicyA9IHRoaXMuaGFzc1N1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gU3Vic2NyaWJlQ2xhc3M7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mixins/subscribe-mixin.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/energy/hui-energy-water-graph-card.ts":
/*!*************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/hui-energy-water-graph-card.ts ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiEnergyWaterGraphCard: function() { return /* binding */ HuiEnergyWaterGraphCard; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createForOfIteratorHelper */ \"./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\");\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/startOfToday/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/endOfToday/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/isToday/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/differenceInHours/index.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/addHours/index.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_datetime_format_date__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../common/datetime/format_date */ \"./src/common/datetime/format_date.ts\");\n/* harmony import */ var _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../common/datetime/format_time */ \"./src/common/datetime/format_time.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _components_chart_ha_chart_base__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../components/chart/ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _data_energy__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../data/energy */ \"./src/data/energy.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HuiEnergyWaterGraphCard = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.customElement)(\"hui-energy-water-graph-card\")], function (_initialize, _SubscribeMixin) {\n  var HuiEnergyWaterGraphCard = /*#__PURE__*/function (_SubscribeMixin2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HuiEnergyWaterGraphCard, _SubscribeMixin2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(HuiEnergyWaterGraphCard);\n    function HuiEnergyWaterGraphCard() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, HuiEnergyWaterGraphCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HuiEnergyWaterGraphCard);\n  }(_SubscribeMixin);\n  return {\n    F: HuiEnergyWaterGraphCard,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_chartData\",\n      value: function value() {\n        return {\n          datasets: []\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_start\",\n      value: function value() {\n        return (0,date_fns__WEBPACK_IMPORTED_MODULE_24__[\"default\"])();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_end\",\n      value: function value() {\n        return (0,date_fns__WEBPACK_IMPORTED_MODULE_25__[\"default\"])();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_compareStart\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_compareEnd\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"hassSubscribeRequiredHostProps\",\n      value: function value() {\n        return [\"_config\"];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        var _this$_config,\n          _this2 = this;\n        return [(0,_data_energy__WEBPACK_IMPORTED_MODULE_21__.getEnergyDataCollection)(this.hass, {\n          key: (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.collection_key\n        }).subscribe(function (data) {\n          return _this2._getStatistics(data);\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_11__.nothing;\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n      <ha-card>\\n        \", \"\\n        <div\\n          class=\\\"content \", \"\\\"\\n        >\\n          <ha-chart-base\\n            .hass=\", \"\\n            .data=\", \"\\n            .options=\", \"\\n            chart-type=\\\"bar\\\"\\n          ></ha-chart-base>\\n          \", \"\\n        </div>\\n      </ha-card>\\n    \"])), this._config.title ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<h1 class=\\\"card-header\\\">\", \"</h1>\"])), this._config.title) : \"\", (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_13__.classMap)({\n          \"has-header\": !!this._config.title\n        }), this.hass, this._chartData, this._createOptions(this._start, this._end, this.hass.locale, this._unit, this._compareStart, this._compareEnd), !this._chartData.datasets.length ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<div class=\\\"no-data\\\">\\n                \", \"\\n              </div>\"])), (0,date_fns__WEBPACK_IMPORTED_MODULE_26__[\"default\"])(this._start) ? this.hass.localize(\"ui.panel.lovelace.cards.energy.no_data\") : this.hass.localize(\"ui.panel.lovelace.cards.energy.no_data_period\")) : \"\");\n      }\n    }, {\n      kind: \"field\",\n      key: \"_createOptions\",\n      value: function value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(function (start, end, locale, unit, compareStart, compareEnd) {\n          var dayDifference = (0,date_fns__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(end, start);\n          var compare = compareStart !== undefined && compareEnd !== undefined;\n          if (compare) {\n            var difference = (0,date_fns__WEBPACK_IMPORTED_MODULE_29__[\"default\"])(end, start);\n            var differenceCompare = (0,date_fns__WEBPACK_IMPORTED_MODULE_29__[\"default\"])(compareEnd, compareStart);\n            // If the compare period doesn't match the main period, adjust them to match\n            if (differenceCompare > difference) {\n              end = (0,date_fns__WEBPACK_IMPORTED_MODULE_30__[\"default\"])(end, differenceCompare - difference);\n            } else if (difference > differenceCompare) {\n              compareEnd = (0,date_fns__WEBPACK_IMPORTED_MODULE_30__[\"default\"])(compareEnd, difference - differenceCompare);\n            }\n          }\n          var options = {\n            parsing: false,\n            animation: false,\n            interaction: {\n              mode: \"x\"\n            },\n            scales: {\n              x: {\n                type: \"time\",\n                suggestedMin: start.getTime(),\n                suggestedMax: end.getTime(),\n                adapters: {\n                  date: {\n                    locale: locale\n                  }\n                },\n                ticks: {\n                  maxRotation: 0,\n                  sampleSize: 5,\n                  autoSkipPadding: 20,\n                  font: function font(context) {\n                    return context.tick && context.tick.major ? {\n                      weight: \"bold\"\n                    } : {};\n                  }\n                },\n                time: {\n                  tooltipFormat: dayDifference > 35 ? \"monthyear\" : dayDifference > 7 ? \"date\" : dayDifference > 2 ? \"weekday\" : dayDifference > 0 ? \"datetime\" : \"hour\",\n                  minUnit: dayDifference > 35 ? \"month\" : dayDifference > 2 ? \"day\" : \"hour\"\n                },\n                offset: true\n              },\n              y: {\n                stacked: true,\n                type: \"linear\",\n                title: {\n                  display: true,\n                  text: unit\n                },\n                ticks: {\n                  beginAtZero: true\n                }\n              }\n            },\n            plugins: {\n              tooltip: {\n                position: \"nearest\",\n                callbacks: {\n                  title: function title(datasets) {\n                    if (dayDifference > 0) {\n                      return datasets[0].label;\n                    }\n                    var date = new Date(datasets[0].parsed.x);\n                    return \"\".concat(compare ? \"\".concat((0,_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_16__.formatDateShort)(date, locale), \": \") : \"\").concat((0,_common_datetime_format_time__WEBPACK_IMPORTED_MODULE_17__.formatTime)(date, locale), \" \\u2013 \").concat((0,_common_datetime_format_time__WEBPACK_IMPORTED_MODULE_17__.formatTime)((0,date_fns__WEBPACK_IMPORTED_MODULE_30__[\"default\"])(date, 1), locale));\n                  },\n                  label: function label(context) {\n                    return \"\".concat(context.dataset.label, \": \").concat((0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_18__.formatNumber)(context.parsed.y, locale), \" \").concat(unit);\n                  }\n                }\n              },\n              filler: {\n                propagate: false\n              },\n              legend: {\n                display: false,\n                labels: {\n                  usePointStyle: true\n                }\n              }\n            },\n            elements: {\n              bar: {\n                borderWidth: 1.5,\n                borderRadius: 4\n              },\n              point: {\n                hitRadius: 50\n              }\n            },\n            // @ts-expect-error\n            locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_18__.numberFormatToLocale)(locale)\n          };\n          if (compare) {\n            options.scales.xAxisCompare = Object.assign(Object.assign({}, options.scales.x), {}, {\n              suggestedMin: compareStart.getTime(),\n              suggestedMax: compareEnd.getTime(),\n              display: false\n            });\n          }\n          return options;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getStatistics\",\n      value: function () {\n        var _getStatistics2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee(energyData) {\n          var waterSources, datasets, computedStyles, waterColor;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                waterSources = energyData.prefs.energy_sources.filter(function (source) {\n                  return source.type === \"water\";\n                });\n                this._unit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_21__.getEnergyWaterUnit)(this.hass);\n                datasets = [];\n                computedStyles = getComputedStyle(this);\n                waterColor = computedStyles.getPropertyValue(\"--energy-water-color\").trim();\n                datasets.push.apply(datasets, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._processDataSet(energyData.stats, energyData.statsMetadata, waterSources, waterColor)));\n                if (energyData.statsCompare) {\n                  // Add empty dataset to align the bars\n                  datasets.push({\n                    order: 0,\n                    data: []\n                  });\n                  datasets.push({\n                    order: 999,\n                    data: [],\n                    xAxisID: \"xAxisCompare\"\n                  });\n                  datasets.push.apply(datasets, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._processDataSet(energyData.statsCompare, energyData.statsMetadata, waterSources, waterColor, true)));\n                }\n                this._start = energyData.start;\n                this._end = energyData.end || (0,date_fns__WEBPACK_IMPORTED_MODULE_25__[\"default\"])();\n                this._compareStart = energyData.startCompare;\n                this._compareEnd = energyData.endCompare;\n                this._chartData = {\n                  datasets: datasets\n                };\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _getStatistics(_x) {\n          return _getStatistics2.apply(this, arguments);\n        }\n        return _getStatistics;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_processDataSet\",\n      value: function _processDataSet(statistics, statisticsMetaData, waterSources, waterColor) {\n        var _this3 = this;\n        var compare = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n        var data = [];\n        waterSources.forEach(function (source, idx) {\n          var modifiedColor = idx > 0 ? _this3.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_15__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.hex2rgb)(waterColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_15__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.hex2rgb)(waterColor)), idx) : undefined;\n          var borderColor = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_14__.lab2rgb)(modifiedColor)) : waterColor;\n          var prevStart = null;\n          var waterConsumptionData = [];\n\n          // Process water consumption data.\n          if (source.stat_energy_from in statistics) {\n            var stats = statistics[source.stat_energy_from];\n            var _iterator = (0,_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(stats),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var point = _step.value;\n                if (point.change === null || point.change === undefined) {\n                  continue;\n                }\n                if (prevStart === point.start) {\n                  continue;\n                }\n                var date = new Date(point.start);\n                waterConsumptionData.push({\n                  x: date.getTime(),\n                  y: point.change\n                });\n                prevStart = point.start;\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          }\n          data.push({\n            label: (0,_data_recorder__WEBPACK_IMPORTED_MODULE_22__.getStatisticLabel)(_this3.hass, source.stat_energy_from, statisticsMetaData[source.stat_energy_from]),\n            borderColor: compare ? borderColor + \"7F\" : borderColor,\n            backgroundColor: compare ? borderColor + \"32\" : borderColor + \"7F\",\n            data: waterConsumptionData,\n            order: 1,\n            stack: \"water\",\n            xAxisID: compare ? \"xAxisCompare\" : undefined\n          });\n        });\n        return data;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.css)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n      ha-card {\\n        height: 100%;\\n      }\\n      .card-header {\\n        padding-bottom: 0;\\n      }\\n      .content {\\n        padding: 16px;\\n      }\\n      .has-header {\\n        padding-top: 0;\\n      }\\n      .no-data {\\n        position: absolute;\\n        height: 100%;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        padding: 20%;\\n        margin-left: 32px;\\n        box-sizing: border-box;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_23__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_11__.LitElement));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXdhdGVyLWdyYXBoLWNhcmQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUEyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBSUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUEyQkE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvZW5lcmd5L2h1aS1lbmVyZ3ktd2F0ZXItZ3JhcGgtY2FyZC50cz85ZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYXJ0RGF0YSxcbiAgQ2hhcnREYXRhc2V0LFxuICBDaGFydE9wdGlvbnMsXG4gIFNjYXR0ZXJEYXRhUG9pbnQsXG59IGZyb20gXCJjaGFydC5qc1wiO1xuaW1wb3J0IHtcbiAgYWRkSG91cnMsXG4gIGRpZmZlcmVuY2VJbkRheXMsXG4gIGRpZmZlcmVuY2VJbkhvdXJzLFxuICBlbmRPZlRvZGF5LFxuICBpc1RvZGF5LFxuICBzdGFydE9mVG9kYXksXG59IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgbm90aGluZyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7XG4gIGhleDJyZ2IsXG4gIGxhYjJyZ2IsXG4gIHJnYjJoZXgsXG4gIHJnYjJsYWIsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vY29sb3IvY29udmVydC1jb2xvclwiO1xuaW1wb3J0IHsgbGFiQnJpZ2h0ZW4sIGxhYkRhcmtlbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vY29sb3IvbGFiXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlU2hvcnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlXCI7XG5pbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfdGltZVwiO1xuaW1wb3J0IHtcbiAgZm9ybWF0TnVtYmVyLFxuICBudW1iZXJGb3JtYXRUb0xvY2FsZSxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9udW1iZXIvZm9ybWF0X251bWJlclwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9jaGFydC9oYS1jaGFydC1iYXNlXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhcmRcIjtcbmltcG9ydCB7XG4gIEVuZXJneURhdGEsXG4gIGdldEVuZXJneURhdGFDb2xsZWN0aW9uLFxuICBnZXRFbmVyZ3lXYXRlclVuaXQsXG4gIFdhdGVyU291cmNlVHlwZUVuZXJneVByZWZlcmVuY2UsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL2VuZXJneVwiO1xuaW1wb3J0IHtcbiAgZ2V0U3RhdGlzdGljTGFiZWwsXG4gIFN0YXRpc3RpY3MsXG4gIFN0YXRpc3RpY3NNZXRhRGF0YSxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvcmVjb3JkZXJcIjtcbmltcG9ydCB7IEZyb250ZW5kTG9jYWxlRGF0YSB9IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL3RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVNaXhpbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9taXhpbnMvc3Vic2NyaWJlLW1peGluXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBMb3ZlbGFjZUNhcmQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IEVuZXJneVdhdGVyR3JhcGhDYXJkQ29uZmlnIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaHVpLWVuZXJneS13YXRlci1ncmFwaC1jYXJkXCIpXG5leHBvcnQgY2xhc3MgSHVpRW5lcmd5V2F0ZXJHcmFwaENhcmRcbiAgZXh0ZW5kcyBTdWJzY3JpYmVNaXhpbihMaXRFbGVtZW50KVxuICBpbXBsZW1lbnRzIExvdmVsYWNlQ2FyZFxue1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb25maWc/OiBFbmVyZ3lXYXRlckdyYXBoQ2FyZENvbmZpZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jaGFydERhdGE6IENoYXJ0RGF0YSA9IHtcbiAgICBkYXRhc2V0czogW10sXG4gIH07XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfc3RhcnQgPSBzdGFydE9mVG9kYXkoKTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lbmQgPSBlbmRPZlRvZGF5KCk7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY29tcGFyZVN0YXJ0PzogRGF0ZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb21wYXJlRW5kPzogRGF0ZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF91bml0Pzogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHMgPSBbXCJfY29uZmlnXCJdO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgZ2V0RW5lcmd5RGF0YUNvbGxlY3Rpb24odGhpcy5oYXNzLCB7XG4gICAgICAgIGtleTogdGhpcy5fY29uZmlnPy5jb2xsZWN0aW9uX2tleSxcbiAgICAgIH0pLnN1YnNjcmliZSgoZGF0YSkgPT4gdGhpcy5fZ2V0U3RhdGlzdGljcyhkYXRhKSksXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYXJkU2l6ZSgpOiBQcm9taXNlPG51bWJlcj4gfCBudW1iZXIge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgcHVibGljIHNldENvbmZpZyhjb25maWc6IEVuZXJneVdhdGVyR3JhcGhDYXJkQ29uZmlnKTogdm9pZCB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5fY29uZmlnKSB7XG4gICAgICByZXR1cm4gbm90aGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkPlxuICAgICAgICAke3RoaXMuX2NvbmZpZy50aXRsZVxuICAgICAgICAgID8gaHRtbGA8aDEgY2xhc3M9XCJjYXJkLWhlYWRlclwiPiR7dGhpcy5fY29uZmlnLnRpdGxlfTwvaDE+YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiY29udGVudCAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgIFwiaGFzLWhlYWRlclwiOiAhIXRoaXMuX2NvbmZpZy50aXRsZSxcbiAgICAgICAgICB9KX1cIlxuICAgICAgICA+XG4gICAgICAgICAgPGhhLWNoYXJ0LWJhc2VcbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLmRhdGE9JHt0aGlzLl9jaGFydERhdGF9XG4gICAgICAgICAgICAub3B0aW9ucz0ke3RoaXMuX2NyZWF0ZU9wdGlvbnMoXG4gICAgICAgICAgICAgIHRoaXMuX3N0YXJ0LFxuICAgICAgICAgICAgICB0aGlzLl9lbmQsXG4gICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgIHRoaXMuX3VuaXQsXG4gICAgICAgICAgICAgIHRoaXMuX2NvbXBhcmVTdGFydCxcbiAgICAgICAgICAgICAgdGhpcy5fY29tcGFyZUVuZFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGNoYXJ0LXR5cGU9XCJiYXJcIlxuICAgICAgICAgID48L2hhLWNoYXJ0LWJhc2U+XG4gICAgICAgICAgJHshdGhpcy5fY2hhcnREYXRhLmRhdGFzZXRzLmxlbmd0aFxuICAgICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9XCJuby1kYXRhXCI+XG4gICAgICAgICAgICAgICAgJHtpc1RvZGF5KHRoaXMuX3N0YXJ0KVxuICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kubm9fZGF0YVwiKVxuICAgICAgICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kubm9fZGF0YV9wZXJpb2RcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYS1jYXJkPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVPcHRpb25zID0gbWVtb2l6ZU9uZShcbiAgICAoXG4gICAgICBzdGFydDogRGF0ZSxcbiAgICAgIGVuZDogRGF0ZSxcbiAgICAgIGxvY2FsZTogRnJvbnRlbmRMb2NhbGVEYXRhLFxuICAgICAgdW5pdD86IHN0cmluZyxcbiAgICAgIGNvbXBhcmVTdGFydD86IERhdGUsXG4gICAgICBjb21wYXJlRW5kPzogRGF0ZVxuICAgICk6IENoYXJ0T3B0aW9ucyA9PiB7XG4gICAgICBjb25zdCBkYXlEaWZmZXJlbmNlID0gZGlmZmVyZW5jZUluRGF5cyhlbmQsIHN0YXJ0KTtcbiAgICAgIGNvbnN0IGNvbXBhcmUgPSBjb21wYXJlU3RhcnQgIT09IHVuZGVmaW5lZCAmJiBjb21wYXJlRW5kICE9PSB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICBjb25zdCBkaWZmZXJlbmNlID0gZGlmZmVyZW5jZUluSG91cnMoZW5kLCBzdGFydCk7XG4gICAgICAgIGNvbnN0IGRpZmZlcmVuY2VDb21wYXJlID0gZGlmZmVyZW5jZUluSG91cnMoY29tcGFyZUVuZCEsIGNvbXBhcmVTdGFydCEpO1xuICAgICAgICAvLyBJZiB0aGUgY29tcGFyZSBwZXJpb2QgZG9lc24ndCBtYXRjaCB0aGUgbWFpbiBwZXJpb2QsIGFkanVzdCB0aGVtIHRvIG1hdGNoXG4gICAgICAgIGlmIChkaWZmZXJlbmNlQ29tcGFyZSA+IGRpZmZlcmVuY2UpIHtcbiAgICAgICAgICBlbmQgPSBhZGRIb3VycyhlbmQsIGRpZmZlcmVuY2VDb21wYXJlIC0gZGlmZmVyZW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA+IGRpZmZlcmVuY2VDb21wYXJlKSB7XG4gICAgICAgICAgY29tcGFyZUVuZCA9IGFkZEhvdXJzKGNvbXBhcmVFbmQhLCBkaWZmZXJlbmNlIC0gZGlmZmVyZW5jZUNvbXBhcmUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9wdGlvbnM6IENoYXJ0T3B0aW9ucyA9IHtcbiAgICAgICAgcGFyc2luZzogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXG4gICAgICAgIGludGVyYWN0aW9uOiB7XG4gICAgICAgICAgbW9kZTogXCJ4XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHNjYWxlczoge1xuICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgIHR5cGU6IFwidGltZVwiLFxuICAgICAgICAgICAgc3VnZ2VzdGVkTWluOiBzdGFydC5nZXRUaW1lKCksXG4gICAgICAgICAgICBzdWdnZXN0ZWRNYXg6IGVuZC5nZXRUaW1lKCksXG4gICAgICAgICAgICBhZGFwdGVyczoge1xuICAgICAgICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgbWF4Um90YXRpb246IDAsXG4gICAgICAgICAgICAgIHNhbXBsZVNpemU6IDUsXG4gICAgICAgICAgICAgIGF1dG9Ta2lwUGFkZGluZzogMjAsXG4gICAgICAgICAgICAgIGZvbnQ6IChjb250ZXh0KSA9PlxuICAgICAgICAgICAgICAgIGNvbnRleHQudGljayAmJiBjb250ZXh0LnRpY2subWFqb3JcbiAgICAgICAgICAgICAgICAgID8gKHsgd2VpZ2h0OiBcImJvbGRcIiB9IGFzIGFueSlcbiAgICAgICAgICAgICAgICAgIDoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGltZToge1xuICAgICAgICAgICAgICB0b29sdGlwRm9ybWF0OlxuICAgICAgICAgICAgICAgIGRheURpZmZlcmVuY2UgPiAzNVxuICAgICAgICAgICAgICAgICAgPyBcIm1vbnRoeWVhclwiXG4gICAgICAgICAgICAgICAgICA6IGRheURpZmZlcmVuY2UgPiA3XG4gICAgICAgICAgICAgICAgICA/IFwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICA6IGRheURpZmZlcmVuY2UgPiAyXG4gICAgICAgICAgICAgICAgICA/IFwid2Vla2RheVwiXG4gICAgICAgICAgICAgICAgICA6IGRheURpZmZlcmVuY2UgPiAwXG4gICAgICAgICAgICAgICAgICA/IFwiZGF0ZXRpbWVcIlxuICAgICAgICAgICAgICAgICAgOiBcImhvdXJcIixcbiAgICAgICAgICAgICAgbWluVW5pdDpcbiAgICAgICAgICAgICAgICBkYXlEaWZmZXJlbmNlID4gMzVcbiAgICAgICAgICAgICAgICAgID8gXCJtb250aFwiXG4gICAgICAgICAgICAgICAgICA6IGRheURpZmZlcmVuY2UgPiAyXG4gICAgICAgICAgICAgICAgICA/IFwiZGF5XCJcbiAgICAgICAgICAgICAgICAgIDogXCJob3VyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2Zmc2V0OiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeToge1xuICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwibGluZWFyXCIsXG4gICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgICB0ZXh0OiB1bml0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgcG9zaXRpb246IFwibmVhcmVzdFwiLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgIHRpdGxlOiAoZGF0YXNldHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF5RGlmZmVyZW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhc2V0c1swXS5sYWJlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGFzZXRzWzBdLnBhcnNlZC54KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7XG4gICAgICAgICAgICAgICAgICBjb21wYXJlID8gYCR7Zm9ybWF0RGF0ZVNob3J0KGRhdGUsIGxvY2FsZSl9OiBgIDogXCJcIlxuICAgICAgICAgICAgICAgIH0ke2Zvcm1hdFRpbWUoZGF0ZSwgbG9jYWxlKX0g4oCTICR7Zm9ybWF0VGltZShcbiAgICAgICAgICAgICAgICAgIGFkZEhvdXJzKGRhdGUsIDEpLFxuICAgICAgICAgICAgICAgICAgbG9jYWxlXG4gICAgICAgICAgICAgICAgKX1gO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBsYWJlbDogKGNvbnRleHQpID0+XG4gICAgICAgICAgICAgICAgYCR7Y29udGV4dC5kYXRhc2V0LmxhYmVsfTogJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICBjb250ZXh0LnBhcnNlZC55LFxuICAgICAgICAgICAgICAgICAgbG9jYWxlXG4gICAgICAgICAgICAgICAgKX0gJHt1bml0fWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmlsbGVyOiB7XG4gICAgICAgICAgICBwcm9wYWdhdGU6IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICB1c2VQb2ludFN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBlbGVtZW50czoge1xuICAgICAgICAgIGJhcjogeyBib3JkZXJXaWR0aDogMS41LCBib3JkZXJSYWRpdXM6IDQgfSxcbiAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgaGl0UmFkaXVzOiA1MCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGxvY2FsZTogbnVtYmVyRm9ybWF0VG9Mb2NhbGUobG9jYWxlKSxcbiAgICAgIH07XG4gICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICBvcHRpb25zLnNjYWxlcyEueEF4aXNDb21wYXJlID0ge1xuICAgICAgICAgIC4uLihvcHRpb25zLnNjYWxlcyEueCBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KSxcbiAgICAgICAgICBzdWdnZXN0ZWRNaW46IGNvbXBhcmVTdGFydCEuZ2V0VGltZSgpLFxuICAgICAgICAgIHN1Z2dlc3RlZE1heDogY29tcGFyZUVuZCEuZ2V0VGltZSgpLFxuICAgICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICApO1xuXG4gIHByaXZhdGUgYXN5bmMgX2dldFN0YXRpc3RpY3MoZW5lcmd5RGF0YTogRW5lcmd5RGF0YSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHdhdGVyU291cmNlczogV2F0ZXJTb3VyY2VUeXBlRW5lcmd5UHJlZmVyZW5jZVtdID1cbiAgICAgIGVuZXJneURhdGEucHJlZnMuZW5lcmd5X3NvdXJjZXMuZmlsdGVyKFxuICAgICAgICAoc291cmNlKSA9PiBzb3VyY2UudHlwZSA9PT0gXCJ3YXRlclwiXG4gICAgICApIGFzIFdhdGVyU291cmNlVHlwZUVuZXJneVByZWZlcmVuY2VbXTtcblxuICAgIHRoaXMuX3VuaXQgPSBnZXRFbmVyZ3lXYXRlclVuaXQodGhpcy5oYXNzKTtcblxuICAgIGNvbnN0IGRhdGFzZXRzOiBDaGFydERhdGFzZXQ8XCJiYXJcIiwgU2NhdHRlckRhdGFQb2ludFtdPltdID0gW107XG5cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgY29uc3Qgd2F0ZXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LXdhdGVyLWNvbG9yXCIpXG4gICAgICAudHJpbSgpO1xuXG4gICAgZGF0YXNldHMucHVzaChcbiAgICAgIC4uLnRoaXMuX3Byb2Nlc3NEYXRhU2V0KFxuICAgICAgICBlbmVyZ3lEYXRhLnN0YXRzLFxuICAgICAgICBlbmVyZ3lEYXRhLnN0YXRzTWV0YWRhdGEsXG4gICAgICAgIHdhdGVyU291cmNlcyxcbiAgICAgICAgd2F0ZXJDb2xvclxuICAgICAgKVxuICAgICk7XG5cbiAgICBpZiAoZW5lcmd5RGF0YS5zdGF0c0NvbXBhcmUpIHtcbiAgICAgIC8vIEFkZCBlbXB0eSBkYXRhc2V0IHRvIGFsaWduIHRoZSBiYXJzXG4gICAgICBkYXRhc2V0cy5wdXNoKHtcbiAgICAgICAgb3JkZXI6IDAsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBkYXRhc2V0cy5wdXNoKHtcbiAgICAgICAgb3JkZXI6IDk5OSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHhBeGlzSUQ6IFwieEF4aXNDb21wYXJlXCIsXG4gICAgICB9KTtcblxuICAgICAgZGF0YXNldHMucHVzaChcbiAgICAgICAgLi4udGhpcy5fcHJvY2Vzc0RhdGFTZXQoXG4gICAgICAgICAgZW5lcmd5RGF0YS5zdGF0c0NvbXBhcmUsXG4gICAgICAgICAgZW5lcmd5RGF0YS5zdGF0c01ldGFkYXRhLFxuICAgICAgICAgIHdhdGVyU291cmNlcyxcbiAgICAgICAgICB3YXRlckNvbG9yLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydCA9IGVuZXJneURhdGEuc3RhcnQ7XG4gICAgdGhpcy5fZW5kID0gZW5lcmd5RGF0YS5lbmQgfHwgZW5kT2ZUb2RheSgpO1xuXG4gICAgdGhpcy5fY29tcGFyZVN0YXJ0ID0gZW5lcmd5RGF0YS5zdGFydENvbXBhcmU7XG4gICAgdGhpcy5fY29tcGFyZUVuZCA9IGVuZXJneURhdGEuZW5kQ29tcGFyZTtcblxuICAgIHRoaXMuX2NoYXJ0RGF0YSA9IHtcbiAgICAgIGRhdGFzZXRzLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIF9wcm9jZXNzRGF0YVNldChcbiAgICBzdGF0aXN0aWNzOiBTdGF0aXN0aWNzLFxuICAgIHN0YXRpc3RpY3NNZXRhRGF0YTogUmVjb3JkPHN0cmluZywgU3RhdGlzdGljc01ldGFEYXRhPixcbiAgICB3YXRlclNvdXJjZXM6IFdhdGVyU291cmNlVHlwZUVuZXJneVByZWZlcmVuY2VbXSxcbiAgICB3YXRlckNvbG9yOiBzdHJpbmcsXG4gICAgY29tcGFyZSA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IGRhdGE6IENoYXJ0RGF0YXNldDxcImJhclwiLCBTY2F0dGVyRGF0YVBvaW50W10+W10gPSBbXTtcblxuICAgIHdhdGVyU291cmNlcy5mb3JFYWNoKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgIGlkeCA+IDBcbiAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKHdhdGVyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKHdhdGVyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgYm9yZGVyQ29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkQ29sb3IpKVxuICAgICAgICA6IHdhdGVyQ29sb3I7XG5cbiAgICAgIGxldCBwcmV2U3RhcnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgICBjb25zdCB3YXRlckNvbnN1bXB0aW9uRGF0YTogU2NhdHRlckRhdGFQb2ludFtdID0gW107XG5cbiAgICAgIC8vIFByb2Nlc3Mgd2F0ZXIgY29uc3VtcHRpb24gZGF0YS5cbiAgICAgIGlmIChzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSBpbiBzdGF0aXN0aWNzKSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gc3RhdGlzdGljc1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV07XG5cbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBzdGF0cykge1xuICAgICAgICAgIGlmIChwb2ludC5jaGFuZ2UgPT09IG51bGwgfHwgcG9pbnQuY2hhbmdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJldlN0YXJ0ID09PSBwb2ludC5zdGFydCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwb2ludC5zdGFydCk7XG4gICAgICAgICAgd2F0ZXJDb25zdW1wdGlvbkRhdGEucHVzaCh7XG4gICAgICAgICAgICB4OiBkYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIHk6IHBvaW50LmNoYW5nZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2U3RhcnQgPSBwb2ludC5zdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkYXRhLnB1c2goe1xuICAgICAgICBsYWJlbDogZ2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgIHNvdXJjZS5zdGF0X2VuZXJneV9mcm9tLFxuICAgICAgICAgIHN0YXRpc3RpY3NNZXRhRGF0YVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgKSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGNvbXBhcmUgPyBib3JkZXJDb2xvciArIFwiN0ZcIiA6IGJvcmRlckNvbG9yLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbXBhcmUgPyBib3JkZXJDb2xvciArIFwiMzJcIiA6IGJvcmRlckNvbG9yICsgXCI3RlwiLFxuICAgICAgICBkYXRhOiB3YXRlckNvbnN1bXB0aW9uRGF0YSxcbiAgICAgICAgb3JkZXI6IDEsXG4gICAgICAgIHN0YWNrOiBcIndhdGVyXCIsXG4gICAgICAgIHhBeGlzSUQ6IGNvbXBhcmUgPyBcInhBeGlzQ29tcGFyZVwiIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgICAuY2FyZC1oZWFkZXIge1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cbiAgICAgIC5oYXMtaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgICB9XG4gICAgICAubm8tZGF0YSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMjAlO1xuICAgICAgICBtYXJnaW4tbGVmdDogMzJweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJodWktZW5lcmd5LXdhdGVyLWdyYXBoLWNhcmRcIjogSHVpRW5lcmd5V2F0ZXJHcmFwaENhcmQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/hui-energy-water-graph-card.ts\n");

/***/ })

}]);