"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_components_chart_state-history-charts_ts"],{

/***/ "./src/common/decorators/restore-scroll.ts":
/*!*************************************************!*\
  !*** ./src/common/decorators/restore-scroll.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"restoreScroll\": function() { return /* binding */ restoreScroll; }\n/* harmony export */ });\nvar restoreScroll = function restoreScroll(selector) {\n  return function (element) {\n    return {\n      kind: \"method\",\n      placement: \"prototype\",\n      key: element.key,\n      descriptor: {\n        set: function set(value) {\n          this[\"__\".concat(String(element.key))] = value;\n        },\n        get: function get() {\n          return this[\"__\".concat(String(element.key))];\n        },\n        enumerable: true,\n        configurable: true\n      },\n      finisher: function finisher(cls) {\n        var connectedCallback = cls.prototype.connectedCallback;\n\n        cls.prototype.connectedCallback = function () {\n          connectedCallback.call(this);\n\n          if (this[element.key]) {\n            var target = this.renderRoot.querySelector(selector);\n\n            if (!target) {\n              return;\n            }\n\n            target.scrollTop = this[element.key];\n          }\n        };\n      }\n    };\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2RlY29yYXRvcnMvcmVzdG9yZS1zY3JvbGwudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUJBO0FBQUE7QUFEQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9kZWNvcmF0b3JzL3Jlc3RvcmUtc2Nyb2xsLnRzPzQxNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHR5cGUgeyBDbGFzc0VsZW1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHJlc3RvcmVTY3JvbGwgPVxuICAoc2VsZWN0b3I6IHN0cmluZyk6IGFueSA9PlxuICAoZWxlbWVudDogQ2xhc3NFbGVtZW50KSA9PiAoe1xuICAgIGtpbmQ6IFwibWV0aG9kXCIsXG4gICAgcGxhY2VtZW50OiBcInByb3RvdHlwZVwiLFxuICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgZGVzY3JpcHRvcjoge1xuICAgICAgc2V0KHRoaXM6IExpdEVsZW1lbnQsIHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpc1tgX18ke1N0cmluZyhlbGVtZW50LmtleSl9YF0gPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBnZXQodGhpczogTGl0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpc1tgX18ke1N0cmluZyhlbGVtZW50LmtleSl9YF07XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIGZpbmlzaGVyKGNsczogdHlwZW9mIExpdEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGNvbm5lY3RlZENhbGxiYWNrID0gY2xzLnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaztcbiAgICAgIGNscy5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzW2VsZW1lbnQua2V5XSkge1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXQuc2Nyb2xsVG9wID0gdGhpc1tlbGVtZW50LmtleV07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/decorators/restore-scroll.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-chart-line.ts":
/*!**********************************************************!*\
  !*** ./src/components/chart/state-history-chart-line.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_color_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/color/colors */ \"./src/common/color/colors.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _ha_chart_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\nvar safeParseFloat = function safeParseFloat(value) {\n  var parsed = parseFloat(value);\n  return isFinite(parsed) ? parsed : null;\n};\n\nvar StateHistoryChartLine = _decorate(null, function (_initialize, _LitElement) {\n  var StateHistoryChartLine = /*#__PURE__*/function (_LitElement2) {\n    _inherits(StateHistoryChartLine, _LitElement2);\n\n    var _super = _createSuper(StateHistoryChartLine);\n\n    function StateHistoryChartLine() {\n      var _this;\n\n      _classCallCheck(this, StateHistoryChartLine);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return StateHistoryChartLine;\n  }(_LitElement);\n\n  return {\n    F: StateHistoryChartLine,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"data\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"names\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"identifier\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean\n      })],\n      key: \"isSingleDevice\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_chartData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_chartOptions\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_chartTime\",\n      value: function value() {\n        return new Date();\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-chart-base\\n        .data=\", \"\\n        .options=\", \"\\n        chart-type=\\\"line\\\"\\n      ></ha-chart-base>\\n    \"])), this._chartData, this._chartOptions);\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        var _this2 = this;\n\n        if (!this.hasUpdated) {\n          this._chartOptions = {\n            parsing: false,\n            animation: false,\n            scales: {\n              x: {\n                type: \"time\",\n                adapters: {\n                  date: {\n                    locale: this.hass.locale\n                  }\n                },\n                suggestedMax: this.endTime,\n                ticks: {\n                  maxRotation: 0,\n                  sampleSize: 5,\n                  autoSkipPadding: 20,\n                  major: {\n                    enabled: true\n                  },\n                  font: function font(context) {\n                    return context.tick && context.tick.major ? {\n                      weight: \"bold\"\n                    } : {};\n                  }\n                },\n                time: {\n                  tooltipFormat: \"datetimeseconds\"\n                }\n              },\n              y: {\n                ticks: {\n                  maxTicksLimit: 7\n                },\n                title: {\n                  display: true,\n                  text: this.unit\n                }\n              }\n            },\n            plugins: {\n              tooltip: {\n                mode: \"nearest\",\n                callbacks: {\n                  label: function label(context) {\n                    return \"\".concat(context.dataset.label, \": \").concat((0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_3__.formatNumber)(context.parsed.y, _this2.hass.locale), \" \").concat(_this2.unit);\n                  }\n                }\n              },\n              filler: {\n                propagate: true\n              },\n              legend: {\n                display: !this.isSingleDevice,\n                labels: {\n                  usePointStyle: true\n                }\n              }\n            },\n            hover: {\n              mode: \"nearest\"\n            },\n            elements: {\n              line: {\n                tension: 0.1,\n                borderWidth: 1.5\n              },\n              point: {\n                hitRadius: 5\n              }\n            },\n            // @ts-expect-error\n            locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_3__.numberFormatToLocale)(this.hass.locale)\n          };\n        }\n\n        if (changedProps.has(\"data\") || this._chartTime < new Date(this.endTime.getTime() - _ha_chart_base__WEBPACK_IMPORTED_MODULE_4__.MIN_TIME_BETWEEN_UPDATES)) {\n          // If the line is more than 5 minutes old, re-gen it\n          // so the X axis grows even if there is no new data\n          this._generateData();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_generateData\",\n      value: function _generateData() {\n        var _this3 = this;\n\n        var colorIndex = 0;\n        var computedStyles = getComputedStyle(this);\n        var entityStates = this.data;\n        var datasets = [];\n\n        if (entityStates.length === 0) {\n          return;\n        }\n\n        this._chartTime = new Date();\n        var endTime = this.endTime;\n        var names = this.names || {};\n        entityStates.forEach(function (states) {\n          var domain = states.domain;\n          var name = names[states.entity_id] || states.name; // array containing [value1, value2, etc]\n\n          var prevValues = null;\n          var data = [];\n\n          var pushData = function pushData(timestamp, datavalues) {\n            if (!datavalues) return;\n\n            if (timestamp > endTime) {\n              // Drop data points that are after the requested endTime. This could happen if\n              // endTime is \"now\" and client time is not in sync with server time.\n              return;\n            }\n\n            data.forEach(function (d, i) {\n              if (datavalues[i] === null && prevValues && prevValues[i] !== null) {\n                // null data values show up as gaps in the chart.\n                // If the current value for the dataset is null and the previous\n                // value of the data set is not null, then add an 'end' point\n                // to the chart for the previous value. Otherwise the gap will\n                // be too big. It will go from the start of the previous data\n                // value until the start of the next data value.\n                d.data.push({\n                  x: timestamp.getTime(),\n                  y: prevValues[i]\n                });\n              }\n\n              d.data.push({\n                x: timestamp.getTime(),\n                y: datavalues[i]\n              });\n            });\n            prevValues = datavalues;\n          };\n\n          var addDataSet = function addDataSet(nameY) {\n            var fill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var color = arguments.length > 2 ? arguments[2] : undefined;\n\n            if (!color) {\n              color = (0,_common_color_colors__WEBPACK_IMPORTED_MODULE_2__.getGraphColorByIndex)(colorIndex, computedStyles);\n              colorIndex++;\n            }\n\n            data.push({\n              label: nameY,\n              fill: fill ? \"origin\" : false,\n              borderColor: color,\n              backgroundColor: color + \"7F\",\n              stepped: \"before\",\n              pointRadius: 0,\n              data: []\n            });\n          };\n\n          if (domain === \"thermostat\" || domain === \"climate\" || domain === \"water_heater\") {\n            var hasHvacAction = states.states.some(function (entityState) {\n              var _entityState$attribut;\n\n              return (_entityState$attribut = entityState.attributes) === null || _entityState$attribut === void 0 ? void 0 : _entityState$attribut.hvac_action;\n            });\n            var isHeating = domain === \"climate\" && hasHvacAction ? function (entityState) {\n              var _entityState$attribut2;\n\n              return ((_entityState$attribut2 = entityState.attributes) === null || _entityState$attribut2 === void 0 ? void 0 : _entityState$attribut2.hvac_action) === \"heating\";\n            } : function (entityState) {\n              return entityState.state === \"heat\";\n            };\n            var isCooling = domain === \"climate\" && hasHvacAction ? function (entityState) {\n              var _entityState$attribut3;\n\n              return ((_entityState$attribut3 = entityState.attributes) === null || _entityState$attribut3 === void 0 ? void 0 : _entityState$attribut3.hvac_action) === \"cooling\";\n            } : function (entityState) {\n              return entityState.state === \"cool\";\n            };\n            var hasHeat = states.states.some(isHeating);\n            var hasCool = states.states.some(isCooling); // We differentiate between thermostats that have a target temperature\n            // range versus ones that have just a target temperature\n            // Using step chart by step-before so manually interpolation not needed.\n\n            var hasTargetRange = states.states.some(function (entityState) {\n              return entityState.attributes && entityState.attributes.target_temp_high !== entityState.attributes.target_temp_low;\n            });\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.current_temperature\", {\n              name: name\n            })));\n\n            if (hasHeat) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.heating\", {\n                name: name\n              })), true, computedStyles.getPropertyValue(\"--state-climate-heat-color\")); // The \"heating\" series uses steppedArea to shade the area below the current\n              // temperature when the thermostat is calling for heat.\n            }\n\n            if (hasCool) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.cooling\", {\n                name: name\n              })), true, computedStyles.getPropertyValue(\"--state-climate-cool-color\")); // The \"cooling\" series uses steppedArea to shade the area below the current\n              // temperature when the thermostat is calling for heat.\n            }\n\n            if (hasTargetRange) {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_mode\", {\n                name: name,\n                mode: _this3.hass.localize(\"ui.card.climate.high\")\n              })));\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_mode\", {\n                name: name,\n                mode: _this3.hass.localize(\"ui.card.climate.low\")\n              })));\n            } else {\n              addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.climate.target_temperature_entity\", {\n                name: name\n              })));\n            }\n\n            states.states.forEach(function (entityState) {\n              if (!entityState.attributes) return;\n              var curTemp = safeParseFloat(entityState.attributes.current_temperature);\n              var series = [curTemp];\n\n              if (hasHeat) {\n                series.push(isHeating(entityState) ? curTemp : null);\n              }\n\n              if (hasCool) {\n                series.push(isCooling(entityState) ? curTemp : null);\n              }\n\n              if (hasTargetRange) {\n                var targetHigh = safeParseFloat(entityState.attributes.target_temp_high);\n                var targetLow = safeParseFloat(entityState.attributes.target_temp_low);\n                series.push(targetHigh, targetLow);\n                pushData(new Date(entityState.last_changed), series);\n              } else {\n                var target = safeParseFloat(entityState.attributes.temperature);\n                series.push(target);\n                pushData(new Date(entityState.last_changed), series);\n              }\n            });\n          } else if (domain === \"humidifier\") {\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.humidifier.target_humidity_entity\", {\n              name: name\n            })));\n            addDataSet(\"\".concat(_this3.hass.localize(\"ui.card.humidifier.on_entity\", {\n              name: name\n            })), true);\n            states.states.forEach(function (entityState) {\n              if (!entityState.attributes) return;\n              var target = safeParseFloat(entityState.attributes.humidity);\n              var series = [target];\n              series.push(entityState.state === \"on\" ? target : null);\n              pushData(new Date(entityState.last_changed), series);\n            });\n          } else {\n            addDataSet(name);\n            var lastValue;\n            var lastDate;\n            var lastNullDate = null; // Process chart data.\n            // When state is `unknown`, calculate the value and break the line.\n\n            states.states.forEach(function (entityState) {\n              var value = safeParseFloat(entityState.state);\n              var date = new Date(entityState.last_changed);\n\n              if (value !== null && lastNullDate) {\n                var _lastDate;\n\n                var dateTime = date.getTime();\n                var lastNullDateTime = lastNullDate.getTime();\n                var lastDateTime = (_lastDate = lastDate) === null || _lastDate === void 0 ? void 0 : _lastDate.getTime();\n                var tmpValue = (value - lastValue) * ((lastNullDateTime - lastDateTime) / (dateTime - lastDateTime)) + lastValue;\n                pushData(lastNullDate, [tmpValue]);\n                pushData(new Date(lastNullDateTime + 1), [null]);\n                pushData(date, [value]);\n                lastDate = date;\n                lastValue = value;\n                lastNullDate = null;\n              } else if (value !== null && lastNullDate === null) {\n                pushData(date, [value]);\n                lastDate = date;\n                lastValue = value;\n              } else if (value === null && lastNullDate === null && lastValue !== undefined) {\n                lastNullDate = date;\n              }\n            });\n          } // Add an entry for final values\n\n\n          pushData(endTime, prevValues); // Concat two arrays\n\n          Array.prototype.push.apply(datasets, data);\n        });\n        this._chartData = {\n          datasets: datasets\n        };\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_0__.LitElement);\n\ncustomElements.define(\"state-history-chart-line\", StateHistoryChartLine);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7Ozs7QUFFQTtBQUFBO0FBQUE7OztBQUFBOzs7O0FBRUE7OztBQUFBOzs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7QUFBQTtBQUFBOzs7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTs7Ozs7QUFFQTs7Ozs7QUFFQTs7Ozs7OztBQUVBOzs7OztBQUVBO0FBQ0E7QUFPQTs7OztBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBRkE7QUFQQTtBQVlBO0FBQ0E7QUFEQTtBQXBCQTtBQXdCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUF6QkE7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUZBO0FBVUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBZEE7QUFxQkE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQUxBO0FBU0E7QUFDQTtBQXhFQTtBQTBFQTs7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBOztBQUVBO0FBS0E7QUFDQTs7QUFBQTtBQUFBO0FBR0E7QUFFQTs7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBRUE7O0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUVBO0FBREE7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFEQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQURBO0FBSUE7QUFFQTtBQURBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFHQTs7O0FBaFdBOztBQWtXQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvY2hhcnQvc3RhdGUtaGlzdG9yeS1jaGFydC1saW5lLnRzPzNkMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDaGFydERhdGEsIENoYXJ0RGF0YXNldCwgQ2hhcnRPcHRpb25zIH0gZnJvbSBcImNoYXJ0LmpzXCI7XG5pbXBvcnQgeyBodG1sLCBMaXRFbGVtZW50LCBQcm9wZXJ0eVZhbHVlcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgZ2V0R3JhcGhDb2xvckJ5SW5kZXggfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9yL2NvbG9yc1wiO1xuaW1wb3J0IHtcbiAgZm9ybWF0TnVtYmVyLFxuICBudW1iZXJGb3JtYXRUb0xvY2FsZSxcbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9udW1iZXIvZm9ybWF0X251bWJlclwiO1xuaW1wb3J0IHsgTGluZUNoYXJ0RW50aXR5LCBMaW5lQ2hhcnRTdGF0ZSB9IGZyb20gXCIuLi8uLi9kYXRhL2hpc3RvcnlcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IE1JTl9USU1FX0JFVFdFRU5fVVBEQVRFUyB9IGZyb20gXCIuL2hhLWNoYXJ0LWJhc2VcIjtcblxuY29uc3Qgc2FmZVBhcnNlRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIHJldHVybiBpc0Zpbml0ZShwYXJzZWQpID8gcGFyc2VkIDogbnVsbDtcbn07XG5cbmNsYXNzIFN0YXRlSGlzdG9yeUNoYXJ0TGluZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBkYXRhOiBMaW5lQ2hhcnRFbnRpdHlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBuYW1lczogYm9vbGVhbiB8IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSBmYWxzZTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgdW5pdD86IHN0cmluZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgaWRlbnRpZmllcj86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1NpbmdsZURldmljZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGVuZFRpbWUhOiBEYXRlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NoYXJ0RGF0YT86IENoYXJ0RGF0YTxcImxpbmVcIj47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhcnRPcHRpb25zPzogQ2hhcnRPcHRpb25zO1xuXG4gIHByaXZhdGUgX2NoYXJ0VGltZTogRGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jaGFydC1iYXNlXG4gICAgICAgIC5kYXRhPSR7dGhpcy5fY2hhcnREYXRhfVxuICAgICAgICAub3B0aW9ucz0ke3RoaXMuX2NoYXJ0T3B0aW9uc31cbiAgICAgICAgY2hhcnQtdHlwZT1cImxpbmVcIlxuICAgICAgPjwvaGEtY2hhcnQtYmFzZT5cbiAgICBgO1xuICB9XG5cbiAgcHVibGljIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICB0aGlzLl9jaGFydE9wdGlvbnMgPSB7XG4gICAgICAgIHBhcnNpbmc6IGZhbHNlLFxuICAgICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICB4OiB7XG4gICAgICAgICAgICB0eXBlOiBcInRpbWVcIixcbiAgICAgICAgICAgIGFkYXB0ZXJzOiB7XG4gICAgICAgICAgICAgIGRhdGU6IHtcbiAgICAgICAgICAgICAgICBsb2NhbGU6IHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VnZ2VzdGVkTWF4OiB0aGlzLmVuZFRpbWUsXG4gICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICBtYXhSb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgc2FtcGxlU2l6ZTogNSxcbiAgICAgICAgICAgICAgYXV0b1NraXBQYWRkaW5nOiAyMCxcbiAgICAgICAgICAgICAgbWFqb3I6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmb250OiAoY29udGV4dCkgPT5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnRpY2sgJiYgY29udGV4dC50aWNrLm1ham9yXG4gICAgICAgICAgICAgICAgICA/ICh7IHdlaWdodDogXCJib2xkXCIgfSBhcyBhbnkpXG4gICAgICAgICAgICAgICAgICA6IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgICAgdG9vbHRpcEZvcm1hdDogXCJkYXRldGltZXNlY29uZHNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB5OiB7XG4gICAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgICBtYXhUaWNrc0xpbWl0OiA3LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgIHRleHQ6IHRoaXMudW5pdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcGx1Z2luczoge1xuICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgIG1vZGU6IFwibmVhcmVzdFwiLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiAoY29udGV4dCkgPT5cbiAgICAgICAgICAgICAgICBgJHtjb250ZXh0LmRhdGFzZXQubGFiZWx9OiAke2Zvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQucGFyc2VkLnksXG4gICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlXG4gICAgICAgICAgICAgICAgKX0gJHt0aGlzLnVuaXR9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaWxsZXI6IHtcbiAgICAgICAgICAgIHByb3BhZ2F0ZTogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgZGlzcGxheTogIXRoaXMuaXNTaW5nbGVEZXZpY2UsXG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgdXNlUG9pbnRTdHlsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICBtb2RlOiBcIm5lYXJlc3RcIixcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB0ZW5zaW9uOiAwLjEsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMS41LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgIGhpdFJhZGl1czogNSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGxvY2FsZTogbnVtYmVyRm9ybWF0VG9Mb2NhbGUodGhpcy5oYXNzLmxvY2FsZSksXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiZGF0YVwiKSB8fFxuICAgICAgdGhpcy5fY2hhcnRUaW1lIDxcbiAgICAgICAgbmV3IERhdGUodGhpcy5lbmRUaW1lLmdldFRpbWUoKSAtIE1JTl9USU1FX0JFVFdFRU5fVVBEQVRFUylcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBsaW5lIGlzIG1vcmUgdGhhbiA1IG1pbnV0ZXMgb2xkLCByZS1nZW4gaXRcbiAgICAgIC8vIHNvIHRoZSBYIGF4aXMgZ3Jvd3MgZXZlbiBpZiB0aGVyZSBpcyBubyBuZXcgZGF0YVxuICAgICAgdGhpcy5fZ2VuZXJhdGVEYXRhKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2VuZXJhdGVEYXRhKCkge1xuICAgIGxldCBjb2xvckluZGV4ID0gMDtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgY29uc3QgZW50aXR5U3RhdGVzID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGRhdGFzZXRzOiBDaGFydERhdGFzZXQ8XCJsaW5lXCI+W10gPSBbXTtcbiAgICBpZiAoZW50aXR5U3RhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NoYXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZW5kVGltZSA9IHRoaXMuZW5kVGltZTtcbiAgICBjb25zdCBuYW1lcyA9IHRoaXMubmFtZXMgfHwge307XG4gICAgZW50aXR5U3RhdGVzLmZvckVhY2goKHN0YXRlcykgPT4ge1xuICAgICAgY29uc3QgZG9tYWluID0gc3RhdGVzLmRvbWFpbjtcbiAgICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tzdGF0ZXMuZW50aXR5X2lkXSB8fCBzdGF0ZXMubmFtZTtcbiAgICAgIC8vIGFycmF5IGNvbnRhaW5pbmcgW3ZhbHVlMSwgdmFsdWUyLCBldGNdXG4gICAgICBsZXQgcHJldlZhbHVlczogYW55W10gfCBudWxsID0gbnVsbDtcblxuICAgICAgY29uc3QgZGF0YTogQ2hhcnREYXRhc2V0PFwibGluZVwiPltdID0gW107XG5cbiAgICAgIGNvbnN0IHB1c2hEYXRhID0gKHRpbWVzdGFtcDogRGF0ZSwgZGF0YXZhbHVlczogYW55W10gfCBudWxsKSA9PiB7XG4gICAgICAgIGlmICghZGF0YXZhbHVlcykgcmV0dXJuO1xuICAgICAgICBpZiAodGltZXN0YW1wID4gZW5kVGltZSkge1xuICAgICAgICAgIC8vIERyb3AgZGF0YSBwb2ludHMgdGhhdCBhcmUgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBlbmRUaW1lLiBUaGlzIGNvdWxkIGhhcHBlbiBpZlxuICAgICAgICAgIC8vIGVuZFRpbWUgaXMgXCJub3dcIiBhbmQgY2xpZW50IHRpbWUgaXMgbm90IGluIHN5bmMgd2l0aCBzZXJ2ZXIgdGltZS5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGF2YWx1ZXNbaV0gPT09IG51bGwgJiYgcHJldlZhbHVlcyAmJiBwcmV2VmFsdWVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBudWxsIGRhdGEgdmFsdWVzIHNob3cgdXAgYXMgZ2FwcyBpbiB0aGUgY2hhcnQuXG4gICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB2YWx1ZSBmb3IgdGhlIGRhdGFzZXQgaXMgbnVsbCBhbmQgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICAvLyB2YWx1ZSBvZiB0aGUgZGF0YSBzZXQgaXMgbm90IG51bGwsIHRoZW4gYWRkIGFuICdlbmQnIHBvaW50XG4gICAgICAgICAgICAvLyB0byB0aGUgY2hhcnQgZm9yIHRoZSBwcmV2aW91cyB2YWx1ZS4gT3RoZXJ3aXNlIHRoZSBnYXAgd2lsbFxuICAgICAgICAgICAgLy8gYmUgdG9vIGJpZy4gSXQgd2lsbCBnbyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgcHJldmlvdXMgZGF0YVxuICAgICAgICAgICAgLy8gdmFsdWUgdW50aWwgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGRhdGEgdmFsdWUuXG4gICAgICAgICAgICBkLmRhdGEucHVzaCh7IHg6IHRpbWVzdGFtcC5nZXRUaW1lKCksIHk6IHByZXZWYWx1ZXNbaV0gfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGQuZGF0YS5wdXNoKHsgeDogdGltZXN0YW1wLmdldFRpbWUoKSwgeTogZGF0YXZhbHVlc1tpXSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZWYWx1ZXMgPSBkYXRhdmFsdWVzO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgYWRkRGF0YVNldCA9IChuYW1lWTogc3RyaW5nLCBmaWxsID0gZmFsc2UsIGNvbG9yPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghY29sb3IpIHtcbiAgICAgICAgICBjb2xvciA9IGdldEdyYXBoQ29sb3JCeUluZGV4KGNvbG9ySW5kZXgsIGNvbXB1dGVkU3R5bGVzKTtcbiAgICAgICAgICBjb2xvckluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBsYWJlbDogbmFtZVksXG4gICAgICAgICAgZmlsbDogZmlsbCA/IFwib3JpZ2luXCIgOiBmYWxzZSxcbiAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciArIFwiN0ZcIixcbiAgICAgICAgICBzdGVwcGVkOiBcImJlZm9yZVwiLFxuICAgICAgICAgIHBvaW50UmFkaXVzOiAwLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChcbiAgICAgICAgZG9tYWluID09PSBcInRoZXJtb3N0YXRcIiB8fFxuICAgICAgICBkb21haW4gPT09IFwiY2xpbWF0ZVwiIHx8XG4gICAgICAgIGRvbWFpbiA9PT0gXCJ3YXRlcl9oZWF0ZXJcIlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGhhc0h2YWNBY3Rpb24gPSBzdGF0ZXMuc3RhdGVzLnNvbWUoXG4gICAgICAgICAgKGVudGl0eVN0YXRlKSA9PiBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzPy5odmFjX2FjdGlvblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGlzSGVhdGluZyA9XG4gICAgICAgICAgZG9tYWluID09PSBcImNsaW1hdGVcIiAmJiBoYXNIdmFjQWN0aW9uXG4gICAgICAgICAgICA/IChlbnRpdHlTdGF0ZTogTGluZUNoYXJ0U3RhdGUpID0+XG4gICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcz8uaHZhY19hY3Rpb24gPT09IFwiaGVhdGluZ1wiXG4gICAgICAgICAgICA6IChlbnRpdHlTdGF0ZTogTGluZUNoYXJ0U3RhdGUpID0+IGVudGl0eVN0YXRlLnN0YXRlID09PSBcImhlYXRcIjtcbiAgICAgICAgY29uc3QgaXNDb29saW5nID1cbiAgICAgICAgICBkb21haW4gPT09IFwiY2xpbWF0ZVwiICYmIGhhc0h2YWNBY3Rpb25cbiAgICAgICAgICAgID8gKGVudGl0eVN0YXRlOiBMaW5lQ2hhcnRTdGF0ZSkgPT5cbiAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzPy5odmFjX2FjdGlvbiA9PT0gXCJjb29saW5nXCJcbiAgICAgICAgICAgIDogKGVudGl0eVN0YXRlOiBMaW5lQ2hhcnRTdGF0ZSkgPT4gZW50aXR5U3RhdGUuc3RhdGUgPT09IFwiY29vbFwiO1xuXG4gICAgICAgIGNvbnN0IGhhc0hlYXQgPSBzdGF0ZXMuc3RhdGVzLnNvbWUoaXNIZWF0aW5nKTtcbiAgICAgICAgY29uc3QgaGFzQ29vbCA9IHN0YXRlcy5zdGF0ZXMuc29tZShpc0Nvb2xpbmcpO1xuICAgICAgICAvLyBXZSBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlcm1vc3RhdHMgdGhhdCBoYXZlIGEgdGFyZ2V0IHRlbXBlcmF0dXJlXG4gICAgICAgIC8vIHJhbmdlIHZlcnN1cyBvbmVzIHRoYXQgaGF2ZSBqdXN0IGEgdGFyZ2V0IHRlbXBlcmF0dXJlXG5cbiAgICAgICAgLy8gVXNpbmcgc3RlcCBjaGFydCBieSBzdGVwLWJlZm9yZSBzbyBtYW51YWxseSBpbnRlcnBvbGF0aW9uIG5vdCBuZWVkZWQuXG4gICAgICAgIGNvbnN0IGhhc1RhcmdldFJhbmdlID0gc3RhdGVzLnN0YXRlcy5zb21lKFxuICAgICAgICAgIChlbnRpdHlTdGF0ZSkgPT5cbiAgICAgICAgICAgIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMgJiZcbiAgICAgICAgICAgIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMudGFyZ2V0X3RlbXBfaGlnaCAhPT1cbiAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9sb3dcbiAgICAgICAgKTtcbiAgICAgICAgYWRkRGF0YVNldChcbiAgICAgICAgICBgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmNsaW1hdGUuY3VycmVudF90ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIH0pfWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGhhc0hlYXQpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmhlYXRpbmdcIiwgeyBuYW1lOiBuYW1lIH0pfWAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShcIi0tc3RhdGUtY2xpbWF0ZS1oZWF0LWNvbG9yXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBUaGUgXCJoZWF0aW5nXCIgc2VyaWVzIHVzZXMgc3RlcHBlZEFyZWEgdG8gc2hhZGUgdGhlIGFyZWEgYmVsb3cgdGhlIGN1cnJlbnRcbiAgICAgICAgICAvLyB0ZW1wZXJhdHVyZSB3aGVuIHRoZSB0aGVybW9zdGF0IGlzIGNhbGxpbmcgZm9yIGhlYXQuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0Nvb2wpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmNvb2xpbmdcIiwgeyBuYW1lOiBuYW1lIH0pfWAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShcIi0tc3RhdGUtY2xpbWF0ZS1jb29sLWNvbG9yXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBUaGUgXCJjb29saW5nXCIgc2VyaWVzIHVzZXMgc3RlcHBlZEFyZWEgdG8gc2hhZGUgdGhlIGFyZWEgYmVsb3cgdGhlIGN1cnJlbnRcbiAgICAgICAgICAvLyB0ZW1wZXJhdHVyZSB3aGVuIHRoZSB0aGVybW9zdGF0IGlzIGNhbGxpbmcgZm9yIGhlYXQuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVGFyZ2V0UmFuZ2UpIHtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLnRhcmdldF90ZW1wZXJhdHVyZV9tb2RlXCIsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgbW9kZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmhpZ2hcIiksXG4gICAgICAgICAgICB9KX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhZGREYXRhU2V0KFxuICAgICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLnRhcmdldF90ZW1wZXJhdHVyZV9tb2RlXCIsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgbW9kZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5jbGltYXRlLmxvd1wiKSxcbiAgICAgICAgICAgIH0pfWBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgICBgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmNsaW1hdGUudGFyZ2V0X3RlbXBlcmF0dXJlX2VudGl0eVwiLCB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB9KX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoIWVudGl0eVN0YXRlLmF0dHJpYnV0ZXMpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBjdXJUZW1wID0gc2FmZVBhcnNlRmxvYXQoXG4gICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLmN1cnJlbnRfdGVtcGVyYXR1cmVcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHNlcmllcyA9IFtjdXJUZW1wXTtcbiAgICAgICAgICBpZiAoaGFzSGVhdCkge1xuICAgICAgICAgICAgc2VyaWVzLnB1c2goaXNIZWF0aW5nKGVudGl0eVN0YXRlKSA/IGN1clRlbXAgOiBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc0Nvb2wpIHtcbiAgICAgICAgICAgIHNlcmllcy5wdXNoKGlzQ29vbGluZyhlbnRpdHlTdGF0ZSkgPyBjdXJUZW1wIDogbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXNUYXJnZXRSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SGlnaCA9IHNhZmVQYXJzZUZsb2F0KFxuICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLnRhcmdldF90ZW1wX2hpZ2hcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb3cgPSBzYWZlUGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcy50YXJnZXRfdGVtcF9sb3dcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzZXJpZXMucHVzaCh0YXJnZXRIaWdoLCB0YXJnZXRMb3cpO1xuICAgICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2FmZVBhcnNlRmxvYXQoZW50aXR5U3RhdGUuYXR0cmlidXRlcy50ZW1wZXJhdHVyZSk7XG4gICAgICAgICAgICBzZXJpZXMucHVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkb21haW4gPT09IFwiaHVtaWRpZmllclwiKSB7XG4gICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5odW1pZGlmaWVyLnRhcmdldF9odW1pZGl0eV9lbnRpdHlcIiwge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB9KX1gXG4gICAgICAgICk7XG4gICAgICAgIGFkZERhdGFTZXQoXG4gICAgICAgICAgYCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5odW1pZGlmaWVyLm9uX2VudGl0eVwiLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIH0pfWAsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoIWVudGl0eVN0YXRlLmF0dHJpYnV0ZXMpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzYWZlUGFyc2VGbG9hdChlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzLmh1bWlkaXR5KTtcbiAgICAgICAgICBjb25zdCBzZXJpZXMgPSBbdGFyZ2V0XTtcbiAgICAgICAgICBzZXJpZXMucHVzaChlbnRpdHlTdGF0ZS5zdGF0ZSA9PT0gXCJvblwiID8gdGFyZ2V0IDogbnVsbCk7XG4gICAgICAgICAgcHVzaERhdGEobmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKSwgc2VyaWVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGREYXRhU2V0KG5hbWUpO1xuXG4gICAgICAgIGxldCBsYXN0VmFsdWU6IG51bWJlcjtcbiAgICAgICAgbGV0IGxhc3REYXRlOiBEYXRlO1xuICAgICAgICBsZXQgbGFzdE51bGxEYXRlOiBEYXRlIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjaGFydCBkYXRhLlxuICAgICAgICAvLyBXaGVuIHN0YXRlIGlzIGB1bmtub3duYCwgY2FsY3VsYXRlIHRoZSB2YWx1ZSBhbmQgYnJlYWsgdGhlIGxpbmUuXG4gICAgICAgIHN0YXRlcy5zdGF0ZXMuZm9yRWFjaCgoZW50aXR5U3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNhZmVQYXJzZUZsb2F0KGVudGl0eVN0YXRlLnN0YXRlKTtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKTtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgbGFzdE51bGxEYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlVGltZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgbGFzdE51bGxEYXRlVGltZSA9IGxhc3ROdWxsRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0RGF0ZVRpbWUgPSBsYXN0RGF0ZT8uZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgdG1wVmFsdWUgPVxuICAgICAgICAgICAgICAodmFsdWUgLSBsYXN0VmFsdWUpICpcbiAgICAgICAgICAgICAgICAoKGxhc3ROdWxsRGF0ZVRpbWUgLSBsYXN0RGF0ZVRpbWUpIC9cbiAgICAgICAgICAgICAgICAgIChkYXRlVGltZSAtIGxhc3REYXRlVGltZSkpICtcbiAgICAgICAgICAgICAgbGFzdFZhbHVlO1xuICAgICAgICAgICAgcHVzaERhdGEobGFzdE51bGxEYXRlLCBbdG1wVmFsdWVdKTtcbiAgICAgICAgICAgIHB1c2hEYXRhKG5ldyBEYXRlKGxhc3ROdWxsRGF0ZVRpbWUgKyAxKSwgW251bGxdKTtcbiAgICAgICAgICAgIHB1c2hEYXRhKGRhdGUsIFt2YWx1ZV0pO1xuICAgICAgICAgICAgbGFzdERhdGUgPSBkYXRlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBsYXN0TnVsbERhdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG51bGwgJiYgbGFzdE51bGxEYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBwdXNoRGF0YShkYXRlLCBbdmFsdWVdKTtcbiAgICAgICAgICAgIGxhc3REYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB2YWx1ZSA9PT0gbnVsbCAmJlxuICAgICAgICAgICAgbGFzdE51bGxEYXRlID09PSBudWxsICYmXG4gICAgICAgICAgICBsYXN0VmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbGFzdE51bGxEYXRlID0gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgYW4gZW50cnkgZm9yIGZpbmFsIHZhbHVlc1xuICAgICAgcHVzaERhdGEoZW5kVGltZSwgcHJldlZhbHVlcyk7XG5cbiAgICAgIC8vIENvbmNhdCB0d28gYXJyYXlzXG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkYXRhc2V0cywgZGF0YSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jaGFydERhdGEgPSB7XG4gICAgICBkYXRhc2V0cyxcbiAgICB9O1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJzdGF0ZS1oaXN0b3J5LWNoYXJ0LWxpbmVcIiwgU3RhdGVIaXN0b3J5Q2hhcnRMaW5lKTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcInN0YXRlLWhpc3RvcnktY2hhcnQtbGluZVwiOiBTdGF0ZUhpc3RvcnlDaGFydExpbmU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-chart-line.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-chart-timeline.ts":
/*!**************************************************************!*\
  !*** ./src/components/chart/state-history-chart-timeline.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StateHistoryChartTimeline\": function() { return /* binding */ StateHistoryChartTimeline; }\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_color_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/color/colors */ \"./src/common/color/colors.ts\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/util/compute_rtl */ \"./src/common/util/compute_rtl.ts\");\n/* harmony import */ var _ha_chart_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n/** Binary sensor device classes for which the static colors for on/off are NOT inverted.\n *  List the ones were \"on\" = good or normal state => should be rendered \"green\".\n *  Note: It is now a \"not inverted\" list (compared to the past) since we now have more inverted ones.\n */\nvar BINARY_SENSOR_DEVICE_CLASS_COLOR_NOT_INVERTED = new Set([\"battery_charging\", \"connectivity\", \"light\", \"moving\", \"plug\", \"power\", \"presence\", \"running\"]);\nvar STATIC_STATE_COLORS = new Set([\"on\", \"off\", \"home\", \"not_home\", \"unavailable\", \"unknown\", \"idle\"]);\nvar stateColorMap = new Map();\nvar colorIndex = 0;\n\nvar invertOnOff = function invertOnOff(entityState) {\n  return entityState && (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_4__.computeDomain)(entityState.entity_id) === \"binary_sensor\" && \"device_class\" in entityState.attributes && !BINARY_SENSOR_DEVICE_CLASS_COLOR_NOT_INVERTED.has(entityState.attributes.device_class);\n};\n\nvar getColor = function getColor(stateString, entityState, computedStyles) {\n  // Inversion is only valid for \"on\" or \"off\" state\n  if ((stateString === \"on\" || stateString === \"off\") && invertOnOff(entityState)) {\n    stateString = stateString === \"on\" ? \"off\" : \"on\";\n  }\n\n  if (stateColorMap.has(stateString)) {\n    return stateColorMap.get(stateString);\n  }\n\n  if (STATIC_STATE_COLORS.has(stateString)) {\n    var _color = computedStyles.getPropertyValue(\"--state-\".concat(stateString, \"-color\"));\n\n    stateColorMap.set(stateString, _color);\n    return _color;\n  }\n\n  var color = (0,_common_color_colors__WEBPACK_IMPORTED_MODULE_2__.getGraphColorByIndex)(colorIndex, computedStyles);\n  colorIndex++;\n  stateColorMap.set(stateString, color);\n  return color;\n};\n\nvar StateHistoryChartTimeline = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"state-history-chart-timeline\")], function (_initialize, _LitElement) {\n  var StateHistoryChartTimeline = /*#__PURE__*/function (_LitElement2) {\n    _inherits(StateHistoryChartTimeline, _LitElement2);\n\n    var _super = _createSuper(StateHistoryChartTimeline);\n\n    function StateHistoryChartTimeline() {\n      var _this;\n\n      _classCallCheck(this, StateHistoryChartTimeline);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return StateHistoryChartTimeline;\n  }(_LitElement);\n\n  return {\n    F: StateHistoryChartTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"data\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"names\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)()],\n      key: \"identifier\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean\n      })],\n      key: \"isSingleDevice\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        type: Boolean\n      })],\n      key: \"chunked\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"startTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_chartData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_chartOptions\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_chartTime\",\n      value: function value() {\n        return new Date();\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-chart-base\\n        .data=\", \"\\n        .options=\", \"\\n        .height=\", \"\\n        chart-type=\\\"timeline\\\"\\n      ></ha-chart-base>\\n    \"])), this._chartData, this._chartOptions, this.data.length * 30 + 30);\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        var _this2 = this;\n\n        if (!this.hasUpdated) {\n          var narrow = this.narrow;\n          this._chartOptions = {\n            maintainAspectRatio: false,\n            parsing: false,\n            animation: false,\n            scales: {\n              x: {\n                type: \"timeline\",\n                position: \"bottom\",\n                adapters: {\n                  date: {\n                    locale: this.hass.locale\n                  }\n                },\n                suggestedMin: this.startTime,\n                suggestedMax: this.endTime,\n                ticks: {\n                  autoSkip: true,\n                  maxRotation: 0,\n                  sampleSize: 5,\n                  autoSkipPadding: 20,\n                  major: {\n                    enabled: true\n                  },\n                  font: function font(context) {\n                    return context.tick && context.tick.major ? {\n                      weight: \"bold\"\n                    } : {};\n                  }\n                },\n                grid: {\n                  offset: false\n                },\n                time: {\n                  tooltipFormat: \"datetimeseconds\"\n                }\n              },\n              y: {\n                type: \"category\",\n                barThickness: 20,\n                offset: true,\n                grid: {\n                  display: false,\n                  drawBorder: false,\n                  drawTicks: false\n                },\n                ticks: {\n                  display: this.chunked || !this.isSingleDevice || this.data.length !== 1\n                },\n                afterSetDimensions: function afterSetDimensions(y) {\n                  y.maxWidth = y.chart.width * 0.18;\n                },\n                afterFit: function afterFit(scaleInstance) {\n                  if (_this2.chunked) {\n                    // ensure all the chart labels are the same width\n                    scaleInstance.width = narrow ? 105 : 185;\n                  }\n                },\n                position: (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_6__.computeRTL)(this.hass) ? \"right\" : \"left\"\n              }\n            },\n            plugins: {\n              tooltip: {\n                mode: \"nearest\",\n                callbacks: {\n                  title: function title(context) {\n                    return context[0].chart.data.labels[context[0].datasetIndex];\n                  },\n                  beforeBody: function beforeBody(context) {\n                    return context[0].dataset.label || \"\";\n                  },\n                  label: function label(item) {\n                    var d = item.dataset.data[item.dataIndex];\n                    return [d.label || \"\", (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__.formatDateTimeWithSeconds)(d.start, _this2.hass.locale), (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_3__.formatDateTimeWithSeconds)(d.end, _this2.hass.locale)];\n                  },\n                  labelColor: function labelColor(item) {\n                    return {\n                      borderColor: item.dataset.data[item.dataIndex].color,\n                      backgroundColor: item.dataset.data[item.dataIndex].color\n                    };\n                  }\n                }\n              },\n              filler: {\n                propagate: true\n              }\n            },\n            // @ts-expect-error\n            locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_5__.numberFormatToLocale)(this.hass.locale)\n          };\n        }\n\n        if (changedProps.has(\"data\") || this._chartTime < new Date(this.endTime.getTime() - _ha_chart_base__WEBPACK_IMPORTED_MODULE_7__.MIN_TIME_BETWEEN_UPDATES)) {\n          // If the line is more than 5 minutes old, re-gen it\n          // so the X axis grows even if there is no new data\n          this._generateData();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_generateData\",\n      value: function _generateData() {\n        var _this3 = this;\n\n        var computedStyles = getComputedStyle(this);\n        var stateHistory = this.data;\n\n        if (!stateHistory) {\n          stateHistory = [];\n        }\n\n        this._chartTime = new Date();\n        var startTime = this.startTime;\n        var endTime = this.endTime;\n        var labels = [];\n        var datasets = [];\n        var names = this.names || {}; // stateHistory is a list of lists of sorted state objects\n\n        stateHistory.forEach(function (stateInfo) {\n          var newLastChanged;\n          var prevState = null;\n          var locState = null;\n          var prevLastChanged = startTime;\n          var entityDisplay = names[stateInfo.entity_id] || stateInfo.name;\n          var dataRow = [];\n          stateInfo.data.forEach(function (entityState) {\n            var newState = entityState.state;\n            var timeStamp = new Date(entityState.last_changed);\n\n            if (!newState) {\n              newState = null;\n            }\n\n            if (timeStamp > endTime) {\n              // Drop datapoints that are after the requested endTime. This could happen if\n              // endTime is 'now' and client time is not in sync with server time.\n              return;\n            }\n\n            if (prevState === null) {\n              prevState = newState;\n              locState = entityState.state_localize;\n              prevLastChanged = new Date(entityState.last_changed);\n            } else if (newState !== prevState) {\n              newLastChanged = new Date(entityState.last_changed);\n              dataRow.push({\n                start: prevLastChanged,\n                end: newLastChanged,\n                label: locState,\n                color: getColor(prevState, _this3.hass.states[stateInfo.entity_id], computedStyles)\n              });\n              prevState = newState;\n              locState = entityState.state_localize;\n              prevLastChanged = newLastChanged;\n            }\n          });\n\n          if (prevState !== null) {\n            dataRow.push({\n              start: prevLastChanged,\n              end: endTime,\n              label: locState,\n              color: getColor(prevState, _this3.hass.states[stateInfo.entity_id], computedStyles)\n            });\n          }\n\n          datasets.push({\n            data: dataRow,\n            label: stateInfo.entity_id\n          });\n          labels.push(entityDisplay);\n        });\n        this._chartData = {\n          labels: labels,\n          datasets: datasets\n        };\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      ha-chart-base {\\n        --chart-max-height: none;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_0__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBVUE7QUFFQTs7QUFFQTtBQUFBO0FBQUE7O0FBUUE7QUFLQTtBQUNBO0FBSUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBYUE7QUFBQTtBQWJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUFBQTtBQWZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJBO0FBQUE7QUFqQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW1CQTtBQUFBO0FBbkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNEJBO0FBUUE7QUFwQ0E7QUFBQTtBQUFBO0FBQUE7QUFzQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUZBO0FBUkE7QUFhQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUExQkE7QUE4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUEvQkE7QUF3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBSEE7QUFBQTtBQWRBO0FBRkE7QUF5QkE7QUFDQTtBQURBO0FBMUJBO0FBOEJBO0FBQ0E7QUEzRkE7QUE2RkE7O0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEpBO0FBQUE7QUFBQTtBQUFBO0FBa0pBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBVUE7O0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQXBPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdU9BO0FBS0E7QUE1T0E7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lLnRzPzVjNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDaGFydERhdGEsIENoYXJ0RGF0YXNldCwgQ2hhcnRPcHRpb25zIH0gZnJvbSBcImNoYXJ0LmpzXCI7XG5pbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGdldEdyYXBoQ29sb3JCeUluZGV4IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvci9jb2xvcnNcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlX3RpbWVcIjtcbmltcG9ydCB7IGNvbXB1dGVEb21haW4gfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgbnVtYmVyRm9ybWF0VG9Mb2NhbGUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL251bWJlci9mb3JtYXRfbnVtYmVyXCI7XG5pbXBvcnQgeyBjb21wdXRlUlRMIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi91dGlsL2NvbXB1dGVfcnRsXCI7XG5pbXBvcnQgeyBUaW1lbGluZUVudGl0eSB9IGZyb20gXCIuLi8uLi9kYXRhL2hpc3RvcnlcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IE1JTl9USU1FX0JFVFdFRU5fVVBEQVRFUyB9IGZyb20gXCIuL2hhLWNoYXJ0LWJhc2VcIjtcbmltcG9ydCB0eXBlIHsgVGltZUxpbmVEYXRhIH0gZnJvbSBcIi4vdGltZWxpbmUtY2hhcnQvY29uc3RcIjtcblxuLyoqIEJpbmFyeSBzZW5zb3IgZGV2aWNlIGNsYXNzZXMgZm9yIHdoaWNoIHRoZSBzdGF0aWMgY29sb3JzIGZvciBvbi9vZmYgYXJlIE5PVCBpbnZlcnRlZC5cbiAqICBMaXN0IHRoZSBvbmVzIHdlcmUgXCJvblwiID0gZ29vZCBvciBub3JtYWwgc3RhdGUgPT4gc2hvdWxkIGJlIHJlbmRlcmVkIFwiZ3JlZW5cIi5cbiAqICBOb3RlOiBJdCBpcyBub3cgYSBcIm5vdCBpbnZlcnRlZFwiIGxpc3QgKGNvbXBhcmVkIHRvIHRoZSBwYXN0KSBzaW5jZSB3ZSBub3cgaGF2ZSBtb3JlIGludmVydGVkIG9uZXMuXG4gKi9cbmNvbnN0IEJJTkFSWV9TRU5TT1JfREVWSUNFX0NMQVNTX0NPTE9SX05PVF9JTlZFUlRFRCA9IG5ldyBTZXQoW1xuICBcImJhdHRlcnlfY2hhcmdpbmdcIixcbiAgXCJjb25uZWN0aXZpdHlcIixcbiAgXCJsaWdodFwiLFxuICBcIm1vdmluZ1wiLFxuICBcInBsdWdcIixcbiAgXCJwb3dlclwiLFxuICBcInByZXNlbmNlXCIsXG4gIFwicnVubmluZ1wiLFxuXSk7XG5cbmNvbnN0IFNUQVRJQ19TVEFURV9DT0xPUlMgPSBuZXcgU2V0KFtcbiAgXCJvblwiLFxuICBcIm9mZlwiLFxuICBcImhvbWVcIixcbiAgXCJub3RfaG9tZVwiLFxuICBcInVuYXZhaWxhYmxlXCIsXG4gIFwidW5rbm93blwiLFxuICBcImlkbGVcIixcbl0pO1xuXG5jb25zdCBzdGF0ZUNvbG9yTWFwOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuXG5sZXQgY29sb3JJbmRleCA9IDA7XG5cbmNvbnN0IGludmVydE9uT2ZmID0gKGVudGl0eVN0YXRlPzogSGFzc0VudGl0eSkgPT5cbiAgZW50aXR5U3RhdGUgJiZcbiAgY29tcHV0ZURvbWFpbihlbnRpdHlTdGF0ZS5lbnRpdHlfaWQpID09PSBcImJpbmFyeV9zZW5zb3JcIiAmJlxuICBcImRldmljZV9jbGFzc1wiIGluIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMgJiZcbiAgIUJJTkFSWV9TRU5TT1JfREVWSUNFX0NMQVNTX0NPTE9SX05PVF9JTlZFUlRFRC5oYXMoXG4gICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MhXG4gICk7XG5cbmNvbnN0IGdldENvbG9yID0gKFxuICBzdGF0ZVN0cmluZzogc3RyaW5nLFxuICBlbnRpdHlTdGF0ZTogSGFzc0VudGl0eSxcbiAgY29tcHV0ZWRTdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb25cbikgPT4ge1xuICAvLyBJbnZlcnNpb24gaXMgb25seSB2YWxpZCBmb3IgXCJvblwiIG9yIFwib2ZmXCIgc3RhdGVcbiAgaWYgKFxuICAgIChzdGF0ZVN0cmluZyA9PT0gXCJvblwiIHx8IHN0YXRlU3RyaW5nID09PSBcIm9mZlwiKSAmJlxuICAgIGludmVydE9uT2ZmKGVudGl0eVN0YXRlKVxuICApIHtcbiAgICBzdGF0ZVN0cmluZyA9IHN0YXRlU3RyaW5nID09PSBcIm9uXCIgPyBcIm9mZlwiIDogXCJvblwiO1xuICB9XG4gIGlmIChzdGF0ZUNvbG9yTWFwLmhhcyhzdGF0ZVN0cmluZykpIHtcbiAgICByZXR1cm4gc3RhdGVDb2xvck1hcC5nZXQoc3RhdGVTdHJpbmcpO1xuICB9XG4gIGlmIChTVEFUSUNfU1RBVEVfQ09MT1JTLmhhcyhzdGF0ZVN0cmluZykpIHtcbiAgICBjb25zdCBjb2xvciA9IGNvbXB1dGVkU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoXG4gICAgICBgLS1zdGF0ZS0ke3N0YXRlU3RyaW5nfS1jb2xvcmBcbiAgICApO1xuICAgIHN0YXRlQ29sb3JNYXAuc2V0KHN0YXRlU3RyaW5nLCBjb2xvcik7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG4gIGNvbnN0IGNvbG9yID0gZ2V0R3JhcGhDb2xvckJ5SW5kZXgoY29sb3JJbmRleCwgY29tcHV0ZWRTdHlsZXMpO1xuICBjb2xvckluZGV4Kys7XG4gIHN0YXRlQ29sb3JNYXAuc2V0KHN0YXRlU3RyaW5nLCBjb2xvcik7XG4gIHJldHVybiBjb2xvcjtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwic3RhdGUtaGlzdG9yeS1jaGFydC10aW1lbGluZVwiKVxuZXhwb3J0IGNsYXNzIFN0YXRlSGlzdG9yeUNoYXJ0VGltZWxpbmUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZGF0YTogVGltZWxpbmVFbnRpdHlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBuYXJyb3chOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBuYW1lczogYm9vbGVhbiB8IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSBmYWxzZTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgdW5pdD86IHN0cmluZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgaWRlbnRpZmllcj86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1NpbmdsZURldmljZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGNodW5rZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzdGFydFRpbWUhOiBEYXRlO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGVuZFRpbWUhOiBEYXRlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NoYXJ0RGF0YT86IENoYXJ0RGF0YTxcInRpbWVsaW5lXCI+O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NoYXJ0T3B0aW9ucz86IENoYXJ0T3B0aW9uczxcInRpbWVsaW5lXCI+O1xuXG4gIHByaXZhdGUgX2NoYXJ0VGltZTogRGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jaGFydC1iYXNlXG4gICAgICAgIC5kYXRhPSR7dGhpcy5fY2hhcnREYXRhfVxuICAgICAgICAub3B0aW9ucz0ke3RoaXMuX2NoYXJ0T3B0aW9uc31cbiAgICAgICAgLmhlaWdodD0ke3RoaXMuZGF0YS5sZW5ndGggKiAzMCArIDMwfVxuICAgICAgICBjaGFydC10eXBlPVwidGltZWxpbmVcIlxuICAgICAgPjwvaGEtY2hhcnQtYmFzZT5cbiAgICBgO1xuICB9XG5cbiAgcHVibGljIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICBjb25zdCBuYXJyb3cgPSB0aGlzLm5hcnJvdztcbiAgICAgIHRoaXMuX2NoYXJ0T3B0aW9ucyA9IHtcbiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgICAgIHBhcnNpbmc6IGZhbHNlLFxuICAgICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgICBzY2FsZXM6IHtcbiAgICAgICAgICB4OiB7XG4gICAgICAgICAgICB0eXBlOiBcInRpbWVsaW5lXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJib3R0b21cIixcbiAgICAgICAgICAgIGFkYXB0ZXJzOiB7XG4gICAgICAgICAgICAgIGRhdGU6IHtcbiAgICAgICAgICAgICAgICBsb2NhbGU6IHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VnZ2VzdGVkTWluOiB0aGlzLnN0YXJ0VGltZSxcbiAgICAgICAgICAgIHN1Z2dlc3RlZE1heDogdGhpcy5lbmRUaW1lLFxuICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgYXV0b1NraXA6IHRydWUsXG4gICAgICAgICAgICAgIG1heFJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICBzYW1wbGVTaXplOiA1LFxuICAgICAgICAgICAgICBhdXRvU2tpcFBhZGRpbmc6IDIwLFxuICAgICAgICAgICAgICBtYWpvcjoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZvbnQ6IChjb250ZXh0KSA9PlxuICAgICAgICAgICAgICAgIGNvbnRleHQudGljayAmJiBjb250ZXh0LnRpY2subWFqb3JcbiAgICAgICAgICAgICAgICAgID8gKHsgd2VpZ2h0OiBcImJvbGRcIiB9IGFzIGFueSlcbiAgICAgICAgICAgICAgICAgIDoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgICAgdG9vbHRpcEZvcm1hdDogXCJkYXRldGltZXNlY29uZHNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB5OiB7XG4gICAgICAgICAgICB0eXBlOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBiYXJUaGlja25lc3M6IDIwLFxuICAgICAgICAgICAgb2Zmc2V0OiB0cnVlLFxuICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgZHJhd0JvcmRlcjogZmFsc2UsXG4gICAgICAgICAgICAgIGRyYXdUaWNrczogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgICAgZGlzcGxheTpcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rZWQgfHwgIXRoaXMuaXNTaW5nbGVEZXZpY2UgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZnRlclNldERpbWVuc2lvbnM6ICh5KSA9PiB7XG4gICAgICAgICAgICAgIHkubWF4V2lkdGggPSB5LmNoYXJ0LndpZHRoICogMC4xODtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZnRlckZpdDogKHNjYWxlSW5zdGFuY2UpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuY2h1bmtlZCkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbGwgdGhlIGNoYXJ0IGxhYmVscyBhcmUgdGhlIHNhbWUgd2lkdGhcbiAgICAgICAgICAgICAgICBzY2FsZUluc3RhbmNlLndpZHRoID0gbmFycm93ID8gMTA1IDogMTg1O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zaXRpb246IGNvbXB1dGVSVEwodGhpcy5oYXNzKSA/IFwicmlnaHRcIiA6IFwibGVmdFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICBtb2RlOiBcIm5lYXJlc3RcIixcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICB0aXRsZTogKGNvbnRleHQpID0+XG4gICAgICAgICAgICAgICAgY29udGV4dCFbMF0uY2hhcnQhLmRhdGEhLmxhYmVscyFbXG4gICAgICAgICAgICAgICAgICBjb250ZXh0WzBdLmRhdGFzZXRJbmRleFxuICAgICAgICAgICAgICAgIF0gYXMgc3RyaW5nLFxuICAgICAgICAgICAgICBiZWZvcmVCb2R5OiAoY29udGV4dCkgPT4gY29udGV4dFswXS5kYXRhc2V0LmxhYmVsIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGxhYmVsOiAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBpdGVtLmRhdGFzZXQuZGF0YVtpdGVtLmRhdGFJbmRleF0gYXMgVGltZUxpbmVEYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICBkLmxhYmVsIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKGQuc3RhcnQsIHRoaXMuaGFzcy5sb2NhbGUpLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZVRpbWVXaXRoU2Vjb25kcyhkLmVuZCwgdGhpcy5oYXNzLmxvY2FsZSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbGFiZWxDb2xvcjogKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IChpdGVtLmRhdGFzZXQuZGF0YVtpdGVtLmRhdGFJbmRleF0gYXMgVGltZUxpbmVEYXRhKVxuICAgICAgICAgICAgICAgICAgLmNvbG9yISxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IChcbiAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YXNldC5kYXRhW2l0ZW0uZGF0YUluZGV4XSBhcyBUaW1lTGluZURhdGFcbiAgICAgICAgICAgICAgICApLmNvbG9yISxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmlsbGVyOiB7XG4gICAgICAgICAgICBwcm9wYWdhdGU6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBsb2NhbGU6IG51bWJlckZvcm1hdFRvTG9jYWxlKHRoaXMuaGFzcy5sb2NhbGUpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcImRhdGFcIikgfHxcbiAgICAgIHRoaXMuX2NoYXJ0VGltZSA8XG4gICAgICAgIG5ldyBEYXRlKHRoaXMuZW5kVGltZS5nZXRUaW1lKCkgLSBNSU5fVElNRV9CRVRXRUVOX1VQREFURVMpXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgbGluZSBpcyBtb3JlIHRoYW4gNSBtaW51dGVzIG9sZCwgcmUtZ2VuIGl0XG4gICAgICAvLyBzbyB0aGUgWCBheGlzIGdyb3dzIGV2ZW4gaWYgdGhlcmUgaXMgbm8gbmV3IGRhdGFcbiAgICAgIHRoaXMuX2dlbmVyYXRlRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dlbmVyYXRlRGF0YSgpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgbGV0IHN0YXRlSGlzdG9yeSA9IHRoaXMuZGF0YTtcblxuICAgIGlmICghc3RhdGVIaXN0b3J5KSB7XG4gICAgICBzdGF0ZUhpc3RvcnkgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLl9jaGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRoaXMuc3RhcnRUaW1lO1xuICAgIGNvbnN0IGVuZFRpbWUgPSB0aGlzLmVuZFRpbWU7XG4gICAgY29uc3QgbGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGRhdGFzZXRzOiBDaGFydERhdGFzZXQ8XCJ0aW1lbGluZVwiPltdID0gW107XG4gICAgY29uc3QgbmFtZXMgPSB0aGlzLm5hbWVzIHx8IHt9O1xuICAgIC8vIHN0YXRlSGlzdG9yeSBpcyBhIGxpc3Qgb2YgbGlzdHMgb2Ygc29ydGVkIHN0YXRlIG9iamVjdHNcbiAgICBzdGF0ZUhpc3RvcnkuZm9yRWFjaCgoc3RhdGVJbmZvKSA9PiB7XG4gICAgICBsZXQgbmV3TGFzdENoYW5nZWQ6IERhdGU7XG4gICAgICBsZXQgcHJldlN0YXRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBsb2NTdGF0ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgcHJldkxhc3RDaGFuZ2VkID0gc3RhcnRUaW1lO1xuICAgICAgY29uc3QgZW50aXR5RGlzcGxheTogc3RyaW5nID1cbiAgICAgICAgbmFtZXNbc3RhdGVJbmZvLmVudGl0eV9pZF0gfHwgc3RhdGVJbmZvLm5hbWU7XG5cbiAgICAgIGNvbnN0IGRhdGFSb3c6IFRpbWVMaW5lRGF0YVtdID0gW107XG4gICAgICBzdGF0ZUluZm8uZGF0YS5mb3JFYWNoKChlbnRpdHlTdGF0ZSkgPT4ge1xuICAgICAgICBsZXQgbmV3U3RhdGU6IHN0cmluZyB8IG51bGwgPSBlbnRpdHlTdGF0ZS5zdGF0ZTtcbiAgICAgICAgY29uc3QgdGltZVN0YW1wID0gbmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKTtcbiAgICAgICAgaWYgKCFuZXdTdGF0ZSkge1xuICAgICAgICAgIG5ld1N0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVN0YW1wID4gZW5kVGltZSkge1xuICAgICAgICAgIC8vIERyb3AgZGF0YXBvaW50cyB0aGF0IGFyZSBhZnRlciB0aGUgcmVxdWVzdGVkIGVuZFRpbWUuIFRoaXMgY291bGQgaGFwcGVuIGlmXG4gICAgICAgICAgLy8gZW5kVGltZSBpcyAnbm93JyBhbmQgY2xpZW50IHRpbWUgaXMgbm90IGluIHN5bmMgd2l0aCBzZXJ2ZXIgdGltZS5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZTdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHByZXZTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICAgIGxvY1N0YXRlID0gZW50aXR5U3RhdGUuc3RhdGVfbG9jYWxpemU7XG4gICAgICAgICAgcHJldkxhc3RDaGFuZ2VkID0gbmV3IERhdGUoZW50aXR5U3RhdGUubGFzdF9jaGFuZ2VkKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdTdGF0ZSAhPT0gcHJldlN0YXRlKSB7XG4gICAgICAgICAgbmV3TGFzdENoYW5nZWQgPSBuZXcgRGF0ZShlbnRpdHlTdGF0ZS5sYXN0X2NoYW5nZWQpO1xuXG4gICAgICAgICAgZGF0YVJvdy5wdXNoKHtcbiAgICAgICAgICAgIHN0YXJ0OiBwcmV2TGFzdENoYW5nZWQsXG4gICAgICAgICAgICBlbmQ6IG5ld0xhc3RDaGFuZ2VkLFxuICAgICAgICAgICAgbGFiZWw6IGxvY1N0YXRlLFxuICAgICAgICAgICAgY29sb3I6IGdldENvbG9yKFxuICAgICAgICAgICAgICBwcmV2U3RhdGUsXG4gICAgICAgICAgICAgIHRoaXMuaGFzcy5zdGF0ZXNbc3RhdGVJbmZvLmVudGl0eV9pZF0sXG4gICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcHJldlN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgbG9jU3RhdGUgPSBlbnRpdHlTdGF0ZS5zdGF0ZV9sb2NhbGl6ZTtcbiAgICAgICAgICBwcmV2TGFzdENoYW5nZWQgPSBuZXdMYXN0Q2hhbmdlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwcmV2U3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgZGF0YVJvdy5wdXNoKHtcbiAgICAgICAgICBzdGFydDogcHJldkxhc3RDaGFuZ2VkLFxuICAgICAgICAgIGVuZDogZW5kVGltZSxcbiAgICAgICAgICBsYWJlbDogbG9jU3RhdGUsXG4gICAgICAgICAgY29sb3I6IGdldENvbG9yKFxuICAgICAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICAgICAgdGhpcy5oYXNzLnN0YXRlc1tzdGF0ZUluZm8uZW50aXR5X2lkXSxcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVzXG4gICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkYXRhc2V0cy5wdXNoKHtcbiAgICAgICAgZGF0YTogZGF0YVJvdyxcbiAgICAgICAgbGFiZWw6IHN0YXRlSW5mby5lbnRpdHlfaWQsXG4gICAgICB9KTtcbiAgICAgIGxhYmVscy5wdXNoKGVudGl0eURpc3BsYXkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2hhcnREYXRhID0ge1xuICAgICAgbGFiZWxzOiBsYWJlbHMsXG4gICAgICBkYXRhc2V0czogZGF0YXNldHMsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgaGEtY2hhcnQtYmFzZSB7XG4gICAgICAgIC0tY2hhcnQtbWF4LWhlaWdodDogbm9uZTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJzdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lXCI6IFN0YXRlSGlzdG9yeUNoYXJ0VGltZWxpbmU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-chart-timeline.ts\n");

/***/ }),

/***/ "./src/components/chart/state-history-charts.ts":
/*!******************************************************!*\
  !*** ./src/components/chart/state-history-charts.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lit_labs_virtualizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit-labs/virtualizer */ \"./node_modules/@lit-labs/virtualizer/lit-virtualizer.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _state_history_chart_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./state-history-chart-line */ \"./src/components/chart/state-history-chart-line.ts\");\n/* harmony import */ var _state_history_chart_timeline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./state-history-chart-timeline */ \"./src/components/chart/state-history-chart-timeline.ts\");\n/* harmony import */ var _common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/decorators/restore-scroll */ \"./src/common/decorators/restore-scroll.ts\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function _getDecoratorsApi() { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function initializeInstanceElements(O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function initializeClassElements(F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function defineClassElement(receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function decorateClass(elements, decorators) { var newElements = []; var finishers = []; var placements = { \"static\": [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function addElementPlacement(element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function decorateElement(element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function decorateConstructor(elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function fromElementDescriptor(element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function toElementDescriptors(elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function toElementDescriptor(elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function toElementFinisherExtras(elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function fromClassDescriptor(elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function toClassDescriptor(obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function runClassFinishers(constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function disallowProperty(obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function isSameElement(other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\nvar CANVAS_TIMELINE_ROWS_CHUNK = 10; // Split up the canvases to avoid hitting the render limit\n\nvar chunkData = function chunkData(inputArray, chunks) {\n  return inputArray.reduce(function (results, item, idx) {\n    var chunkIdx = Math.floor(idx / chunks);\n\n    if (!results[chunkIdx]) {\n      results[chunkIdx] = [];\n    }\n\n    results[chunkIdx].push(item);\n    return results;\n  }, []);\n};\n\nvar StateHistoryCharts = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"state-history-charts\")], function (_initialize, _LitElement) {\n  var StateHistoryCharts = /*#__PURE__*/function (_LitElement2) {\n    _inherits(StateHistoryCharts, _LitElement2);\n\n    var _super = _createSuper(StateHistoryCharts);\n\n    function StateHistoryCharts() {\n      var _this;\n\n      _classCallCheck(this, StateHistoryCharts);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return StateHistoryCharts;\n  }(_LitElement);\n\n  return {\n    F: StateHistoryCharts,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"historyData\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"names\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"virtualize\",\n        reflect: true\n      })],\n      key: \"virtualize\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"endTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"up-to-now\"\n      })],\n      key: \"upToNow\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"no-single\"\n      })],\n      key: \"noSingle\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"isLoadingData\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_computedStartTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_computedEndTime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_6__.restoreScroll)(\".container\")],\n      key: \"_savedScrollPos\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.eventOptions)({\n        passive: true\n      })],\n      key: \"render\",\n      value: // @ts-ignore\n      function render() {\n        var _this2 = this;\n\n        if (!(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_3__.isComponentLoaded)(this.hass, \"history\")) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.history_disabled\"));\n        }\n\n        if (this.isLoadingData && !this.historyData) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.loading_history\"));\n        }\n\n        if (this._isHistoryEmpty()) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<div class=\\\"info\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.history_charts.no_history_found\"));\n        }\n\n        var now = new Date();\n        this._computedEndTime = this.upToNow || !this.endTime || this.endTime > now ? now : this.endTime;\n        this._computedStartTime = new Date(this.historyData.timeline.reduce(function (minTime, stateInfo) {\n          return Math.min(minTime, new Date(stateInfo.data[0].last_changed).getTime());\n        }, new Date().getTime()));\n        var combinedItems = this.historyData.timeline.length ? (this.virtualize ? chunkData(this.historyData.timeline, CANVAS_TIMELINE_ROWS_CHUNK) : [this.historyData.timeline]).concat(this.historyData.line) : this.historyData.line;\n        return this.virtualize ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"<div class=\\\"container ha-scrollbar\\\" @scroll=\", \">\\n          <lit-virtualizer\\n            scroller\\n            class=\\\"ha-scrollbar\\\"\\n            .items=\", \"\\n            .renderItem=\", \"\\n          >\\n          </lit-virtualizer>\\n        </div>\"])), this._saveScrollPos, combinedItems, this._renderHistoryItem) : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\", \"\"])), combinedItems.map(function (item, index) {\n          return _this2._renderHistoryItem(item, index);\n        }));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_renderHistoryItem\",\n      value: function value() {\n        var _this3 = this;\n\n        return function (item, index) {\n          var _this3$historyData$ti;\n\n          if (!item || index === undefined) {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\"])));\n          }\n\n          if (!Array.isArray(item)) {\n            var _this3$historyData$li;\n\n            return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<div class=\\\"entry-container\\\">\\n        <state-history-chart-line\\n          .hass=\", \"\\n          .unit=\", \"\\n          .data=\", \"\\n          .identifier=\", \"\\n          .isSingleDevice=\", \"\\n          .endTime=\", \"\\n          .names=\", \"\\n        ></state-history-chart-line>\\n      </div> \"])), _this3.hass, item.unit, item.data, item.identifier, !_this3.noSingle && ((_this3$historyData$li = _this3.historyData.line) === null || _this3$historyData$li === void 0 ? void 0 : _this3$historyData$li.length) === 1, _this3._computedEndTime, _this3.names);\n          }\n\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"<div class=\\\"entry-container\\\">\\n      <state-history-chart-timeline\\n        .hass=\", \"\\n        .data=\", \"\\n        .startTime=\", \"\\n        .endTime=\", \"\\n        .isSingleDevice=\", \"\\n        .names=\", \"\\n        .narrow=\", \"\\n        .chunked=\", \"\\n      ></state-history-chart-timeline>\\n    </div> \"])), _this3.hass, item, _this3._computedStartTime, _this3._computedEndTime, !_this3.noSingle && ((_this3$historyData$ti = _this3.historyData.timeline) === null || _this3$historyData$ti === void 0 ? void 0 : _this3$historyData$ti.length) === 1, _this3.names, _this3.narrow, _this3.virtualize);\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        return !(changedProps.size === 1 && changedProps.has(\"hass\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_isHistoryEmpty\",\n      value: function _isHistoryEmpty() {\n        var historyDataEmpty = !this.historyData || !this.historyData.timeline || !this.historyData.line || this.historyData.timeline.length === 0 && this.historyData.line.length === 0;\n        return !this.isLoadingData && historyDataEmpty;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.eventOptions)({\n        passive: true\n      })],\n      key: \"_saveScrollPos\",\n      value: function _saveScrollPos(e) {\n        this._savedScrollPos = e.target.scrollTop;\n      }\n    }, {\n      kind: \"get\",\n      \"static\": true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n      :host {\\n        display: block;\\n        /* height of single timeline chart = 60px */\\n        min-height: 60px;\\n      }\\n\\n      :host([virtualize]) {\\n        height: 100%;\\n      }\\n\\n      .info {\\n        text-align: center;\\n        line-height: 60px;\\n        color: var(--secondary-text-color);\\n      }\\n\\n      .container {\\n        max-height: var(--history-max-height);\\n      }\\n\\n      .entry-container {\\n        width: 100%;\\n      }\\n\\n      .entry-container:hover {\\n        z-index: 1;\\n      }\\n\\n      :host([virtualize]) .entry-container {\\n        padding-left: 1px;\\n        padding-right: 1px;\\n      }\\n\\n      .container,\\n      lit-virtualizer {\\n        height: 100%;\\n        width: 100%;\\n      }\\n\\n      lit-virtualizer {\\n        contain: size layout !important;\\n      }\\n\\n      state-history-chart-timeline,\\n      state-history-chart-line {\\n        width: 100%;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0cy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFRQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFSQTs7QUFXQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7Ozs7QUFFQTtBQUFBO0FBQUE7Ozs7O0FBRUE7Ozs7O0FBRUE7QUFBQTtBQUFBOzs7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUNBOzs7O0FBRUE7QUFBQTtBQUFBOzs7OztBQUVBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTs7O0FBQUE7Ozs7QUFFQTs7Ozs7QUFFQTs7Ozs7QUFHQTs7Ozs7QUFFQTtBQUFBO0FBQUE7O0FBSEE7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUdBOztBQUVBO0FBRUE7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQU9BO0FBVUE7QUFBQTtBQUdBOzs7Ozs7O0FBRUE7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTs7QUFDQTtBQVlBOztBQUNBO0FBYUE7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQU1BO0FBQ0E7OztBQUVBO0FBQUE7QUFBQTs7QUFBQTtBQUVBO0FBQ0E7Ozs7O0FBRUE7QUFDQTtBQWlEQTs7O0FBM0xBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9jaGFydC9zdGF0ZS1oaXN0b3J5LWNoYXJ0cy50cz9jY2QzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBsaXQtbGFicy92aXJ0dWFsaXplclwiO1xuaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIFRlbXBsYXRlUmVzdWx0LFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUsIGV2ZW50T3B0aW9ucyB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQge1xuICBIaXN0b3J5UmVzdWx0LFxuICBMaW5lQ2hhcnRVbml0LFxuICBUaW1lbGluZUVudGl0eSxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvaGlzdG9yeVwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL3N0YXRlLWhpc3RvcnktY2hhcnQtbGluZVwiO1xuaW1wb3J0IFwiLi9zdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lXCI7XG5pbXBvcnQgeyByZXN0b3JlU2Nyb2xsIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kZWNvcmF0b3JzL3Jlc3RvcmUtc2Nyb2xsXCI7XG5cbmNvbnN0IENBTlZBU19USU1FTElORV9ST1dTX0NIVU5LID0gMTA7IC8vIFNwbGl0IHVwIHRoZSBjYW52YXNlcyB0byBhdm9pZCBoaXR0aW5nIHRoZSByZW5kZXIgbGltaXRcblxuY29uc3QgY2h1bmtEYXRhID0gKGlucHV0QXJyYXk6IGFueVtdLCBjaHVua3M6IG51bWJlcikgPT5cbiAgaW5wdXRBcnJheS5yZWR1Y2UoKHJlc3VsdHMsIGl0ZW0sIGlkeCkgPT4ge1xuICAgIGNvbnN0IGNodW5rSWR4ID0gTWF0aC5mbG9vcihpZHggLyBjaHVua3MpO1xuICAgIGlmICghcmVzdWx0c1tjaHVua0lkeF0pIHtcbiAgICAgIHJlc3VsdHNbY2h1bmtJZHhdID0gW107XG4gICAgfVxuICAgIHJlc3VsdHNbY2h1bmtJZHhdLnB1c2goaXRlbSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0sIFtdKTtcblxuQGN1c3RvbUVsZW1lbnQoXCJzdGF0ZS1oaXN0b3J5LWNoYXJ0c1wiKVxuY2xhc3MgU3RhdGVIaXN0b3J5Q2hhcnRzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhpc3RvcnlEYXRhITogSGlzdG9yeVJlc3VsdDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBuYW1lcyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJ2aXJ0dWFsaXplXCIsIHJlZmxlY3Q6IHRydWUgfSlcbiAgcHVibGljIHZpcnR1YWxpemUgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBlbmRUaW1lPzogRGF0ZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwidXAtdG8tbm93XCIgfSkgcHVibGljIHVwVG9Ob3cgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwibm8tc2luZ2xlXCIgfSkgcHVibGljIG5vU2luZ2xlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgaXNMb2FkaW5nRGF0YSA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbXB1dGVkU3RhcnRUaW1lITogRGF0ZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb21wdXRlZEVuZFRpbWUhOiBEYXRlO1xuXG4gIC8vIEB0cy1pZ25vcmVcbiAgQHJlc3RvcmVTY3JvbGwoXCIuY29udGFpbmVyXCIpIHByaXZhdGUgX3NhdmVkU2Nyb2xsUG9zPzogbnVtYmVyO1xuXG4gIEBldmVudE9wdGlvbnMoeyBwYXNzaXZlOiB0cnVlIH0pXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICghaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzLCBcImhpc3RvcnlcIikpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5oaXN0b3J5X2NoYXJ0cy5oaXN0b3J5X2Rpc2FibGVkXCIpfVxuICAgICAgPC9kaXY+YDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmdEYXRhICYmICF0aGlzLmhpc3RvcnlEYXRhKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwiaW5mb1wiPlxuICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMuaGlzdG9yeV9jaGFydHMubG9hZGluZ19oaXN0b3J5XCIpfVxuICAgICAgPC9kaXY+YDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNIaXN0b3J5RW1wdHkoKSkge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLmhpc3RvcnlfY2hhcnRzLm5vX2hpc3RvcnlfZm91bmRcIil9XG4gICAgICA8L2Rpdj5gO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICB0aGlzLl9jb21wdXRlZEVuZFRpbWUgPVxuICAgICAgdGhpcy51cFRvTm93IHx8ICF0aGlzLmVuZFRpbWUgfHwgdGhpcy5lbmRUaW1lID4gbm93ID8gbm93IDogdGhpcy5lbmRUaW1lO1xuXG4gICAgdGhpcy5fY29tcHV0ZWRTdGFydFRpbWUgPSBuZXcgRGF0ZShcbiAgICAgIHRoaXMuaGlzdG9yeURhdGEudGltZWxpbmUucmVkdWNlKFxuICAgICAgICAobWluVGltZSwgc3RhdGVJbmZvKSA9PlxuICAgICAgICAgIE1hdGgubWluKG1pblRpbWUsIG5ldyBEYXRlKHN0YXRlSW5mby5kYXRhWzBdLmxhc3RfY2hhbmdlZCkuZ2V0VGltZSgpKSxcbiAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgIClcbiAgICApO1xuXG4gICAgY29uc3QgY29tYmluZWRJdGVtcyA9IHRoaXMuaGlzdG9yeURhdGEudGltZWxpbmUubGVuZ3RoXG4gICAgICA/ICh0aGlzLnZpcnR1YWxpemVcbiAgICAgICAgICA/IGNodW5rRGF0YSh0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lLCBDQU5WQVNfVElNRUxJTkVfUk9XU19DSFVOSylcbiAgICAgICAgICA6IFt0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lXVxuICAgICAgICApLmNvbmNhdCh0aGlzLmhpc3RvcnlEYXRhLmxpbmUpXG4gICAgICA6IHRoaXMuaGlzdG9yeURhdGEubGluZTtcblxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxpemVcbiAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGhhLXNjcm9sbGJhclwiIEBzY3JvbGw9JHt0aGlzLl9zYXZlU2Nyb2xsUG9zfT5cbiAgICAgICAgICA8bGl0LXZpcnR1YWxpemVyXG4gICAgICAgICAgICBzY3JvbGxlclxuICAgICAgICAgICAgY2xhc3M9XCJoYS1zY3JvbGxiYXJcIlxuICAgICAgICAgICAgLml0ZW1zPSR7Y29tYmluZWRJdGVtc31cbiAgICAgICAgICAgIC5yZW5kZXJJdGVtPSR7dGhpcy5fcmVuZGVySGlzdG9yeUl0ZW19XG4gICAgICAgICAgPlxuICAgICAgICAgIDwvbGl0LXZpcnR1YWxpemVyPlxuICAgICAgICA8L2Rpdj5gXG4gICAgICA6IGh0bWxgJHtjb21iaW5lZEl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+XG4gICAgICAgICAgdGhpcy5fcmVuZGVySGlzdG9yeUl0ZW0oaXRlbSwgaW5kZXgpXG4gICAgICAgICl9YDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckhpc3RvcnlJdGVtID0gKFxuICAgIGl0ZW06IFRpbWVsaW5lRW50aXR5W10gfCBMaW5lQ2hhcnRVbml0LFxuICAgIGluZGV4OiBudW1iZXJcbiAgKTogVGVtcGxhdGVSZXN1bHQgPT4ge1xuICAgIGlmICghaXRlbSB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJlbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgPHN0YXRlLWhpc3RvcnktY2hhcnQtbGluZVxuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgIC51bml0PSR7aXRlbS51bml0fVxuICAgICAgICAgIC5kYXRhPSR7aXRlbS5kYXRhfVxuICAgICAgICAgIC5pZGVudGlmaWVyPSR7aXRlbS5pZGVudGlmaWVyfVxuICAgICAgICAgIC5pc1NpbmdsZURldmljZT0keyF0aGlzLm5vU2luZ2xlICYmXG4gICAgICAgICAgdGhpcy5oaXN0b3J5RGF0YS5saW5lPy5sZW5ndGggPT09IDF9XG4gICAgICAgICAgLmVuZFRpbWU9JHt0aGlzLl9jb21wdXRlZEVuZFRpbWV9XG4gICAgICAgICAgLm5hbWVzPSR7dGhpcy5uYW1lc31cbiAgICAgICAgPjwvc3RhdGUtaGlzdG9yeS1jaGFydC1saW5lPlxuICAgICAgPC9kaXY+IGA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJlbnRyeS1jb250YWluZXJcIj5cbiAgICAgIDxzdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZGF0YT0ke2l0ZW19XG4gICAgICAgIC5zdGFydFRpbWU9JHt0aGlzLl9jb21wdXRlZFN0YXJ0VGltZX1cbiAgICAgICAgLmVuZFRpbWU9JHt0aGlzLl9jb21wdXRlZEVuZFRpbWV9XG4gICAgICAgIC5pc1NpbmdsZURldmljZT0keyF0aGlzLm5vU2luZ2xlICYmXG4gICAgICAgIHRoaXMuaGlzdG9yeURhdGEudGltZWxpbmU/Lmxlbmd0aCA9PT0gMX1cbiAgICAgICAgLm5hbWVzPSR7dGhpcy5uYW1lc31cbiAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAuY2h1bmtlZD0ke3RoaXMudmlydHVhbGl6ZX1cbiAgICAgID48L3N0YXRlLWhpc3RvcnktY2hhcnQtdGltZWxpbmU+XG4gICAgPC9kaXY+IGA7XG4gIH07XG5cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEoY2hhbmdlZFByb3BzLnNpemUgPT09IDEgJiYgY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNIaXN0b3J5RW1wdHkoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGlzdG9yeURhdGFFbXB0eSA9XG4gICAgICAhdGhpcy5oaXN0b3J5RGF0YSB8fFxuICAgICAgIXRoaXMuaGlzdG9yeURhdGEudGltZWxpbmUgfHxcbiAgICAgICF0aGlzLmhpc3RvcnlEYXRhLmxpbmUgfHxcbiAgICAgICh0aGlzLmhpc3RvcnlEYXRhLnRpbWVsaW5lLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICB0aGlzLmhpc3RvcnlEYXRhLmxpbmUubGVuZ3RoID09PSAwKTtcbiAgICByZXR1cm4gIXRoaXMuaXNMb2FkaW5nRGF0YSAmJiBoaXN0b3J5RGF0YUVtcHR5O1xuICB9XG5cbiAgQGV2ZW50T3B0aW9ucyh7IHBhc3NpdmU6IHRydWUgfSlcbiAgcHJpdmF0ZSBfc2F2ZVNjcm9sbFBvcyhlOiBFdmVudCkge1xuICAgIHRoaXMuX3NhdmVkU2Nyb2xsUG9zID0gKGUudGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50KS5zY3JvbGxUb3A7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIC8qIGhlaWdodCBvZiBzaW5nbGUgdGltZWxpbmUgY2hhcnQgPSA2MHB4ICovXG4gICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt2aXJ0dWFsaXplXSkge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5pbmZvIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBsaW5lLWhlaWdodDogNjBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgIG1heC1oZWlnaHQ6IHZhcigtLWhpc3RvcnktbWF4LWhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIC5lbnRyeS1jb250YWluZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgLmVudHJ5LWNvbnRhaW5lcjpob3ZlciB7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt2aXJ0dWFsaXplXSkgLmVudHJ5LWNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMXB4O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxcHg7XG4gICAgICB9XG5cbiAgICAgIC5jb250YWluZXIsXG4gICAgICBsaXQtdmlydHVhbGl6ZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuXG4gICAgICBsaXQtdmlydHVhbGl6ZXIge1xuICAgICAgICBjb250YWluOiBzaXplIGxheW91dCAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS1oaXN0b3J5LWNoYXJ0LXRpbWVsaW5lLFxuICAgICAgc3RhdGUtaGlzdG9yeS1jaGFydC1saW5lIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwic3RhdGUtaGlzdG9yeS1jaGFydHNcIjogU3RhdGVIaXN0b3J5Q2hhcnRzO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/chart/state-history-charts.ts\n");

/***/ })

}]);