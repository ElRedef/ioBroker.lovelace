"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[79685],{17623:function(e,t,n){var r,i=n(37500),o=n(33310);n(10983);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){f=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!m(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=g(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:v(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=v(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function p(e){var t,n=g(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function h(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function m(e){return e.decorators&&e.decorators.length}function y(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function v(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function g(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},w(e,t,n||e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var _="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z";!function(e,t,n,r){var i=f();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(y(o.descriptor)||y(i.descriptor)){if(m(o)||m(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(m(o)){if(m(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}h(o,i)}else t.push(o)}return t}(a.d.map(p)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,o.Mo)("ha-icon-button-prev")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,t);var n=c(r);function r(){var t;s(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(u(t)),t}return r}(t);return{F:n,d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,o.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_icon",value:function(){return _}},{kind:"method",key:"connectedCallback",value:function(){var e=this;w(k(n.prototype),"connectedCallback",this).call(this),setTimeout((function(){e._icon="ltr"===window.getComputedStyle(e).direction?_:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}),100)}},{kind:"method",key:"render",value:function(){var e,t,n;return(0,i.dy)(r||(t=["\n      <ha-icon-button\n        .disabled=","\n        .label=","\n        .path=","\n      ></ha-icon-button>\n    "],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))||"Back",this._icon)}}]}}),i.oi)},79685:function(e,t,n){n.r(t);n(51187),n(24103);var r,i,o,a,s,l,c,d,u,f,p,h=n(81480),m=n(37500),y=n(33310),v=n(70483),g=n(14516),b=n(7323),w=n(47181),k=n(78866),_=n(83849),E=n(85415),x=n(34821),P=(n(17623),n(65040),n(73728)),O=n(5986),S=n(75580),z=n(2852),C=n(26765),A=n(11654),D=n(86977),j=n(11254),T=n(61092),R=n(96762),I=n(8636);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var i=Z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function N(){N=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!$(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=G(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:X(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=X(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function q(e){var t,n=G(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function U(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function $(e){return e.decorators&&e.decorators.length}function Q(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function X(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function G(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t,n,r){var i=N();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Q(o.descriptor)||Q(i.descriptor)){if($(o)||$(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if($(o)){if($(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}U(o,i)}else t.push(o)}return t}(a.d.map(q)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,y.Mo)("ha-integration-list-item")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,t);var n=V(r);function r(){var t;L(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(W(t)),t}return r}(t);return{F:n,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"integration",value:void 0},{kind:"field",decorators:[(0,y.Cb)({type:String,reflect:!0})],key:"graphic",value:function(){return"medium"}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"hasMeta",value:function(){return!0}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"brand",value:function(){return!1}},{kind:"method",key:"renderSingleLine",value:function(){return this.integration?(0,m.dy)(i||(i=F(["","\n    ",""])),this.integration.name||(0,O.Lh)(this.hass.localize,this.integration.domain),this.integration.is_helper?" (helper)":""):(0,m.dy)(r||(r=F([""])))}},{kind:"method",key:"renderGraphic",value:function(){var e;if(!this.integration)return(0,m.dy)(o||(o=F([""])));var t={multi:this.multipleGraphics};return(0,m.dy)(a||(a=F([' <span\n      class="mdc-deprecated-list-item__graphic material-icons ','"\n    >\n      <img\n        loading="lazy"\n        src=','\n        referrerpolicy="no-referrer"\n      />\n    </span>'])),(0,I.$)(t),(0,j.X1)({domain:this.integration.domain,type:"icon",useFallback:!0,darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode,brand:this.brand}))}},{kind:"method",key:"renderMeta",value:function(){return this.integration?(0,m.dy)(l||(l=F(['<span class="mdc-deprecated-list-item__meta material-icons">\n      ',"\n      ","\n      ","\n    </span>"])),this.integration.cloud?(0,m.dy)(c||(c=F(["<span\n            ><ha-svg-icon .path=",'></ha-svg-icon\n            ><paper-tooltip animation-delay="0" position="left"\n              >',"</paper-tooltip\n            ></span\n          >"])),"M19,18H6A4,4 0 0,1 2,14A4,4 0 0,1 6,10H6.71C7.37,7.69 9.5,6 12,6A5.5,5.5 0 0,1 17.5,11.5V12H19A3,3 0 0,1 22,15A3,3 0 0,1 19,18M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z",this.hass.localize("ui.panel.config.integrations.config_entry.depends_on_cloud")):"",this.integration.is_built_in?"":(0,m.dy)(d||(d=F(["<span\n            ><ha-svg-icon .path=",'></ha-svg-icon\n            ><paper-tooltip animation-delay="0" position="left"\n              >',"</paper-tooltip\n            ></span\n          >"])),"M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z",this.hass.localize("ui.panel.config.integrations.config_entry.provided_by_custom_integration")),this.integration.config_flow||this.integration.integrations||this.integration.iot_standards?(0,m.dy)(f||(f=F(["<ha-icon-next></ha-icon-next>"]))):(0,m.dy)(u||(u=F(['<span\n            ><paper-tooltip animation-delay="0" position="left"\n              >',"</paper-tooltip\n            ><ha-svg-icon\n              .path=",'\n              class="open-in-new"\n            ></ha-svg-icon\n          ></span>'])),this.hass.localize("ui.panel.config.integrations.config_entry.yaml_only"),"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z")):(0,m.dy)(s||(s=F([""])))}},{kind:"get",static:!0,key:"styles",value:function(){return[R.W,(0,m.iv)(p||(p=F(['\n        :host {\n          --mdc-list-side-padding: 24px;\n          --mdc-list-item-graphic-size: 40px;\n        }\n        :host([graphic="avatar"]:not([twoLine])),\n        :host([graphic="icon"]:not([twoLine])) {\n          height: 48px;\n        }\n        span.material-icons:first-of-type {\n          margin-inline-start: 0px !important;\n          margin-inline-end: var(\n            --mdc-list-item-graphic-margin,\n            16px\n          ) !important;\n          direction: var(--direction);\n        }\n        span.material-icons:last-of-type {\n          margin-inline-start: auto !important;\n          margin-inline-end: 0px !important;\n          direction: var(--direction);\n        }\n        img {\n          width: 40px;\n          height: 40px;\n        }\n        .mdc-deprecated-list-item__meta {\n          width: auto;\n          white-space: nowrap;\n        }\n        .mdc-deprecated-list-item__meta > * {\n          margin-right: 8px;\n        }\n        .mdc-deprecated-list-item__meta > *:last-child {\n          margin-right: 0px;\n        }\n        ha-icon-next {\n          margin-right: 8px;\n        }\n        .open-in-new {\n          --mdc-icon-size: 22px;\n          padding: 1px;\n        }\n      '])))]}}]}}),T.K);var Y,J,ee,te,ne,re,ie,oe,ae,se,le,ce=n(72160);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ue(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ue(o,r,i,a,s,"next",e)}function s(e){ue(o,r,i,a,s,"throw",e)}a(void 0)}))}}function pe(e,t){return De(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Ce(e,t)||ze()}function he(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){return ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ye(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var i=we(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function ke(){ke=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!xe(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,De(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ce(t)||ze()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Se(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Oe(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Oe(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function _e(e){var t,n=Se(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Ee(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function xe(e){return e.decorators&&e.decorators.length}function Pe(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Oe(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Se(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===de(t)?t:String(t)}function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e){if(Array.isArray(e))return e}var je,Te,Re,Ie,Be,Fe,Le,Me,Ve,He,We={zigbee:"zha",zwave:"zwave_js"};!function(e,t,n,r){var i=ke();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Pe(o.descriptor)||Pe(i.descriptor)){if(xe(o)||xe(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(xe(o)){if(xe(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Ee(o,i)}else t.push(o)}return t}(a.d.map(_e)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,y.Mo)("ha-domain-integrations")],(function(e,t){var n,r,i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(r,t);var n=ve(r);function r(){var t;me(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(be(t)),t}return r}(t);return{F:i,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"integration",value:void 0},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"flowsInProgress",value:void 0},{kind:"method",key:"render",value:function(){var e,t,n,r,i,o=this;return(0,m.dy)(Y||(Y=he(["<mwc-list>\n      ","\n      ","\n      ","\n      ","\n      ","\n    </mwc-list> "])),null!==(e=this.flowsInProgress)&&void 0!==e&&e.length?(0,m.dy)(J||(J=he(["<h3>\n              ","\n            </h3>\n            ",'\n            <li divider role="separator"></li>\n            ',""])),this.hass.localize("ui.panel.config.integrations.discovered"),this.flowsInProgress.map((function(e){var t;return(0,m.dy)(ee||(ee=he(['<mwc-list-item\n                graphic="medium"\n                .flow=',"\n                @request-selected=",'\n                hasMeta\n              >\n                <img\n                  slot="graphic"\n                  loading="lazy"\n                  src=','\n                  referrerpolicy="no-referrer"\n                />\n                <span\n                  >','</span\n                >\n                <ha-icon-next slot="meta"></ha-icon-next>\n              </mwc-list-item>'])),e,o._flowInProgressPicked,(0,j.X1)({domain:e.handler,type:"icon",useFallback:!0,darkOptimized:null===(t=o.hass.themes)||void 0===t?void 0:t.darkMode}),(0,P.WW)(o.hass.localize,e))})),this.integration&&"integrations"in this.integration&&this.integration.integrations?(0,m.dy)(te||(te=he(["<h3>\n                  ","\n                </h3>"])),this.hass.localize("ui.panel.config.integrations.available_integrations")):""):"",null!==(t=this.integration)&&void 0!==t&&t.iot_standards?this.integration.iot_standards.filter((function(e){return e in We})).map((function(e){var t,n=We[e];return(0,m.dy)(ne||(ne=he(['<mwc-list-item\n              graphic="medium"\n              .domain=',"\n              @request-selected=",'\n              hasMeta\n            >\n              <img\n                slot="graphic"\n                loading="lazy"\n                src=','\n                referrerpolicy="no-referrer"\n              />\n              <span\n                >','</span\n              >\n              <ha-icon-next slot="meta"></ha-icon-next>\n            </mwc-list-item>'])),n,o._standardPicked,(0,j.X1)({domain:n,type:"icon",useFallback:!0,darkOptimized:null===(t=o.hass.themes)||void 0===t?void 0:t.darkMode}),o.hass.localize("ui.panel.config.integrations.add_".concat(n,"_device")))})):"",this.integration&&"integrations"in this.integration&&this.integration.integrations?Object.entries(this.integration.integrations).sort((function(e,t){return e[1].config_flow&&!t[1].config_flow?-1:t[1].config_flow&&!e[1].config_flow?0:(0,E.f)(e[1].name||(0,O.Lh)(o.hass.localize,e[0]),t[1].name||(0,O.Lh)(o.hass.localize,t[0]))})).map((function(e){var t,n=pe(e,2),r=n[0],i=n[1];return(0,m.dy)(re||(re=he(["<ha-integration-list-item\n                  .hass=","\n                  .domain=","\n                  .integration=","\n                  @request-selected=","\n                >\n                </ha-integration-list-item>"])),o.hass,r,Object.assign({},i,{domain:r,name:i.name||(0,O.Lh)(o.hass.localize,r),is_built_in:!1!==i.is_built_in,cloud:null===(t=i.iot_class)||void 0===t?void 0:t.startsWith("cloud_")}),o._integrationPicked)})):"","zha"===this.domain||"zwave_js"===this.domain?(0,m.dy)(ie||(ie=he(['<mwc-list-item\n            graphic="medium"\n            .domain=',"\n            @request-selected=",'\n            hasMeta\n          >\n            <img\n              slot="graphic"\n              loading="lazy"\n              src=','\n              referrerpolicy="no-referrer"\n            />\n            <span\n              >','</span\n            >\n            <ha-icon-next slot="meta"></ha-icon-next>\n          </mwc-list-item>'])),this.domain,this._standardPicked,(0,j.X1)({domain:this.domain,type:"icon",useFallback:!0,darkOptimized:null===(n=this.hass.themes)||void 0===n?void 0:n.darkMode}),this.hass.localize("ui.panel.config.integrations.add_".concat(this.domain,"_device"))):"",this.integration&&"config_flow"in this.integration&&this.integration.config_flow?(0,m.dy)(oe||(oe=he(["",""])),null!==(r=this.flowsInProgress)&&void 0!==r&&r.length?(0,m.dy)(ae||(ae=he(["<mwc-list-item\n                .domain=","\n                @request-selected=","\n                hasMeta\n              >\n                ",'\n                <ha-icon-next slot="meta"></ha-icon-next>\n              </mwc-list-item>'])),this.domain,this._integrationPicked,this.hass.localize("ui.panel.config.integrations.new_flow",{integration:this.integration.name||(0,O.Lh)(this.hass.localize,this.domain)})):(0,m.dy)(se||(se=he(["<ha-integration-list-item\n                .hass=","\n                .domain=","\n                .integration=","\n                @request-selected=","\n              >\n              </ha-integration-list-item>"])),this.hass,this.domain,Object.assign({},this.integration,{domain:this.domain,name:this.integration.name||(0,O.Lh)(this.hass.localize,this.domain),is_built_in:!1!==this.integration.is_built_in,cloud:null===(i=this.integration.iot_class)||void 0===i?void 0:i.startsWith("cloud_")}),this._integrationPicked)):"")}},{kind:"method",key:"_integrationPicked",value:(r=fe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,D.Q)(t)){e.next=2;break}return e.abrupt("return");case 2:if(o=t.currentTarget.domain,!["cloud","google_assistant","alexa"].includes(o)||!(0,b.p)(this.hass,"cloud")){e.next=7;break}return(0,w.B)(this,"close-dialog"),(0,_.c)("/config/cloud"),e.abrupt("return");case 7:if(!(a=t.currentTarget.integration).supported_by){e.next=11;break}return(0,w.B)(this,"supported-by",{integration:a}),e.abrupt("return");case 11:if(!a.iot_standards){e.next=14;break}return(0,w.B)(this,"select-brand",{brand:a.domain}),e.abrupt("return");case 14:if((o!==this.domain||(!("integration_type"in this.integration)||this.integration.config_flow)&&("integration_type"in this.integration||this.integration.integrations&&o in this.integration.integrations))&&!1!==(null===(n=this.integration.integrations)||void 0===n||null===(r=n[o])||void 0===r?void 0:r.config_flow)){e.next=20;break}return e.next=17,(0,O.t4)(this.hass,o);case 17:return s=e.sent,(0,ce.u)(this,{manifest:s}),e.abrupt("return");case 20:return l=this.getRootNode(),e.t0=z.t,e.t1=l instanceof ShadowRoot?l.host:this,e.t2=o,e.t3=null===(i=this.hass.userData)||void 0===i?void 0:i.showAdvanced,e.next=27,(0,O.t4)(this.hass,o);case 27:e.t4=e.sent,e.t5={startFlowHandler:e.t2,showAdvanced:e.t3,manifest:e.t4},(0,e.t0)(e.t1,e.t5),(0,w.B)(this,"close-dialog");case 31:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_flowInProgressPicked",value:(n=fe(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,D.Q)(t)){e.next=2;break}return e.abrupt("return");case 2:return r=t.currentTarget.flow,i=this.getRootNode(),e.t0=z.t,e.t1=i instanceof ShadowRoot?i.host:this,e.t2=r.flow_id,e.t3=null===(n=this.hass.userData)||void 0===n?void 0:n.showAdvanced,e.next=10,(0,O.t4)(this.hass,r.handler);case 10:e.t4=e.sent,e.t5={continueFlowId:e.t2,showAdvanced:e.t3,manifest:e.t4},(0,e.t0)(e.t1,e.t5),(0,w.B)(this,"close-dialog");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_standardPicked",value:function(e){if((0,D.Q)(e)){var t=e.currentTarget.domain,n=this.getRootNode();(0,w.B)(this,"close-dialog"),(0,k.D)(n instanceof ShadowRoot?n.host:this,this.hass,t)}}},{kind:"field",static:!0,key:"styles",value:function(){return[A.Qx,(0,m.iv)(le||(le=he(["\n      :host {\n        display: block;\n        --mdc-list-item-graphic-size: 40px;\n        --mdc-list-side-padding: 24px;\n      }\n      h3 {\n        margin: 8px 24px 0;\n        color: var(--secondary-text-color);\n        font-size: 14px;\n        font-weight: 500;\n      }\n      h3:first-of-type {\n        margin-top: 0;\n      }\n      img {\n        width: 40px;\n        height: 40px;\n      }\n      li[divider] {\n        margin-top: 8px;\n      }\n    "])))]}}]}}),m.oi);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Ne(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ne(o,r,i,a,s,"next",e)}function s(e){Ne(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $e(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||dt(e)||lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){return ut(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||lt(e,t)||st()}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var i=pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Je(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(){et=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!rt(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,ut(t)||dt(t)||lt(t)||st()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=at(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:ot(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=ot(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function tt(e){var t,n=at(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function nt(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function rt(e){return e.decorators&&e.decorators.length}function it(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function ot(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function at(e){var t=function(e,t){if("object"!==Ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ze(t)?t:String(t)}function st(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lt(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ut(e){if(Array.isArray(e))return e}function ft(e,t,n){return ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},ft(e,t,n||e)}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}!function(e,t,n,r){var i=et();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(it(o.descriptor)||it(i.descriptor)){if(rt(o)||rt(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(rt(o)){if(rt(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}nt(o,i)}else t.push(o)}return t}(a.d.map(tt)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,y.Mo)("dialog-add-integration")],(function(e,t){var n,r,i,o,a,s=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(r,t);var n=Ke(r);function r(){var t;Xe(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Je(t)),t}return r}(t);return{F:s,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_integrations",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_helpers",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_initialFilter",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_filter",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_pickedBrand",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_flowsInProgress",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_open",value:function(){return!1}},{kind:"field",decorators:[(0,y.SB)()],key:"_narrow",value:function(){return!1}},{kind:"field",key:"_width",value:void 0},{kind:"field",key:"_height",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._load(),this._open=!0,this._pickedBrand=null==e?void 0:e.brand,this._initialFilter=null==e?void 0:e.initialFilter,this._narrow=matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches}},{kind:"method",key:"closeDialog",value:function(){this._open=!1,this._integrations=void 0,this._helpers=void 0,this._pickedBrand=void 0,this._flowsInProgress=void 0,this._filter=void 0,this._width=void 0,this._height=void 0,(0,w.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"willUpdate",value:function(e){if(ft(pt(s.prototype),"willUpdate",this).call(this,e),void 0===this._filter&&void 0!==this._initialFilter&&(this._filter=this._initialFilter),void 0!==this._initialFilter&&""===this._filter)this._initialFilter=void 0,this._filter="",this._width=void 0,this._height=void 0;else if(this.hasUpdated&&e.has("_filter")&&(!this._width||!this._height)){var t,n=null===(t=this.shadowRoot.querySelector("mwc-list"))||void 0===t?void 0:t.getBoundingClientRect();this._width=null==n?void 0:n.width,this._height=null==n?void 0:n.height}}},{kind:"field",key:"_filterIntegrations",value:function(){var e=this;return(0,g.Z)((function(t,n,r,i,o){var a=["zha","zwave_js"].filter((function(e){return r.includes(e)})).map((function(e){return{name:i("ui.panel.config.integrations.add_".concat(e,"_device")),domain:e,config_flow:!0,is_built_in:!0,is_add:!0}})).sort((function(e,t){return(0,E.f)(e.name,t.name)})),s=[],l=[];if(Object.entries(t).forEach((function(t){var n=Qe(t,2),r=n[0],a=n[1];if("integration_type"in a&&(a.config_flow||a.iot_standards||a.supported_by)){var c,d=a.supported_by?(0,S.p)(e._integrations,a.supported_by):a;if(!d)return;s.push({domain:r,name:a.name||(0,O.Lh)(i,r),config_flow:d.config_flow,iot_standards:d.iot_standards,supported_by:a.supported_by,is_built_in:!1!==d.is_built_in,cloud:null===(c=d.iot_class)||void 0===c?void 0:c.startsWith("cloud_")})}else if("integration_type"in a||!("iot_standards"in a)&&!("integrations"in a)){if(o&&"integration_type"in a){var u;l.push({domain:r,name:a.name||(0,O.Lh)(i,r),config_flow:a.config_flow,is_built_in:!1!==a.is_built_in,cloud:null===(u=a.iot_class)||void 0===u?void 0:u.startsWith("cloud_")})}}else s.push({domain:r,name:a.name||(0,O.Lh)(i,r),iot_standards:a.iot_standards,integrations:a.integrations?Object.entries(a.integrations).map((function(e){var t=Qe(e,2),n=t[0];return t[1].name||(0,O.Lh)(i,n)})):void 0,is_built_in:!1!==a.is_built_in})})),o){var c={keys:["name","domain","supported_by","integrations","iot_standards"],isCaseSensitive:!1,minMatchCharLength:2,threshold:.2},d=Object.entries(n).map((function(e){var t,n=Qe(e,2),r=n[0],o=n[1];return{domain:r,name:o.name||(0,O.Lh)(i,r),config_flow:o.config_flow,is_helper:!0,is_built_in:!1!==o.is_built_in,cloud:null===(t=o.iot_class)||void 0===t?void 0:t.startsWith("cloud_")}}));return[].concat($e(new h.Z(s,c).search(o).map((function(e){return e.item}))),$e(new h.Z(l,c).search(o).map((function(e){return e.item}))),$e(new h.Z(d,c).search(o).map((function(e){return e.item}))))}return[].concat($e(a),$e(s.sort((function(e,t){return(0,E.f)(e.name||"",t.name||"")}))))}))}},{kind:"method",key:"_getIntegrations",value:function(){return this._filterIntegrations(this._integrations,this._helpers,this.hass.config.components,this.hass.localize,this._filter)}},{kind:"method",key:"render",value:function(){var e;if(!this._open)return(0,m.dy)(je||(je=Ue([""])));var t=this._integrations?this._getIntegrations():void 0,n=this._pickedBrand?(null===(e=this._integrations)||void 0===e?void 0:e[this._pickedBrand])||(0,S.p)(this._integrations,this._pickedBrand):void 0;return(0,m.dy)(Te||(Te=Ue(["<ha-dialog\n      open\n      @closed=","\n      scrimClickAction\n      escapeKeyAction\n      hideActions\n      .heading=","\n    >\n      ","\n    </ha-dialog>"])),this.closeDialog,(0,x.i)(this.hass,this.hass.localize("ui.panel.config.integrations.new")),!this._pickedBrand||this._integrations&&!n?this._renderAll(t):(0,m.dy)(Re||(Re=Ue(['<div slot="heading">\n              <ha-icon-button-prev\n                @click=','\n              ></ha-icon-button-prev>\n              <h2 class="mdc-dialog__title">\n                ',"\n              </h2>\n            </div>\n            ",""])),this._prevClicked,this._calculateBrandHeading(n),this._renderIntegration(n)))}},{kind:"method",key:"_calculateBrandHeading",value:function(e){var t,n;return null==e||!e.iot_standards||"integrations"in e||null!==(t=this._flowsInProgress)&&void 0!==t&&t.length?!e||null!=e&&e.iot_standards||"integrations"in e||null===(n=this._flowsInProgress)||void 0===n||!n.length?"What do you want to add?":"Want to add these discovered devices?":"What type of device is it?"}},{kind:"method",key:"_renderIntegration",value:function(e){return(0,m.dy)(Ie||(Ie=Ue(["<ha-domain-integrations\n      .hass=","\n      .domain=","\n      .integration=","\n      .flowsInProgress=","\n      style=","\n      @close-dialog=","\n      @supported-by=","\n      @select-brand=","\n    ></ha-domain-integrations>"])),this.hass,this._pickedBrand,e,this._flowsInProgress,(0,v.V)({minWidth:"".concat(this._width,"px"),minHeight:"581px"}),this.closeDialog,this._handleSupportedByEvent,this._handleSelectBrandEvent)}},{kind:"method",key:"_handleSelectBrandEvent",value:function(e){this._pickedBrand=e.detail.brand}},{kind:"method",key:"_handleSupportedByEvent",value:function(e){this._supportedBy(e.detail.integration)}},{kind:"method",key:"_supportedBy",value:function(e){var t=this,n=(0,S.p)(this._integrations,e.supported_by);(0,C.g7)(this,{text:this.hass.localize("ui.panel.config.integrations.config_flow.supported_brand_flow",{supported_brand:e.name||(0,O.Lh)(this.hass.localize,e.domain),flow_domain_name:(null==n?void 0:n.name)||(0,O.Lh)(this.hass.localize,e.supported_by)}),confirm:function(){t.closeDialog(),["zha","zwave_js"].includes(e.supported_by)?(0,k.D)(t,t.hass,e.supported_by):n?t._handleIntegrationPicked({domain:e.supported_by,name:n.name||(0,O.Lh)(t.hass.localize,e.supported_by),config_flow:n.config_flow,iot_standards:n.iot_standards}):(0,C.Ys)(t,{text:"Integration not found",warning:!0})}})}},{kind:"method",key:"_renderAll",value:function(e){return(0,m.dy)(Be||(Be=Ue(["<search-input\n        .hass=","\n        autofocus\n        dialogInitialFocus\n        .filter=","\n        @value-changed=","\n        .label=","\n        @keypress=","\n      ></search-input>\n      "," "])),this.hass,this._filter,this._filterChanged,this.hass.localize("ui.panel.config.integrations.search_brand"),this._maybeSubmit,e?(0,m.dy)(Fe||(Fe=Ue(['<mwc-list>\n            <lit-virtualizer\n              scroller\n              class="ha-scrollbar"\n              style=',"\n              @click=","\n              .items=","\n              .renderItem=","\n            >\n            </lit-virtualizer>\n          </mwc-list>"])),(0,v.V)({width:"".concat(this._width,"px"),height:this._narrow?"calc(100vh - 184px)":"500px"}),this._integrationPicked,e,this._renderRow):(0,m.dy)(Le||(Le=Ue(["<ha-circular-progress active></ha-circular-progress>"]))))}},{kind:"field",key:"_renderRow",value:function(){var e=this;return function(t){return t?(0,m.dy)(Ve||(Ve=Ue(["\n      <ha-integration-list-item\n        brand\n        .hass=","\n        .integration=","\n      >\n      </ha-integration-list-item>\n    "])),e.hass,t):(0,m.dy)(Me||(Me=Ue([""])))}}},{kind:"method",key:"_load",value:(a=qe(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.G)(this.hass);case 2:t=e.sent,e.t0=regeneratorRuntime.keys(t.custom.integration);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(n=e.t1.value,Object.prototype.hasOwnProperty.call(t.custom.integration,n)){e.next=8;break}return e.abrupt("continue",4);case 8:t.custom.integration[n].is_built_in=!1,e.next=4;break;case 11:this._integrations=Object.assign({},t.core.integration,t.custom.integration),e.t2=regeneratorRuntime.keys(t.custom.helper);case 13:if((e.t3=e.t2()).done){e.next=20;break}if(r=e.t3.value,Object.prototype.hasOwnProperty.call(t.custom.helper,r)){e.next=17;break}return e.abrupt("continue",13);case 17:t.custom.helper[r].is_built_in=!1,e.next=13;break;case 20:this._helpers=Object.assign({},t.core.helper,t.custom.helper),this.hass.loadBackendTranslation("title",t.core.translated_name,!0);case 22:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",key:"_filterChanged",value:(o=qe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._filter=t.detail.value;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{kind:"method",key:"_integrationPicked",value:function(e){var t=e.target.closest("ha-integration-list-item");t&&this._handleIntegrationPicked(t.integration)}},{kind:"method",key:"_handleIntegrationPicked",value:(i=qe(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.supported_by){e.next=3;break}return this._supportedBy(t),e.abrupt("return");case 3:if(!t.is_add){e.next=7;break}return(0,k.D)(this,this.hass,t.domain),this.closeDialog(),e.abrupt("return");case 7:if(!t.is_helper){e.next=11;break}return this.closeDialog(),(0,_.c)("/config/helpers/add?domain=".concat(t.domain)),e.abrupt("return");case 11:if(!t.integrations){e.next=17;break}return n=t.integrations,"apple"===t.domain&&(n=n.filter((function(e){return"homekit_controller"!==e}))),this._fetchFlowsInProgress(n),this._pickedBrand=t.domain,e.abrupt("return");case 17:if(!["zha","zwave_js"].includes(t.domain)||!(0,b.p)(this.hass,t.domain)){e.next=20;break}return this._pickedBrand=t.domain,e.abrupt("return");case 20:if(!t.iot_standards){e.next=23;break}return this._pickedBrand=t.domain,e.abrupt("return");case 23:if(!t.config_flow){e.next=26;break}return this._createFlow(t),e.abrupt("return");case 26:if(!["cloud","google_assistant","alexa"].includes(t.domain)||!(0,b.p)(this.hass,"cloud")){e.next=30;break}return this.closeDialog(),(0,_.c)("/config/cloud"),e.abrupt("return");case 30:return e.next=32,(0,O.t4)(this.hass,t.domain);case 32:r=e.sent,(0,ce.u)(this,{manifest:r});case 34:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{kind:"method",key:"_createFlow",value:(r=qe(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchFlowsInProgress([t.domain]);case 2:if(null==(r=e.sent)||!r.length){e.next=6;break}return this._pickedBrand=t.domain,e.abrupt("return");case 6:return e.next=8,(0,O.t4)(this.hass,t.domain);case 8:i=e.sent,this.closeDialog(),(0,z.t)(this,{startFlowHandler:t.domain,showAdvanced:null===(n=this.hass.userData)||void 0===n?void 0:n.showAdvanced,manifest:i});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_fetchFlowsInProgress",value:(n=qe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.D7)(this.hass.connection);case 2:return(n=e.sent.filter((function(e){return t.includes(e.handler)||"alternative_domain"in e.context&&t.includes(e.context.alternative_domain)}))).length&&(this._flowsInProgress=n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_maybeSubmit",value:function(e){if("Enter"===e.key){var t=this._getIntegrations();t.length>0&&this._handleIntegrationPicked(t[0])}}},{kind:"method",key:"_prevClicked",value:function(){this._pickedBrand=void 0,this._flowsInProgress=void 0}},{kind:"field",static:!0,key:"styles",value:function(){return[A.$c,A.yu,(0,m.iv)(He||(He=Ue(["\n      @media all and (min-width: 550px) {\n        ha-dialog {\n          --mdc-dialog-min-width: 500px;\n        }\n      }\n      ha-dialog {\n        --dialog-content-padding: 0;\n      }\n      search-input {\n        display: block;\n        margin: 16px 16px 0;\n      }\n      .divider {\n        border-bottom-color: var(--divider-color);\n      }\n      h2 {\n        padding-inline-end: 66px;\n        direction: var(--direction);\n      }\n      p {\n        text-align: center;\n        padding: 16px;\n        margin: 0;\n      }\n      p > a {\n        color: var(--primary-color);\n      }\n      ha-circular-progress {\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        margin: 24px 0;\n      }\n      lit-virtualizer {\n        contain: size layout !important;\n      }\n      ha-integration-list-item {\n        width: 100%;\n      }\n      ha-icon-button-prev {\n        color: var(--secondary-text-color);\n        position: absolute;\n        left: 16px;\n        top: 14px;\n        inset-inline-end: initial;\n        inset-inline-start: 16px;\n        direction: var(--direction);\n      }\n      .mdc-dialog__title {\n        margin: 0;\n        margin-bottom: 8px;\n        margin-left: 48px;\n        padding: 24px 24px 0 24px;\n        color: var(--mdc-dialog-heading-ink-color, rgba(0, 0, 0, 0.87));\n        font-size: var(--mdc-typography-headline6-font-size, 1.25rem);\n        line-height: var(--mdc-typography-headline6-line-height, 2rem);\n        font-weight: var(--mdc-typography-headline6-font-weight, 500);\n        letter-spacing: var(\n          --mdc-typography-headline6-letter-spacing,\n          0.0125em\n        );\n        text-decoration: var(\n          --mdc-typography-headline6-text-decoration,\n          inherit\n        );\n        text-transform: var(--mdc-typography-headline6-text-transform, inherit);\n      }\n    "])))]}}]}}),m.oi)}}]);