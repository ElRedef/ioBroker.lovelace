"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_config_script_ha-config-script_ts"],{

/***/ "./src/panels/config/script/blueprint-script-editor.ts":
/*!*************************************************************!*\
  !*** ./src/panels/config/script/blueprint-script-editor.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaBlueprintScriptEditor: function() { return /* binding */ HaBlueprintScriptEditor; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _components_ha_blueprint_picker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../components/ha-blueprint-picker */ \"./src/components/ha-blueprint-picker.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_markdown__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../components/ha-markdown */ \"./src/components/ha-markdown.ts\");\n/* harmony import */ var _components_ha_textfield__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../components/ha-textfield */ \"./src/components/ha-textfield.ts\");\n/* harmony import */ var _components_ha_selector_ha_selector__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../components/ha-selector/ha-selector */ \"./src/components/ha-selector/ha-selector.ts\");\n/* harmony import */ var _components_ha_settings_row__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../components/ha-settings-row */ \"./src/components/ha-settings-row.ts\");\n/* harmony import */ var _data_blueprint__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../data/blueprint */ \"./src/data/blueprint.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12;\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaBlueprintScriptEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.customElement)(\"blueprint-script-editor\")], function (_initialize, _LitElement) {\n  var HaBlueprintScriptEditor = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HaBlueprintScriptEditor, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(HaBlueprintScriptEditor);\n    function HaBlueprintScriptEditor() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, HaBlueprintScriptEditor);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HaBlueprintScriptEditor);\n  }(_LitElement);\n  return {\n    F: HaBlueprintScriptEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        attribute: false\n      })],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.state)()],\n      key: \"_blueprints\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(HaBlueprintScriptEditor.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._getBlueprints();\n      }\n    }, {\n      kind: \"get\",\n      key: \"_blueprint\",\n      value: function _blueprint() {\n        if (!this._blueprints) {\n          return undefined;\n        }\n        return this._blueprints[this.config.use_blueprint.path];\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _blueprint$metadata,\n          _this2 = this;\n        var blueprint = this._blueprint;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n      \", \"\\n      <ha-card\\n        outlined\\n        class=\\\"blueprint\\\"\\n        .header=\", \"\\n      >\\n        <div class=\\\"blueprint-picker-container\\\">\\n          \", \"\\n        </div>\\n\\n        \", \"\\n      </ha-card>\\n    \"])), this.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-alert alert-type=\\\"warning\\\">\\n            \", \"\\n            <mwc-button slot=\\\"action\\\" @click=\", \">\\n              \", \"\\n            </mwc-button>\\n          </ha-alert>\"])), this.hass.localize(\"ui.panel.config.script.editor.read_only\"), this._duplicate, this.hass.localize(\"ui.panel.config.script.editor.migrate\")) : \"\", this.hass.localize(\"ui.panel.config.automation.editor.blueprint.header\"), this._blueprints ? Object.keys(this._blueprints).length ? (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n                  <ha-blueprint-picker\\n                    .hass=\", \"\\n                    .label=\", \"\\n                    .blueprints=\", \"\\n                    .value=\", \"\\n                    .disabled=\", \"\\n                    @value-changed=\", \"\\n                  ></ha-blueprint-picker>\\n                \"])), this.hass, this.hass.localize(\"ui.panel.config.automation.editor.blueprint.blueprint_to_use\"), this._blueprints, this.config.use_blueprint.path, this.disabled, this._blueprintChanged) : this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_blueprints\") : (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-circular-progress active></ha-circular-progress>\"]))), this.config.use_blueprint.path ? blueprint && \"error\" in blueprint ? (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<p class=\\\"warning padding\\\">\\n                There is an error in this Blueprint: \", \"\\n              </p>\"])), blueprint.error) : (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject6 || (_templateObject6 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\", \"\\n              \", \"\"])), blueprint !== null && blueprint !== void 0 && blueprint.metadata.description ? (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject7 || (_templateObject7 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-markdown\\n                    class=\\\"card-content\\\"\\n                    breaks\\n                    .content=\", \"\\n                  ></ha-markdown>\"])), blueprint.metadata.description) : \"\", blueprint !== null && blueprint !== void 0 && (_blueprint$metadata = blueprint.metadata) !== null && _blueprint$metadata !== void 0 && _blueprint$metadata.input && Object.keys(blueprint.metadata.input).length ? Object.entries(blueprint.metadata.input).map(function (_ref) {\n          var _ref3, _ref4;\n          var _ref2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n          return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject8 || (_templateObject8 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-settings-row .narrow=\", \">\\n                        <span slot=\\\"heading\\\">\", \"</span>\\n                        <ha-markdown\\n                          slot=\\\"description\\\"\\n                          class=\\\"card-content\\\"\\n                          breaks\\n                          .content=\", \"\\n                        ></ha-markdown>\\n                        \", \"\\n                      </ha-settings-row>\"])), _this2.narrow, (value === null || value === void 0 ? void 0 : value.name) || key, value === null || value === void 0 ? void 0 : value.description, value !== null && value !== void 0 && value.selector ? (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject9 || (_templateObject9 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-selector\\n                              .hass=\", \"\\n                              .selector=\", \"\\n                              .key=\", \"\\n                              .disabled=\", \"\\n                              .value=\", \"\\n                              @value-changed=\", \"\\n                            ></ha-selector>\"])), _this2.hass, value.selector, key, _this2.disabled, (_ref3 = _this2.config.use_blueprint.input && _this2.config.use_blueprint.input[key]) !== null && _ref3 !== void 0 ? _ref3 : value === null || value === void 0 ? void 0 : value.default, _this2._inputChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject10 || (_templateObject10 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<ha-textfield\\n                              .key=\", \"\\n                              required\\n                              .disabled=\", \"\\n                              .value=\", \"\\n                              @change=\", \"\\n                            ></ha-textfield>\"])), key, _this2.disabled, (_ref4 = _this2.config.use_blueprint.input && _this2.config.use_blueprint.input[key]) !== null && _ref4 !== void 0 ? _ref4 : value === null || value === void 0 ? void 0 : value.default, _this2._inputChanged));\n        }) : (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject11 || (_templateObject11 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<p class=\\\"padding\\\">\\n                    \", \"\\n                  </p>\"])), this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_inputs\"))) : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getBlueprints\",\n      value: function () {\n        var _getBlueprints2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0,_data_blueprint__WEBPACK_IMPORTED_MODULE_23__.fetchBlueprints)(this.hass, \"script\");\n              case 2:\n                this._blueprints = _context.sent;\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _getBlueprints() {\n          return _getBlueprints2.apply(this, arguments);\n        }\n        return _getBlueprints;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_blueprintChanged\",\n      value: function _blueprintChanged(ev) {\n        ev.stopPropagation();\n        if (this.config.use_blueprint.path === ev.detail.value) {\n          return;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_15__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign(Object.assign({}, this.config), {}, {\n            use_blueprint: {\n              path: ev.detail.value\n            }\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_inputChanged\",\n      value: function _inputChanged(ev) {\n        var _blueprint$metadata2;\n        ev.stopPropagation();\n        var target = ev.target;\n        var key = target.key;\n        var value = ev.detail ? ev.detail.value : target.value;\n        if (this.config.use_blueprint.input && this.config.use_blueprint.input[key] === value || !this.config.use_blueprint.input && value === \"\") {\n          return;\n        }\n        var input = Object.assign(Object.assign({}, this.config.use_blueprint.input), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, key, value));\n        var blueprint = this._blueprint;\n        var metaValue = !blueprint || \"error\" in blueprint ? undefined : (blueprint === null || blueprint === void 0 ? void 0 : blueprint.metadata.input) && (blueprint === null || blueprint === void 0 ? void 0 : (_blueprint$metadata2 = blueprint.metadata) === null || _blueprint$metadata2 === void 0 ? void 0 : _blueprint$metadata2.input[key]);\n        var keyDefault = metaValue && metaValue.default;\n        if (value === \"\" && !keyDefault || value === undefined) {\n          delete input[key];\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_15__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign(Object.assign({}, this.config), {}, {\n            use_blueprint: Object.assign(Object.assign({}, this.config.use_blueprint), {}, {\n              input: input\n            })\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function _duplicate() {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_15__.fireEvent)(this, \"duplicate\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_24__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_13__.css)(_templateObject12 || (_templateObject12 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n        :host {\\n          display: block;\\n        }\\n        ha-card.blueprint {\\n          margin: 0 auto;\\n        }\\n        .padding {\\n          padding: 16px;\\n        }\\n        .link-button-row {\\n          padding: 14px;\\n        }\\n        .blueprint-picker-container {\\n          padding: 0 16px 16px;\\n        }\\n        ha-textfield,\\n        ha-blueprint-picker {\\n          display: block;\\n        }\\n        h3 {\\n          margin: 16px;\\n        }\\n        .introduction {\\n          margin-top: 0;\\n          margin-bottom: 12px;\\n        }\\n        .introduction a {\\n          color: var(--primary-color);\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        .description {\\n          margin-bottom: 16px;\\n        }\\n        ha-settings-row {\\n          --paper-time-input-justify-content: flex-end;\\n          --settings-row-content-width: 100%;\\n          --settings-row-prefix-display: contents;\\n          border-top: 1px solid var(--divider-color);\\n        }\\n        ha-alert {\\n          margin-bottom: 16px;\\n          display: block;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_13__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvYmx1ZXByaW50LXNjcmlwdC1lZGl0b3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBb0RBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE0QkE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQWtEQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvc2NyaXB0L2JsdWVwcmludC1zY3JpcHQtZWRpdG9yLnRzP2UxZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1ibHVlcHJpbnQtcGlja2VyXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhcmRcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2lyY3VsYXItcHJvZ3Jlc3NcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtbWFya2Rvd25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtdGV4dGZpZWxkXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXNlbGVjdG9yL2hhLXNlbGVjdG9yXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXNldHRpbmdzLXJvd1wiO1xuXG5pbXBvcnQge1xuICBCbHVlcHJpbnRPckVycm9yLFxuICBCbHVlcHJpbnRzLFxuICBmZXRjaEJsdWVwcmludHMsXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2JsdWVwcmludFwiO1xuaW1wb3J0IHsgQmx1ZXByaW50U2NyaXB0Q29uZmlnIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvc2NyaXB0XCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4uL2hhLWNvbmZpZy1zZWN0aW9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiYmx1ZXByaW50LXNjcmlwdC1lZGl0b3JcIilcbmV4cG9ydCBjbGFzcyBIYUJsdWVwcmludFNjcmlwdEVkaXRvciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1dpZGUhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBjb25maWchOiBCbHVlcHJpbnRTY3JpcHRDb25maWc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfYmx1ZXByaW50cz86IEJsdWVwcmludHM7XG5cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLl9nZXRCbHVlcHJpbnRzKCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfYmx1ZXByaW50KCk6IEJsdWVwcmludE9yRXJyb3IgfCB1bmRlZmluZWQge1xuICAgIGlmICghdGhpcy5fYmx1ZXByaW50cykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2JsdWVwcmludHNbdGhpcy5jb25maWcudXNlX2JsdWVwcmludC5wYXRoXTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gdGhpcy5fYmx1ZXByaW50O1xuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLmRpc2FibGVkXG4gICAgICAgID8gaHRtbGA8aGEtYWxlcnQgYWxlcnQtdHlwZT1cIndhcm5pbmdcIj5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IucmVhZF9vbmx5XCIpfVxuICAgICAgICAgICAgPG13Yy1idXR0b24gc2xvdD1cImFjdGlvblwiIEBjbGljaz0ke3RoaXMuX2R1cGxpY2F0ZX0+XG4gICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IubWlncmF0ZVwiKX1cbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICA8L2hhLWFsZXJ0PmBcbiAgICAgICAgOiBcIlwifVxuICAgICAgPGhhLWNhcmRcbiAgICAgICAgb3V0bGluZWRcbiAgICAgICAgY2xhc3M9XCJibHVlcHJpbnRcIlxuICAgICAgICAuaGVhZGVyPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmJsdWVwcmludC5oZWFkZXJcIlxuICAgICAgICApfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmx1ZXByaW50LXBpY2tlci1jb250YWluZXJcIj5cbiAgICAgICAgICAke3RoaXMuX2JsdWVwcmludHNcbiAgICAgICAgICAgID8gT2JqZWN0LmtleXModGhpcy5fYmx1ZXByaW50cykubGVuZ3RoXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxoYS1ibHVlcHJpbnQtcGlja2VyXG4gICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYmx1ZXByaW50LmJsdWVwcmludF90b191c2VcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAuYmx1ZXByaW50cz0ke3RoaXMuX2JsdWVwcmludHN9XG4gICAgICAgICAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgLmRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl9ibHVlcHJpbnRDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgPjwvaGEtYmx1ZXByaW50LXBpY2tlcj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYmx1ZXByaW50Lm5vX2JsdWVwcmludHNcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogaHRtbGA8aGEtY2lyY3VsYXItcHJvZ3Jlc3MgYWN0aXZlPjwvaGEtY2lyY3VsYXItcHJvZ3Jlc3M+YH1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgJHt0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGhcbiAgICAgICAgICA/IGJsdWVwcmludCAmJiBcImVycm9yXCIgaW4gYmx1ZXByaW50XG4gICAgICAgICAgICA/IGh0bWxgPHAgY2xhc3M9XCJ3YXJuaW5nIHBhZGRpbmdcIj5cbiAgICAgICAgICAgICAgICBUaGVyZSBpcyBhbiBlcnJvciBpbiB0aGlzIEJsdWVwcmludDogJHtibHVlcHJpbnQuZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5gXG4gICAgICAgICAgICA6IGh0bWxgJHtibHVlcHJpbnQ/Lm1ldGFkYXRhLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgPyBodG1sYDxoYS1tYXJrZG93blxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcmQtY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrc1xuICAgICAgICAgICAgICAgICAgICAuY29udGVudD0ke2JsdWVwcmludC5tZXRhZGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgID48L2hhLW1hcmtkb3duPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7Ymx1ZXByaW50Py5tZXRhZGF0YT8uaW5wdXQgJiZcbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYmx1ZXByaW50Lm1ldGFkYXRhLmlucHV0KS5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKGJsdWVwcmludC5tZXRhZGF0YS5pbnB1dCkubWFwKFxuICAgICAgICAgICAgICAgICAgICAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIGh0bWxgPGhhLXNldHRpbmdzLXJvdyAubmFycm93PSR7dGhpcy5uYXJyb3d9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRpbmdcIj4ke3ZhbHVlPy5uYW1lIHx8IGtleX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aGEtbWFya2Rvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdD1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQ9JHt2YWx1ZT8uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1tYXJrZG93bj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dmFsdWU/LnNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8aGEtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdG9yPSR7dmFsdWUuc2VsZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAua2V5PSR7a2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZT0keyh0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXRba2V5XSkgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl9pbnB1dENoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaGEtc2VsZWN0b3I+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGh0bWxgPGhhLXRleHRmaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmtleT0ke2tleX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7KHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dFtrZXldKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU/LmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5faW5wdXRDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2hhLXRleHRmaWVsZD5gfVxuICAgICAgICAgICAgICAgICAgICAgIDwvaGEtc2V0dGluZ3Mtcm93PmBcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGh0bWxgPHAgY2xhc3M9XCJwYWRkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmJsdWVwcmludC5ub19pbnB1dHNcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9wPmB9YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgIDwvaGEtY2FyZD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0Qmx1ZXByaW50cygpIHtcbiAgICB0aGlzLl9ibHVlcHJpbnRzID0gYXdhaXQgZmV0Y2hCbHVlcHJpbnRzKHRoaXMuaGFzcywgXCJzY3JpcHRcIik7XG4gIH1cblxuICBwcml2YXRlIF9ibHVlcHJpbnRDaGFuZ2VkKGV2KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQucGF0aCA9PT0gZXYuZGV0YWlsLnZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgIHVzZV9ibHVlcHJpbnQ6IHtcbiAgICAgICAgICBwYXRoOiBldi5kZXRhaWwudmFsdWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfaW5wdXRDaGFuZ2VkKGV2KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIGFueTtcbiAgICBjb25zdCBrZXkgPSB0YXJnZXQua2V5O1xuICAgIGNvbnN0IHZhbHVlID0gZXYuZGV0YWlsID8gZXYuZGV0YWlsLnZhbHVlIDogdGFyZ2V0LnZhbHVlO1xuICAgIGlmIChcbiAgICAgICh0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0ICYmXG4gICAgICAgIHRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXRba2V5XSA9PT0gdmFsdWUpIHx8XG4gICAgICAoIXRoaXMuY29uZmlnLnVzZV9ibHVlcHJpbnQuaW5wdXQgJiYgdmFsdWUgPT09IFwiXCIpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlucHV0ID0geyAuLi50aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0LCBba2V5XTogdmFsdWUgfTtcblxuICAgIGNvbnN0IGJsdWVwcmludCA9IHRoaXMuX2JsdWVwcmludDtcbiAgICBjb25zdCBtZXRhVmFsdWUgPVxuICAgICAgIWJsdWVwcmludCB8fCBcImVycm9yXCIgaW4gYmx1ZXByaW50XG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogYmx1ZXByaW50Py5tZXRhZGF0YS5pbnB1dCAmJiBibHVlcHJpbnQ/Lm1ldGFkYXRhPy5pbnB1dFtrZXldO1xuICAgIGNvbnN0IGtleURlZmF1bHQgPSBtZXRhVmFsdWUgJiYgbWV0YVZhbHVlLmRlZmF1bHQ7XG5cbiAgICBpZiAoKHZhbHVlID09PSBcIlwiICYmICFrZXlEZWZhdWx0KSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgaW5wdXRba2V5XTtcbiAgICB9XG5cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnLFxuICAgICAgICB1c2VfYmx1ZXByaW50OiB7XG4gICAgICAgICAgLi4udGhpcy5jb25maWcudXNlX2JsdWVwcmludCxcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9kdXBsaWNhdGUoKSB7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwiZHVwbGljYXRlXCIpO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgaGEtY2FyZC5ibHVlcHJpbnQge1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC5wYWRkaW5nIHtcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5saW5rLWJ1dHRvbi1yb3cge1xuICAgICAgICAgIHBhZGRpbmc6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmJsdWVwcmludC1waWNrZXItY29udGFpbmVyIHtcbiAgICAgICAgICBwYWRkaW5nOiAwIDE2cHggMTZweDtcbiAgICAgICAgfVxuICAgICAgICBoYS10ZXh0ZmllbGQsXG4gICAgICAgIGhhLWJsdWVwcmludC1waWNrZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIGgzIHtcbiAgICAgICAgICBtYXJnaW46IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmludHJvZHVjdGlvbiB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgIC5pbnRyb2R1Y3Rpb24gYSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIHAge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgIH1cbiAgICAgICAgLmRlc2NyaXB0aW9uIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIGhhLXNldHRpbmdzLXJvdyB7XG4gICAgICAgICAgLS1wYXBlci10aW1lLWlucHV0LWp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgICAgLS1zZXR0aW5ncy1yb3ctY29udGVudC13aWR0aDogMTAwJTtcbiAgICAgICAgICAtLXNldHRpbmdzLXJvdy1wcmVmaXgtZGlzcGxheTogY29udGVudHM7XG4gICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGhhLWFsZXJ0IHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImJsdWVwcmludC1zY3JpcHQtZWRpdG9yXCI6IEhhQmx1ZXByaW50U2NyaXB0RWRpdG9yO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/script/blueprint-script-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/script/ha-config-script.ts":
/*!******************************************************!*\
  !*** ./src/panels/config/script/ha-config-script.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _lit_labs_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lit-labs/context */ \"./node_modules/@lit-labs/context/development/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/util/debounce */ \"./src/common/util/debounce.ts\");\n/* harmony import */ var _data_context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../data/context */ \"./src/data/context.ts\");\n/* harmony import */ var _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../layouts/hass-router-page */ \"./src/layouts/hass-router-page.ts\");\n/* harmony import */ var _ha_script_editor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ha-script-editor */ \"./src/panels/config/script/ha-script-editor.ts\");\n/* harmony import */ var _ha_script_picker__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ha-script-picker */ \"./src/panels/config/script/ha-script-picker.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar equal = function equal(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n  return a.every(function (enityA, index) {\n    return enityA === b[index];\n  });\n};\nvar HaConfigScript = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_5__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.customElement)(\"ha-config-script\")], function (_initialize, _HassRouterPage) {\n  var HaConfigScript = /*#__PURE__*/function (_HassRouterPage2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(HaConfigScript, _HassRouterPage2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(HaConfigScript);\n    function HaConfigScript() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, HaConfigScript);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(HaConfigScript);\n  }(_HassRouterPage);\n  return {\n    F: HaConfigScript,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"showAdvanced\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.property)()],\n      key: \"scripts\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_9__.state)(), (0,_lit_labs_context__WEBPACK_IMPORTED_MODULE_8__.consume)({\n        context: _data_context__WEBPACK_IMPORTED_MODULE_12__.fullEntitiesContext,\n        subscribe: true\n      })],\n      key: \"_entityReg\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"routerOptions\",\n      value: function value() {\n        return {\n          defaultPage: \"dashboard\",\n          routes: {\n            dashboard: {\n              tag: \"ha-script-picker\",\n              cache: true\n            },\n            edit: {\n              tag: \"ha-script-editor\"\n            },\n            show: {\n              tag: \"ha-script-editor\"\n            },\n            trace: {\n              tag: \"ha-script-trace\",\n              load: function load() {\n                return Promise.all(/*! import() */[__webpack_require__.e(\"src_data_logbook_ts\"), __webpack_require__.e(\"src_data_trace_ts-src_panels_logbook_ha-logbook-renderer_ts\"), __webpack_require__.e(\"src_common_color_colors_ts-src_components_ha-relative-time_ts-src_components_trace_ha-trace-b-f75b7c\"), __webpack_require__.e(\"src_panels_config_script_ha-script-trace_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./ha-script-trace */ \"./src/panels/config/script/ha-script-trace.ts\"));\n              }\n            }\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_debouncedUpdateScripts\",\n      value: function value() {\n        var _this2 = this;\n        return (0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_11__.debounce)(function (pageEl) {\n          var newScript = _this2._getScripts(_this2.hass.states);\n          if (!equal(newScript, pageEl.scripts)) {\n            pageEl.scripts = newScript;\n          }\n        }, 10);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getScripts\",\n      value: function value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(function (states) {\n          return Object.values(states).filter(function (entity) {\n            return (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_10__.computeStateDomain)(entity) === \"script\" && !entity.attributes.restored;\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(HaConfigScript.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this.hass.loadBackendTranslation(\"device_automation\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"updatePageEl\",\n      value: function updatePageEl(pageEl, changedProps) {\n        pageEl.hass = this.hass;\n        pageEl.narrow = this.narrow;\n        pageEl.isWide = this.isWide;\n        pageEl.route = this.routeTail;\n        pageEl.showAdvanced = this.showAdvanced;\n        pageEl.entityRegistry = this._entityReg;\n        if (this.hass) {\n          if (!pageEl.scripts || !changedProps) {\n            pageEl.scripts = this._getScripts(this.hass.states);\n          } else if (changedProps.has(\"hass\")) {\n            this._debouncedUpdateScripts(pageEl);\n          }\n        }\n        if ((!changedProps || changedProps.has(\"route\")) && this._currentPage === \"show\") {\n          pageEl.creatingNew = undefined;\n          var scriptId = this.routeTail.path.substr(1);\n          pageEl.entityId = scriptId === \"new\" ? null : scriptId;\n          return;\n        }\n        if ((!changedProps || changedProps.has(\"route\")) && this._currentPage !== \"dashboard\") {\n          pageEl.creatingNew = undefined;\n          var _scriptId = this.routeTail.path.substr(1);\n          pageEl.scriptId = _scriptId === \"new\" ? null : _scriptId;\n        }\n      }\n    }]\n  };\n}, _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_13__.HassRouterPage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvaGEtY29uZmlnLXNjcmlwdC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvc2NyaXB0L2hhLWNvbmZpZy1zY3JpcHQudHM/ZDc2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25zdW1lIH0gZnJvbSBcIkBsaXQtbGFicy9jb250ZXh0XCI7XG5pbXBvcnQgeyBIYXNzRW50aXRpZXMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSBcIm1lbW9pemUtb25lXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVEb21haW4gfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB7IGZ1bGxFbnRpdGllc0NvbnRleHQgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9jb250ZXh0XCI7XG5pbXBvcnQgeyBFbnRpdHlSZWdpc3RyeUVudHJ5IH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvZW50aXR5X3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBTY3JpcHRFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9zY3JpcHRcIjtcbmltcG9ydCB7XG4gIEhhc3NSb3V0ZXJQYWdlLFxuICBSb3V0ZXJPcHRpb25zLFxufSBmcm9tIFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXJvdXRlci1wYWdlXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLXNjcmlwdC1lZGl0b3JcIjtcbmltcG9ydCBcIi4vaGEtc2NyaXB0LXBpY2tlclwiO1xuXG5jb25zdCBlcXVhbCA9IChhOiBTY3JpcHRFbnRpdHlbXSwgYjogU2NyaXB0RW50aXR5W10pOiBib29sZWFuID0+IHtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gYS5ldmVyeSgoZW5pdHlBLCBpbmRleCkgPT4gZW5pdHlBID09PSBiW2luZGV4XSk7XG59O1xuXG5AY3VzdG9tRWxlbWVudChcImhhLWNvbmZpZy1zY3JpcHRcIilcbmNsYXNzIEhhQ29uZmlnU2NyaXB0IGV4dGVuZHMgSGFzc1JvdXRlclBhZ2Uge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgaXNXaWRlITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgc2hvd0FkdmFuY2VkITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgc2NyaXB0czogU2NyaXB0RW50aXR5W10gPSBbXTtcblxuICBAc3RhdGUoKVxuICBAY29uc3VtZSh7IGNvbnRleHQ6IGZ1bGxFbnRpdGllc0NvbnRleHQsIHN1YnNjcmliZTogdHJ1ZSB9KVxuICBfZW50aXR5UmVnITogRW50aXR5UmVnaXN0cnlFbnRyeVtdO1xuXG4gIHByb3RlY3RlZCByb3V0ZXJPcHRpb25zOiBSb3V0ZXJPcHRpb25zID0ge1xuICAgIGRlZmF1bHRQYWdlOiBcImRhc2hib2FyZFwiLFxuICAgIHJvdXRlczoge1xuICAgICAgZGFzaGJvYXJkOiB7XG4gICAgICAgIHRhZzogXCJoYS1zY3JpcHQtcGlja2VyXCIsXG4gICAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGVkaXQ6IHtcbiAgICAgICAgdGFnOiBcImhhLXNjcmlwdC1lZGl0b3JcIixcbiAgICAgIH0sXG4gICAgICBzaG93OiB7XG4gICAgICAgIHRhZzogXCJoYS1zY3JpcHQtZWRpdG9yXCIsXG4gICAgICB9LFxuICAgICAgdHJhY2U6IHtcbiAgICAgICAgdGFnOiBcImhhLXNjcmlwdC10cmFjZVwiLFxuICAgICAgICBsb2FkOiAoKSA9PiBpbXBvcnQoXCIuL2hhLXNjcmlwdC10cmFjZVwiKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBwcml2YXRlIF9kZWJvdW5jZWRVcGRhdGVTY3JpcHRzID0gZGVib3VuY2UoKHBhZ2VFbCkgPT4ge1xuICAgIGNvbnN0IG5ld1NjcmlwdCA9IHRoaXMuX2dldFNjcmlwdHModGhpcy5oYXNzLnN0YXRlcyk7XG4gICAgaWYgKCFlcXVhbChuZXdTY3JpcHQsIHBhZ2VFbC5zY3JpcHRzKSkge1xuICAgICAgcGFnZUVsLnNjcmlwdHMgPSBuZXdTY3JpcHQ7XG4gICAgfVxuICB9LCAxMCk7XG5cbiAgcHJpdmF0ZSBfZ2V0U2NyaXB0cyA9IG1lbW9pemVPbmUoXG4gICAgKHN0YXRlczogSGFzc0VudGl0aWVzKTogU2NyaXB0RW50aXR5W10gPT5cbiAgICAgIE9iamVjdC52YWx1ZXMoc3RhdGVzKS5maWx0ZXIoXG4gICAgICAgIChlbnRpdHkpID0+XG4gICAgICAgICAgY29tcHV0ZVN0YXRlRG9tYWluKGVudGl0eSkgPT09IFwic2NyaXB0XCIgJiYgIWVudGl0eS5hdHRyaWJ1dGVzLnJlc3RvcmVkXG4gICAgICApIGFzIFNjcmlwdEVudGl0eVtdXG4gICk7XG5cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLmhhc3MubG9hZEJhY2tlbmRUcmFuc2xhdGlvbihcImRldmljZV9hdXRvbWF0aW9uXCIpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVBhZ2VFbChwYWdlRWwsIGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBwYWdlRWwuaGFzcyA9IHRoaXMuaGFzcztcbiAgICBwYWdlRWwubmFycm93ID0gdGhpcy5uYXJyb3c7XG4gICAgcGFnZUVsLmlzV2lkZSA9IHRoaXMuaXNXaWRlO1xuICAgIHBhZ2VFbC5yb3V0ZSA9IHRoaXMucm91dGVUYWlsO1xuICAgIHBhZ2VFbC5zaG93QWR2YW5jZWQgPSB0aGlzLnNob3dBZHZhbmNlZDtcbiAgICBwYWdlRWwuZW50aXR5UmVnaXN0cnkgPSB0aGlzLl9lbnRpdHlSZWc7XG5cbiAgICBpZiAodGhpcy5oYXNzKSB7XG4gICAgICBpZiAoIXBhZ2VFbC5zY3JpcHRzIHx8ICFjaGFuZ2VkUHJvcHMpIHtcbiAgICAgICAgcGFnZUVsLnNjcmlwdHMgPSB0aGlzLl9nZXRTY3JpcHRzKHRoaXMuaGFzcy5zdGF0ZXMpO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSkge1xuICAgICAgICB0aGlzLl9kZWJvdW5jZWRVcGRhdGVTY3JpcHRzKHBhZ2VFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKCFjaGFuZ2VkUHJvcHMgfHwgY2hhbmdlZFByb3BzLmhhcyhcInJvdXRlXCIpKSAmJlxuICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPT09IFwic2hvd1wiXG4gICAgKSB7XG4gICAgICBwYWdlRWwuY3JlYXRpbmdOZXcgPSB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBzY3JpcHRJZCA9IHRoaXMucm91dGVUYWlsLnBhdGguc3Vic3RyKDEpO1xuICAgICAgcGFnZUVsLmVudGl0eUlkID0gc2NyaXB0SWQgPT09IFwibmV3XCIgPyBudWxsIDogc2NyaXB0SWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKCFjaGFuZ2VkUHJvcHMgfHwgY2hhbmdlZFByb3BzLmhhcyhcInJvdXRlXCIpKSAmJlxuICAgICAgdGhpcy5fY3VycmVudFBhZ2UgIT09IFwiZGFzaGJvYXJkXCJcbiAgICApIHtcbiAgICAgIHBhZ2VFbC5jcmVhdGluZ05ldyA9IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHNjcmlwdElkID0gdGhpcy5yb3V0ZVRhaWwucGF0aC5zdWJzdHIoMSk7XG4gICAgICBwYWdlRWwuc2NyaXB0SWQgPSBzY3JpcHRJZCA9PT0gXCJuZXdcIiA/IG51bGwgOiBzY3JpcHRJZDtcbiAgICB9XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWNvbmZpZy1zY3JpcHRcIjogSGFDb25maWdTY3JpcHQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/config/script/ha-config-script.ts\n");

/***/ }),

/***/ "./src/panels/config/script/ha-script-editor.ts":
/*!******************************************************!*\
  !*** ./src/panels/config/script/ha-script-editor.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaScriptEditor: function() { return /* binding */ HaScriptEditor; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_list_mwc_list_item__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material/mwc-list/mwc-list-item */ \"./node_modules/@material/mwc-list/mwc-list-item.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _common_string_slugify__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../common/string/slugify */ \"./src/common/string/slugify.ts\");\n/* harmony import */ var _common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../common/util/compute_rtl */ \"./src/common/util/compute_rtl.ts\");\n/* harmony import */ var _common_util_copy_clipboard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../common/util/copy-clipboard */ \"./src/common/util/copy-clipboard.ts\");\n/* harmony import */ var _common_util_render_status__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../common/util/render-status */ \"./src/common/util/render-status.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _components_ha_yaml_editor__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../components/ha-yaml-editor */ \"./src/components/ha-yaml-editor.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_hass_subpage__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../layouts/hass-subpage */ \"./src/layouts/hass-subpage.ts\");\n/* harmony import */ var _mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../mixins/keyboard-shortcut-mixin */ \"./src/mixins/keyboard-shortcut-mixin.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _util_toast__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../util/toast */ \"./src/util/toast.ts\");\n/* harmony import */ var _blueprint_script_editor__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./blueprint-script-editor */ \"./src/panels/config/script/blueprint-script-editor.ts\");\n/* harmony import */ var _manual_script_editor__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./manual-script-editor */ \"./src/panels/config/script/manual-script-editor.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15;\n\nvar mdiCheck = \"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\";\nvar mdiContentDuplicate = \"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z\";\nvar mdiContentSave = \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\";\nvar mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nvar mdiDotsVertical = \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\";\nvar mdiInformationOutline = \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\";\nvar mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nvar mdiTransitConnection = \"M15,12C15,10.7 14.16,9.6 13,9.18V6.82C14.16,6.4 15,5.3 15,4A3,3 0 0,0 12,1A3,3 0 0,0 9,4C9,5.3 9.84,6.4 11,6.82V9.19C9.84,9.6 9,10.7 9,12C9,13.3 9.84,14.4 11,14.82V17.18C9.84,17.6 9,18.7 9,20A3,3 0 0,0 12,23A3,3 0 0,0 15,20C15,18.7 14.16,17.6 13,17.18V14.82C14.16,14.4 15,13.3 15,12M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M12,21A1,1 0 0,1 11,20A1,1 0 0,1 12,19A1,1 0 0,1 13,20A1,1 0 0,1 12,21Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaScriptEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(null, function (_initialize, _KeyboardShortcutMixi) {\n  var HaScriptEditor = /*#__PURE__*/function (_KeyboardShortcutMixi2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HaScriptEditor, _KeyboardShortcutMixi2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(HaScriptEditor);\n    function HaScriptEditor() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, HaScriptEditor);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HaScriptEditor);\n  }(_KeyboardShortcutMixi);\n  return {\n    F: HaScriptEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)()],\n      key: \"scriptId\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)()],\n      key: \"entityId\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)({\n        attribute: false\n      })],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.property)({\n        attribute: false\n      })],\n      key: \"entityRegistry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_idError\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_dirty\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_errors\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_mode\",\n      value: function value() {\n        return \"gui\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.state)()],\n      key: \"_readOnly\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_15__.query)(\"ha-yaml-editor\", true)],\n      key: \"_yamlEditor\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_schema\",\n      value: function value() {\n        var _this2 = this;\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_38__[\"default\"])(function (hasID, useBluePrint, currentMode) {\n          return [{\n            name: \"alias\",\n            selector: {\n              text: {\n                type: \"text\"\n              }\n            }\n          }, {\n            name: \"icon\",\n            selector: {\n              icon: {}\n            }\n          }].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasID ? [{\n            name: \"id\",\n            selector: {\n              text: {}\n            }\n          }] : []), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!useBluePrint ? [{\n            name: \"mode\",\n            selector: {\n              select: {\n                mode: \"dropdown\",\n                options: _data_script__WEBPACK_IMPORTED_MODULE_29__.MODES.map(function (mode) {\n                  return {\n                    label: _this2.hass.localize(\"ui.panel.config.script.editor.modes.\".concat(mode)),\n                    value: mode\n                  };\n                })\n              }\n            }\n          }] : []), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(currentMode && (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.isMaxMode)(currentMode) ? [{\n            name: \"max\",\n            required: true,\n            selector: {\n              number: {\n                mode: \"box\",\n                min: 1,\n                max: Infinity\n              }\n            }\n          }] : []));\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_config;\n        if (!this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_14__.nothing;\n        }\n        var schema = this._schema(!!this.scriptId, \"use_blueprint\" in this._config, this._config.mode);\n        var data = Object.assign(Object.assign({\n          mode: _data_script__WEBPACK_IMPORTED_MODULE_29__.MODES[0],\n          icon: undefined,\n          max: this._config.mode && (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.isMaxMode)(this._config.mode) ? 10 : undefined\n        }, this._config), {}, {\n          id: this._entityId\n        });\n        return (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n      <hass-subpage\\n        .hass=\", \"\\n        .narrow=\", \"\\n        .route=\", \"\\n        .backCallback=\", \"\\n        .header=\", \"\\n      >\\n        \", \"\\n        <ha-button-menu slot=\\\"toolbar-icon\\\">\\n          <ha-icon-button\\n            slot=\\\"trigger\\\"\\n            .label=\", \"\\n            .path=\", \"\\n          ></ha-icon-button>\\n\\n          <mwc-list-item\\n            graphic=\\\"icon\\\"\\n            .disabled=\", \"\\n            @click=\", \"\\n          >\\n            \", \"\\n            <ha-svg-icon\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n\\n          <mwc-list-item\\n            graphic=\\\"icon\\\"\\n            .disabled=\", \"\\n            @click=\", \"\\n          >\\n            \", \"\\n            <ha-svg-icon slot=\\\"graphic\\\" .path=\", \"></ha-svg-icon>\\n          </mwc-list-item>\\n\\n          \", \"\\n\\n          <li divider role=\\\"separator\\\"></li>\\n\\n          <mwc-list-item graphic=\\\"icon\\\" @click=\", \">\\n            \", \"\\n            \", \"\\n          </mwc-list-item>\\n          <mwc-list-item graphic=\\\"icon\\\" @click=\", \">\\n            \", \"\\n            \", \"\\n          </mwc-list-item>\\n\\n          <li divider role=\\\"separator\\\"></li>\\n\\n          <mwc-list-item\\n            .disabled=\", \"\\n            graphic=\\\"icon\\\"\\n            @click=\", \"\\n          >\\n            \", \"\\n            <ha-svg-icon\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n\\n          <mwc-list-item\\n            .disabled=\", \"\\n            class=\", \"\\n            graphic=\\\"icon\\\"\\n            @click=\", \"\\n          >\\n            \", \"\\n            <ha-svg-icon\\n              class=\", \"\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            >\\n            </ha-svg-icon>\\n          </mwc-list-item>\\n        </ha-button-menu>\\n        <div\\n          class=\\\"content \", \"\\\"\\n        >\\n          \", \"\\n        </div>\\n        <ha-fab\\n          slot=\\\"fab\\\"\\n          .label=\", \"\\n          extended\\n          @click=\", \"\\n          class=\", \"\\n        >\\n          <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n        </ha-fab>\\n      </hass-subpage>\\n    \"])), this.hass, this.narrow, this.route, this._backTapped, !((_this$_config = this._config) !== null && _this$_config !== void 0 && _this$_config.alias) ? \"\" : this._config.alias, this.scriptId && !this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n              <mwc-button @click=\", \" slot=\\\"toolbar-icon\\\">\\n                \", \"\\n              </mwc-button>\\n            \"])), this._showTrace, this.hass.localize(\"ui.panel.config.script.editor.show_trace\")) : \"\", this.hass.localize(\"ui.common.menu\"), mdiDotsVertical, !this.scriptId, this._showInfo, this.hass.localize(\"ui.panel.config.script.editor.show_info\"), mdiInformationOutline, !this.scriptId, this._runScript, this.hass.localize(\"ui.panel.config.script.picker.run_script\"), mdiPlay, this.scriptId && this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                <a href=\\\"/config/script/trace/\", \"\\\">\\n                  <mwc-list-item graphic=\\\"icon\\\">\\n                    \", \"\\n                    <ha-svg-icon\\n                      slot=\\\"graphic\\\"\\n                      .path=\", \"\\n                    ></ha-svg-icon>\\n                  </mwc-list-item>\\n                </a>\\n              \"])), this.scriptId, this.hass.localize(\"ui.panel.config.script.editor.show_trace\"), mdiTransitConnection) : \"\", this._switchUiMode, this.hass.localize(\"ui.panel.config.automation.editor.edit_ui\"), this._mode === \"gui\" ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                  <ha-svg-icon\\n                    class=\\\"selected_menu_item\\\"\\n                    slot=\\\"graphic\\\"\\n                    .path=\", \"\\n                  ></ha-svg-icon>\\n                \"])), mdiCheck) : \"\", this._switchYamlMode, this.hass.localize(\"ui.panel.config.automation.editor.edit_yaml\"), this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                  <ha-svg-icon\\n                    class=\\\"selected_menu_item\\\"\\n                    slot=\\\"graphic\\\"\\n                    .path=\", \"\\n                  ></ha-svg-icon>\\n                \"])), mdiCheck) : \"\", !this._readOnly && !this.scriptId, this._duplicate, this.hass.localize(this._readOnly ? \"ui.panel.config.script.editor.migrate\" : \"ui.panel.config.script.editor.duplicate\"), mdiContentDuplicate, this._readOnly || !this.scriptId, (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__.classMap)({\n          warning: Boolean(this.scriptId)\n        }), this._deleteConfirm, this.hass.localize(\"ui.panel.config.script.picker.delete\"), (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__.classMap)({\n          warning: Boolean(this.scriptId)\n        }), mdiDelete, (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__.classMap)({\n          \"yaml-mode\": this._mode === \"yaml\"\n        }), this._mode === \"gui\" ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject6 || (_templateObject6 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                <div\\n                  class=\", \"\\n                >\\n                  \", \"\\n                </div>\\n              \"])), (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__.classMap)({\n          rtl: (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_20__.computeRTL)(this.hass)\n        }), this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject7 || (_templateObject7 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                        <div class=\\\"config-container\\\">\\n                          \", \"\\n                          <ha-card outlined>\\n                            <div class=\\\"card-content\\\">\\n                              <ha-form\\n                                .schema=\", \"\\n                                .data=\", \"\\n                                .hass=\", \"\\n                                .disabled=\", \"\\n                                .computeLabel=\", \"\\n                                .computeHelper=\", \"\\n                                @value-changed=\", \"\\n                              ></ha-form>\\n                            </div>\\n                          </ha-card>\\n                        </div>\\n\\n                        \", \"\\n                      \"])), this._errors ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject8 || (_templateObject8 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                                <ha-alert alert-type=\\\"error\\\">\\n                                  \", \"\\n                                </ha-alert>\\n                              \"])), this._errors) : \"\", schema, data, this.hass, this._readOnly, this._computeLabelCallback, this._computeHelperCallback, this._valueChanged, \"use_blueprint\" in this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject9 || (_templateObject9 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                              <blueprint-script-editor\\n                                .hass=\", \"\\n                                .narrow=\", \"\\n                                .isWide=\", \"\\n                                .config=\", \"\\n                                .disabled=\", \"\\n                                @duplicate=\", \"\\n                                @value-changed=\", \"\\n                              ></blueprint-script-editor>\\n                            \"])), this.hass, this.narrow, this.isWide, this._config, this._readOnly, this._duplicate, this._configChanged) : (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject10 || (_templateObject10 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                              <manual-script-editor\\n                                .hass=\", \"\\n                                .narrow=\", \"\\n                                .isWide=\", \"\\n                                .config=\", \"\\n                                .disabled=\", \"\\n                                @duplicate=\", \"\\n                                @value-changed=\", \"\\n                              ></manual-script-editor>\\n                            \"])), this.hass, this.narrow, this.isWide, this._config, this._readOnly, this._duplicate, this._configChanged)) : \"\") : this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject11 || (_templateObject11 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                \", \"\\n                \", \"\\n                <ha-yaml-editor\\n                  .hass=\", \"\\n                  .defaultValue=\", \"\\n                  .readOnly=\", \"\\n                  @value-changed=\", \"\\n                ></ha-yaml-editor>\\n                <ha-card outlined>\\n                  <div class=\\\"card-actions\\\">\\n                    <mwc-button @click=\", \">\\n                      \", \"\\n                    </mwc-button>\\n                  </div>\\n                </ha-card>\\n              \"])), this._readOnly ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject12 || (_templateObject12 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"<ha-alert alert-type=\\\"warning\\\">\\n                      \", \"\\n                      <mwc-button slot=\\\"action\\\" @click=\", \">\\n                        \", \"\\n                      </mwc-button>\\n                    </ha-alert>\"])), this.hass.localize(\"ui.panel.config.script.editor.read_only\"), this._duplicate, this.hass.localize(\"ui.panel.config.script.editor.migrate\")) : \"\", this._errors ? (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject13 || (_templateObject13 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                      <ha-alert alert-type=\\\"error\\\">\", \"</ha-alert>\\n                    \"])), this._errors) : \"\", this.hass, this._preprocessYaml(), this._readOnly, this._yamlChanged, this._copyYaml, this.hass.localize(\"ui.panel.config.automation.editor.copy_to_clipboard\")) : \"\", this.hass.localize(\"ui.panel.config.script.editor.save_script\"), this._saveScript, (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_16__.classMap)({\n          dirty: this._dirty\n        }), mdiContentSave);\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        var _this3 = this;\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(HaScriptEditor.prototype), \"updated\", this).call(this, changedProps);\n        var oldScript = changedProps.get(\"scriptId\");\n        if (changedProps.has(\"scriptId\") && this.scriptId && !this.entityId && this.hass && (\n        // Only refresh config if we picked a new script. If same ID, don't fetch it.\n        !oldScript || oldScript !== this.scriptId)) {\n          (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.fetchScriptFileConfig)(this.hass, this.scriptId).then(function (config) {\n            _this3._dirty = false;\n            _this3._readOnly = false;\n            _this3._config = _this3._normalizeConfig(config);\n          }, function (resp) {\n            var entity = _this3.entityRegistry.find(function (ent) {\n              return ent.platform === \"script\" && ent.unique_id === _this3.scriptId;\n            });\n            if (entity) {\n              (0,_common_navigate__WEBPACK_IMPORTED_MODULE_18__.navigate)(\"/config/script/show/\".concat(entity.entity_id), {\n                replace: true\n              });\n              return;\n            }\n            alert(resp.status_code === 404 ? _this3.hass.localize(\"ui.panel.config.script.editor.load_error_not_editable\") : _this3.hass.localize(\"ui.panel.config.script.editor.load_error_unknown\", \"err_no\", resp.status_code || resp.code));\n            history.back();\n          });\n        }\n        if (changedProps.has(\"scriptId\") && !this.scriptId && this.hass) {\n          var initData = (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.getScriptEditorInitData)();\n          this._dirty = !!initData;\n          var baseConfig = {\n            alias: this.hass.localize(\"ui.panel.config.script.editor.default_name\")\n          };\n          if (!initData || !(\"use_blueprint\" in initData)) {\n            baseConfig.sequence = [];\n          }\n          this._config = Object.assign(Object.assign({}, baseConfig), initData);\n          this._readOnly = false;\n        }\n        if (changedProps.has(\"entityId\") && this.entityId) {\n          (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.getScriptStateConfig)(this.hass, this.entityId).then(function (c) {\n            _this3._config = _this3._normalizeConfig(c.config);\n          });\n          var regEntry = this.entityRegistry.find(function (ent) {\n            return ent.entity_id === _this3.entityId;\n          });\n          if (regEntry !== null && regEntry !== void 0 && regEntry.unique_id) {\n            this.scriptId = regEntry.unique_id;\n          }\n          this._entityId = this.entityId;\n          this._dirty = false;\n          this._readOnly = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_normalizeConfig\",\n      value: function _normalizeConfig(config) {\n        // Normalize data: ensure sequence is a list\n        // Happens when people copy paste their scripts into the config\n        var value = config.sequence;\n        if (value && !Array.isArray(value)) {\n          config.sequence = [value];\n        }\n        return config;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabelCallback\",\n      value: function value() {\n        var _this4 = this;\n        return function (schema, data) {\n          switch (schema.name) {\n            case \"mode\":\n              return _this4.hass.localize(\"ui.panel.config.script.editor.modes.label\");\n            case \"max\":\n              // Mode must be one of max modes per schema definition above\n              return _this4.hass.localize(\"ui.panel.config.script.editor.max.\".concat(data.mode));\n            default:\n              return _this4.hass.localize(\"ui.panel.config.script.editor.\".concat(schema.name));\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeHelperCallback\",\n      value: function value() {\n        var _this5 = this;\n        return function (schema) {\n          if (schema.name === \"mode\") {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_14__.html)(_templateObject14 || (_templateObject14 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n        <a\\n          style=\\\"color: var(--secondary-text-color)\\\"\\n          href=\", \"\\n          target=\\\"_blank\\\"\\n          rel=\\\"noreferrer\\\"\\n          >\", \"</a\\n        >\\n      \"])), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_34__.documentationUrl)(_this5.hass, \"/integrations/script/#script-modes\"), _this5.hass.localize(\"ui.panel.config.script.editor.modes.learn_more\"));\n          }\n          return undefined;\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showInfo\",\n      value: function () {\n        var _showInfo2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee() {\n          var _this6 = this;\n          var entity;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (this.scriptId) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                entity = this.entityRegistry.find(function (entry) {\n                  return entry.unique_id === _this6.scriptId;\n                });\n                if (entity) {\n                  _context.next = 5;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 5:\n                (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_17__.fireEvent)(this, \"hass-more-info\", {\n                  entityId: entity.entity_id\n                });\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _showInfo() {\n          return _showInfo2.apply(this, arguments);\n        }\n        return _showInfo;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_showTrace\",\n      value: function () {\n        var _showTrace2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee2() {\n          var result;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.scriptId) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 3;\n                return this.confirmUnsavedChanged();\n              case 3:\n                result = _context2.sent;\n                if (result) {\n                  (0,_common_navigate__WEBPACK_IMPORTED_MODULE_18__.navigate)(\"/config/script/trace/\".concat(this.scriptId));\n                }\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _showTrace() {\n          return _showTrace2.apply(this, arguments);\n        }\n        return _showTrace;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_runScript\",\n      value: function () {\n        var _runScript2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee3(ev) {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                ev.stopPropagation();\n                _context3.next = 3;\n                return (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.triggerScript)(this.hass, this.scriptId);\n              case 3:\n                (0,_util_toast__WEBPACK_IMPORTED_MODULE_35__.showToast)(this, {\n                  message: this.hass.localize(\"ui.notification_toast.triggered\", \"name\", this._config.alias)\n                });\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this);\n        }));\n        function _runScript(_x) {\n          return _runScript2.apply(this, arguments);\n        }\n        return _runScript;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_computeEntityIdFromAlias\",\n      value: function _computeEntityIdFromAlias(alias) {\n        var aliasSlugify = (0,_common_string_slugify__WEBPACK_IMPORTED_MODULE_19__.slugify)(alias);\n        var id = aliasSlugify;\n        var i = 2;\n        while (this.hass.states[\"script.\".concat(id)]) {\n          id = \"\".concat(aliasSlugify, \"_\").concat(i);\n          i++;\n        }\n        return id;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setEntityId\",\n      value: function _setEntityId(id) {\n        this._entityId = id;\n        if (this.hass.states[\"script.\".concat(this._entityId)]) {\n          this._idError = true;\n        } else {\n          this._idError = false;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updateEntityId\",\n      value: function updateEntityId(newId, newAlias) {\n        var _this$_config$alias, _this$_config2, _this$_entityId;\n        var currentAlias = (_this$_config$alias = (_this$_config2 = this._config) === null || _this$_config2 === void 0 ? void 0 : _this$_config2.alias) !== null && _this$_config$alias !== void 0 ? _this$_config$alias : \"\";\n        var currentEntityId = (_this$_entityId = this._entityId) !== null && _this$_entityId !== void 0 ? _this$_entityId : \"\";\n        if (newId !== this._entityId) {\n          this._setEntityId(newId || undefined);\n          return;\n        }\n        var currentComputedEntity = this._computeEntityIdFromAlias(currentAlias);\n        if (currentComputedEntity === currentEntityId || !this._entityId) {\n          var newComputedId = newAlias ? this._computeEntityIdFromAlias(newAlias) : undefined;\n          this._setEntityId(newComputedId);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        var _values$alias;\n        ev.stopPropagation();\n        if (this._readOnly) {\n          return;\n        }\n        this._errors = undefined;\n        var values = ev.detail.value;\n        var changed = false;\n        var newValues = {\n          alias: (_values$alias = values.alias) !== null && _values$alias !== void 0 ? _values$alias : \"\",\n          icon: values.icon,\n          mode: values.mode,\n          max: (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.isMaxMode)(values.mode) ? values.max : undefined\n        };\n        if (!this.scriptId) {\n          this.updateEntityId(values.id, values.alias);\n        }\n        for (var _i = 0, _Object$keys = Object.keys(newValues); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          var value = newValues[key];\n          if (value === this._config[key]) {\n            continue;\n          }\n          if (value === undefined) {\n            var newConfig = Object.assign({}, this._config);\n            delete newConfig[key];\n            this._config = newConfig;\n          } else {\n            this._config = Object.assign(Object.assign({}, this._config), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, key, value));\n          }\n          changed = true;\n        }\n        if (changed) {\n          this._dirty = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_configChanged\",\n      value: function _configChanged(ev) {\n        this._config = ev.detail.value;\n        this._errors = undefined;\n        this._dirty = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_preprocessYaml\",\n      value: function _preprocessYaml() {\n        return this._config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_copyYaml\",\n      value: function () {\n        var _copyYaml2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee4() {\n          var _this$_yamlEditor;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!((_this$_yamlEditor = this._yamlEditor) !== null && _this$_yamlEditor !== void 0 && _this$_yamlEditor.yaml)) {\n                  _context4.next = 4;\n                  break;\n                }\n                _context4.next = 3;\n                return (0,_common_util_copy_clipboard__WEBPACK_IMPORTED_MODULE_21__.copyToClipboard)(this._yamlEditor.yaml);\n              case 3:\n                (0,_util_toast__WEBPACK_IMPORTED_MODULE_35__.showToast)(this, {\n                  message: this.hass.localize(\"ui.common.copied_clipboard\")\n                });\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, this);\n        }));\n        function _copyYaml() {\n          return _copyYaml2.apply(this, arguments);\n        }\n        return _copyYaml;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_yamlChanged\",\n      value: function _yamlChanged(ev) {\n        ev.stopPropagation();\n        if (!ev.detail.isValid) {\n          return;\n        }\n        this._config = ev.detail.value;\n        this._errors = undefined;\n        this._dirty = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"confirmUnsavedChanged\",\n      value: function () {\n        var _confirmUnsavedChanged = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee5() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._dirty) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_30__.showConfirmationDialog)(this, {\n                  title: this.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm_title\"),\n                  text: this.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm_text\"),\n                  confirmText: this.hass.localize(\"ui.common.leave\"),\n                  dismissText: this.hass.localize(\"ui.common.stay\"),\n                  destructive: true\n                }));\n              case 2:\n                return _context5.abrupt(\"return\", true);\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, this);\n        }));\n        function confirmUnsavedChanged() {\n          return _confirmUnsavedChanged.apply(this, arguments);\n        }\n        return confirmUnsavedChanged;\n      }()\n    }, {\n      kind: \"field\",\n      key: \"_backTapped\",\n      value: function value() {\n        var _this7 = this;\n        return /*#__PURE__*/(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee6() {\n          var result;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee6$(_context6) {\n            while (1) switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this7.confirmUnsavedChanged();\n              case 2:\n                result = _context6.sent;\n                if (result) {\n                  (0,_common_util_render_status__WEBPACK_IMPORTED_MODULE_22__.afterNextRender)(function () {\n                    return history.back();\n                  });\n                }\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }, _callee6);\n        }));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function () {\n        var _duplicate2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee7() {\n          var result, _this$_config3, _this$_config4;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee7$(_context7) {\n            while (1) switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._readOnly) {\n                  _context7.next = 6;\n                  break;\n                }\n                _context7.next = 3;\n                return (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_30__.showConfirmationDialog)(this, {\n                  title: \"Migrate script?\",\n                  text: \"You can migrate this script, so it can be edited from the UI. After it is migrated and you have saved it, you will have to manually delete your old script from your configuration. Do you want to migrate this script?\"\n                });\n              case 3:\n                _context7.t0 = _context7.sent;\n                _context7.next = 9;\n                break;\n              case 6:\n                _context7.next = 8;\n                return this.confirmUnsavedChanged();\n              case 8:\n                _context7.t0 = _context7.sent;\n              case 9:\n                result = _context7.t0;\n                if (result) {\n                  (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.showScriptEditor)(Object.assign(Object.assign({}, this._config), {}, {\n                    alias: this._readOnly ? (_this$_config3 = this._config) === null || _this$_config3 === void 0 ? void 0 : _this$_config3.alias : \"\".concat((_this$_config4 = this._config) === null || _this$_config4 === void 0 ? void 0 : _this$_config4.alias, \" (\").concat(this.hass.localize(\"ui.panel.config.script.picker.duplicate\"), \")\")\n                  }));\n                }\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }, _callee7, this);\n        }));\n        function _duplicate() {\n          return _duplicate2.apply(this, arguments);\n        }\n        return _duplicate;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteConfirm\",\n      value: function () {\n        var _deleteConfirm2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee8() {\n          var _this$_config5,\n            _this8 = this;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee8$(_context8) {\n            while (1) switch (_context8.prev = _context8.next) {\n              case 0:\n                (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_30__.showConfirmationDialog)(this, {\n                  title: this.hass.localize(\"ui.panel.config.script.editor.delete_confirm_title\"),\n                  text: this.hass.localize(\"ui.panel.config.script.editor.delete_confirm_text\", {\n                    name: (_this$_config5 = this._config) === null || _this$_config5 === void 0 ? void 0 : _this$_config5.alias\n                  }),\n                  confirmText: this.hass.localize(\"ui.common.delete\"),\n                  dismissText: this.hass.localize(\"ui.common.cancel\"),\n                  confirm: function confirm() {\n                    return _this8._delete();\n                  },\n                  destructive: true\n                });\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }, _callee8, this);\n        }));\n        function _deleteConfirm() {\n          return _deleteConfirm2.apply(this, arguments);\n        }\n        return _deleteConfirm;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_delete\",\n      value: function () {\n        var _delete2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee9() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee9$(_context9) {\n            while (1) switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return (0,_data_script__WEBPACK_IMPORTED_MODULE_29__.deleteScript)(this.hass, this.scriptId);\n              case 2:\n                history.back();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n          }, _callee9, this);\n        }));\n        function _delete() {\n          return _delete2.apply(this, arguments);\n        }\n        return _delete;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_switchUiMode\",\n      value: function _switchUiMode() {\n        this._mode = \"gui\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchYamlMode\",\n      value: function _switchYamlMode() {\n        this._mode = \"yaml\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_saveScript\",\n      value: function () {\n        var _saveScript2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().mark(function _callee10() {\n          var id;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().wrap(function _callee10$(_context10) {\n            while (1) switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!this._idError) {\n                  _context10.next = 3;\n                  break;\n                }\n                (0,_util_toast__WEBPACK_IMPORTED_MODULE_35__.showToast)(this, {\n                  message: this.hass.localize(\"ui.panel.config.script.editor.id_already_exists_save_error\"),\n                  dismissable: false,\n                  duration: 0,\n                  action: {\n                    action: function action() {},\n                    text: this.hass.localize(\"ui.dialogs.generic.ok\")\n                  }\n                });\n                return _context10.abrupt(\"return\");\n              case 3:\n                id = this.scriptId || this._entityId || Date.now();\n                _context10.prev = 4;\n                _context10.next = 7;\n                return this.hass.callApi(\"POST\", \"config/script/config/\" + id, this._config);\n              case 7:\n                _context10.next = 14;\n                break;\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](4);\n                this._errors = _context10.t0.body.message || _context10.t0.error || _context10.t0.body;\n                (0,_util_toast__WEBPACK_IMPORTED_MODULE_35__.showToast)(this, {\n                  message: _context10.t0.body.message || _context10.t0.error || _context10.t0.body\n                });\n                throw _context10.t0;\n              case 14:\n                this._dirty = false;\n                if (!this.scriptId) {\n                  (0,_common_navigate__WEBPACK_IMPORTED_MODULE_18__.navigate)(\"/config/script/edit/\".concat(id), {\n                    replace: true\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context10.stop();\n            }\n          }, _callee10, this, [[4, 9]]);\n        }));\n        function _saveScript() {\n          return _saveScript2.apply(this, arguments);\n        }\n        return _saveScript;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"handleKeyboardSave\",\n      value: function handleKeyboardSave() {\n        this._saveScript();\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_33__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_14__.css)(_templateObject15 || (_templateObject15 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n        ha-card {\\n          overflow: hidden;\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        .errors {\\n          padding: 20px;\\n          font-weight: bold;\\n          color: var(--error-color);\\n        }\\n        .yaml-mode {\\n          height: 100%;\\n          display: flex;\\n          flex-direction: column;\\n          padding-bottom: 0;\\n        }\\n        .config-container,\\n        manual-script-editor,\\n        blueprint-script-editor {\\n          margin: 0 auto;\\n          max-width: 1040px;\\n          padding: 28px 20px 0;\\n        }\\n        .config-container ha-alert {\\n          margin-bottom: 16px;\\n          display: block;\\n        }\\n        ha-yaml-editor {\\n          flex-grow: 1;\\n          --code-mirror-height: 100%;\\n          min-height: 0;\\n        }\\n        .yaml-mode ha-card {\\n          overflow: initial;\\n          --ha-card-border-radius: 0;\\n          border-bottom: 1px solid var(--divider-color);\\n        }\\n        span[slot=\\\"introduction\\\"] a {\\n          color: var(--primary-color);\\n        }\\n        ha-fab {\\n          position: relative;\\n          bottom: calc(-80px - env(safe-area-inset-bottom));\\n          transition: bottom 0.3s;\\n        }\\n        ha-fab.dirty {\\n          bottom: 0;\\n        }\\n        .selected_menu_item {\\n          color: var(--primary-color);\\n        }\\n        li[role=\\\"separator\\\"] {\\n          border-bottom-color: var(--divider-color);\\n        }\\n        .header {\\n          display: flex;\\n          margin: 16px 0;\\n          align-items: center;\\n        }\\n        .header .name {\\n          font-size: 20px;\\n          font-weight: 400;\\n          flex: 1;\\n        }\\n        .header a {\\n          color: var(--secondary-text-color);\\n        }\\n        ha-button-menu a {\\n          text-decoration: none;\\n          color: var(--primary-color);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, (0,_mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_32__.KeyboardShortcutMixin)(lit__WEBPACK_IMPORTED_MODULE_14__.LitElement));\ncustomElements.define(\"ha-script-editor\", HaScriptEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvaGEtc2NyaXB0LWVkaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQTRHQTtBQUFBO0FBTUE7QUFBQTtBQVNBO0FBQ0E7QUFNQTtBQUNBO0FBbUdBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBTEE7QUFNQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUE2RUE7QUFBQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvc2NyaXB0L2hhLXNjcmlwdC1lZGl0b3IudHM/N2M3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWxpc3QvbXdjLWxpc3QtaXRlbVwiO1xuaW1wb3J0IHtcbiAgbWRpQ2hlY2ssXG4gIG1kaUNvbnRlbnREdXBsaWNhdGUsXG4gIG1kaUNvbnRlbnRTYXZlLFxuICBtZGlEZWxldGUsXG4gIG1kaURvdHNWZXJ0aWNhbCxcbiAgbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICBtZGlQbGF5LFxuICBtZGlUcmFuc2l0Q29ubmVjdGlvbixcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbiAgbm90aGluZyxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IG5hdmlnYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9uYXZpZ2F0ZVwiO1xuaW1wb3J0IHsgc2x1Z2lmeSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vc3RyaW5nL3NsdWdpZnlcIjtcbmltcG9ydCB7IGNvbXB1dGVSVEwgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3V0aWwvY29tcHV0ZV9ydGxcIjtcbmltcG9ydCB7IGNvcHlUb0NsaXBib2FyZCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbC9jb3B5LWNsaXBib2FyZFwiO1xuaW1wb3J0IHsgYWZ0ZXJOZXh0UmVuZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi91dGlsL3JlbmRlci1zdGF0dXNcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtYnV0dG9uLW1lbnVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1mYWJcIjtcbmltcG9ydCB0eXBlIHtcbiAgSGFGb3JtRGF0YUNvbnRhaW5lcixcbiAgU2NoZW1hVW5pb24sXG59IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWZvcm0vdHlwZXNcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc3ZnLWljb25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEteWFtbC1lZGl0b3JcIjtcbmltcG9ydCB0eXBlIHsgSGFZYW1sRWRpdG9yIH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEteWFtbC1lZGl0b3JcIjtcbmltcG9ydCB7IEVudGl0eVJlZ2lzdHJ5RW50cnkgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9lbnRpdHlfcmVnaXN0cnlcIjtcbmltcG9ydCB7XG4gIGRlbGV0ZVNjcmlwdCxcbiAgZmV0Y2hTY3JpcHRGaWxlQ29uZmlnLFxuICBnZXRTY3JpcHRFZGl0b3JJbml0RGF0YSxcbiAgZ2V0U2NyaXB0U3RhdGVDb25maWcsXG4gIGlzTWF4TW9kZSxcbiAgTU9ERVMsXG4gIE1PREVTX01BWCxcbiAgU2NyaXB0Q29uZmlnLFxuICBzaG93U2NyaXB0RWRpdG9yLFxuICB0cmlnZ2VyU2NyaXB0LFxufSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9zY3JpcHRcIjtcbmltcG9ydCB7IHNob3dDb25maXJtYXRpb25EaWFsb2cgfSBmcm9tIFwiLi4vLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXN1YnBhZ2VcIjtcbmltcG9ydCB7IEtleWJvYXJkU2hvcnRjdXRNaXhpbiB9IGZyb20gXCIuLi8uLi8uLi9taXhpbnMva2V5Ym9hcmQtc2hvcnRjdXQtbWl4aW5cIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50LCBSb3V0ZSB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgZG9jdW1lbnRhdGlvblVybCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2RvY3VtZW50YXRpb24tdXJsXCI7XG5pbXBvcnQgeyBzaG93VG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC90b2FzdFwiO1xuaW1wb3J0IFwiLi9ibHVlcHJpbnQtc2NyaXB0LWVkaXRvclwiO1xuaW1wb3J0IFwiLi9tYW51YWwtc2NyaXB0LWVkaXRvclwiO1xuXG5leHBvcnQgY2xhc3MgSGFTY3JpcHRFZGl0b3IgZXh0ZW5kcyBLZXlib2FyZFNob3J0Y3V0TWl4aW4oTGl0RWxlbWVudCkge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgc2NyaXB0SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBlbnRpdHlJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgcm91dGUhOiBSb3V0ZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1dpZGUgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBuYXJyb3chOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGVudGl0eVJlZ2lzdHJ5ITogRW50aXR5UmVnaXN0cnlFbnRyeVtdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbmZpZz86IFNjcmlwdENvbmZpZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lbnRpdHlJZD86IHN0cmluZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9pZEVycm9yID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZGlydHkgPSBmYWxzZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lcnJvcnM/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbW9kZTogXCJndWlcIiB8IFwieWFtbFwiID0gXCJndWlcIjtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9yZWFkT25seSA9IGZhbHNlO1xuXG4gIEBxdWVyeShcImhhLXlhbWwtZWRpdG9yXCIsIHRydWUpIHByaXZhdGUgX3lhbWxFZGl0b3I/OiBIYVlhbWxFZGl0b3I7XG5cbiAgcHJpdmF0ZSBfc2NoZW1hID0gbWVtb2l6ZU9uZShcbiAgICAoXG4gICAgICBoYXNJRDogYm9vbGVhbixcbiAgICAgIHVzZUJsdWVQcmludD86IGJvb2xlYW4sXG4gICAgICBjdXJyZW50TW9kZT86ICh0eXBlb2YgTU9ERVMpW251bWJlcl1cbiAgICApID0+XG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcImFsaWFzXCIsXG4gICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcImljb25cIixcbiAgICAgICAgICBzZWxlY3Rvcjoge1xuICAgICAgICAgICAgaWNvbjoge30sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLi4uKCFoYXNJRFxuICAgICAgICAgID8gKFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaWRcIixcbiAgICAgICAgICAgICAgICBzZWxlY3Rvcjoge1xuICAgICAgICAgICAgICAgICAgdGV4dDoge30sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0gYXMgY29uc3QpXG4gICAgICAgICAgOiBbXSksXG4gICAgICAgIC4uLighdXNlQmx1ZVByaW50XG4gICAgICAgICAgPyAoW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlXCIsXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IE1PREVTLm1hcCgobW9kZSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgYHVpLnBhbmVsLmNvbmZpZy5zY3JpcHQuZWRpdG9yLm1vZGVzLiR7bW9kZX1gXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSBhcyBjb25zdClcbiAgICAgICAgICA6IFtdKSxcbiAgICAgICAgLi4uKGN1cnJlbnRNb2RlICYmIGlzTWF4TW9kZShjdXJyZW50TW9kZSlcbiAgICAgICAgICA/IChbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1heFwiLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiB7XG4gICAgICAgICAgICAgICAgICBudW1iZXI6IHsgbW9kZTogXCJib3hcIiwgbWluOiAxLCBtYXg6IEluZmluaXR5IH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0gYXMgY29uc3QpXG4gICAgICAgICAgOiBbXSksXG4gICAgICBdIGFzIGNvbnN0XG4gICk7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZykge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fc2NoZW1hKFxuICAgICAgISF0aGlzLnNjcmlwdElkLFxuICAgICAgXCJ1c2VfYmx1ZXByaW50XCIgaW4gdGhpcy5fY29uZmlnLFxuICAgICAgdGhpcy5fY29uZmlnLm1vZGVcbiAgICApO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG1vZGU6IE1PREVTWzBdLFxuICAgICAgaWNvbjogdW5kZWZpbmVkLFxuICAgICAgbWF4OiB0aGlzLl9jb25maWcubW9kZSAmJiBpc01heE1vZGUodGhpcy5fY29uZmlnLm1vZGUpID8gMTAgOiB1bmRlZmluZWQsXG4gICAgICAuLi50aGlzLl9jb25maWcsXG4gICAgICBpZDogdGhpcy5fZW50aXR5SWQsXG4gICAgfTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhc3Mtc3VicGFnZVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAucm91dGU9JHt0aGlzLnJvdXRlfVxuICAgICAgICAuYmFja0NhbGxiYWNrPSR7dGhpcy5fYmFja1RhcHBlZH1cbiAgICAgICAgLmhlYWRlcj0keyF0aGlzLl9jb25maWc/LmFsaWFzID8gXCJcIiA6IHRoaXMuX2NvbmZpZy5hbGlhc31cbiAgICAgID5cbiAgICAgICAgJHt0aGlzLnNjcmlwdElkICYmICF0aGlzLm5hcnJvd1xuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPG13Yy1idXR0b24gQGNsaWNrPSR7dGhpcy5fc2hvd1RyYWNlfSBzbG90PVwidG9vbGJhci1pY29uXCI+XG4gICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQuZWRpdG9yLnNob3dfdHJhY2VcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDxoYS1idXR0b24tbWVudSBzbG90PVwidG9vbGJhci1pY29uXCI+XG4gICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICBzbG90PVwidHJpZ2dlclwiXG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24ubWVudVwiKX1cbiAgICAgICAgICAgIC5wYXRoPSR7bWRpRG90c1ZlcnRpY2FsfVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuXG4gICAgICAgICAgPG13Yy1saXN0LWl0ZW1cbiAgICAgICAgICAgIGdyYXBoaWM9XCJpY29uXCJcbiAgICAgICAgICAgIC5kaXNhYmxlZD0keyF0aGlzLnNjcmlwdElkfVxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd0luZm99XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5zaG93X2luZm9cIil9XG4gICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgc2xvdD1cImdyYXBoaWNcIlxuICAgICAgICAgICAgICAucGF0aD0ke21kaUluZm9ybWF0aW9uT3V0bGluZX1cbiAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cblxuICAgICAgICAgIDxtd2MtbGlzdC1pdGVtXG4gICAgICAgICAgICBncmFwaGljPVwiaWNvblwiXG4gICAgICAgICAgICAuZGlzYWJsZWQ9JHshdGhpcy5zY3JpcHRJZH1cbiAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3J1blNjcmlwdH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLnJ1bl9zY3JpcHRcIil9XG4gICAgICAgICAgICA8aGEtc3ZnLWljb24gc2xvdD1cImdyYXBoaWNcIiAucGF0aD0ke21kaVBsYXl9PjwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuXG4gICAgICAgICAgJHt0aGlzLnNjcmlwdElkICYmIHRoaXMubmFycm93XG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9jb25maWcvc2NyaXB0L3RyYWNlLyR7dGhpcy5zY3JpcHRJZH1cIj5cbiAgICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIGdyYXBoaWM9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3Iuc2hvd190cmFjZVwiXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaVRyYW5zaXRDb25uZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDogXCJcIn1cblxuICAgICAgICAgIDxsaSBkaXZpZGVyIHJvbGU9XCJzZXBhcmF0b3JcIj48L2xpPlxuXG4gICAgICAgICAgPG13Yy1saXN0LWl0ZW0gZ3JhcGhpYz1cImljb25cIiBAY2xpY2s9JHt0aGlzLl9zd2l0Y2hVaU1vZGV9PlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF91aVwiKX1cbiAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJndWlcIlxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3RlZF9tZW51X2l0ZW1cIlxuICAgICAgICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7bWRpQ2hlY2t9XG4gICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogYGB9XG4gICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuICAgICAgICAgIDxtd2MtbGlzdC1pdGVtIGdyYXBoaWM9XCJpY29uXCIgQGNsaWNrPSR7dGhpcy5fc3dpdGNoWWFtbE1vZGV9PlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF95YW1sXCIpfVxuICAgICAgICAgICAgJHt0aGlzLl9tb2RlID09PSBcInlhbWxcIlxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3RlZF9tZW51X2l0ZW1cIlxuICAgICAgICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7bWRpQ2hlY2t9XG4gICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogYGB9XG4gICAgICAgICAgPC9td2MtbGlzdC1pdGVtPlxuXG4gICAgICAgICAgPGxpIGRpdmlkZXIgcm9sZT1cInNlcGFyYXRvclwiPjwvbGk+XG5cbiAgICAgICAgICA8bXdjLWxpc3QtaXRlbVxuICAgICAgICAgICAgLmRpc2FibGVkPSR7IXRoaXMuX3JlYWRPbmx5ICYmICF0aGlzLnNjcmlwdElkfVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fZHVwbGljYXRlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICB0aGlzLl9yZWFkT25seVxuICAgICAgICAgICAgICAgID8gXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5taWdyYXRlXCJcbiAgICAgICAgICAgICAgICA6IFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IuZHVwbGljYXRlXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgc2xvdD1cImdyYXBoaWNcIlxuICAgICAgICAgICAgICAucGF0aD0ke21kaUNvbnRlbnREdXBsaWNhdGV9XG4gICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG5cbiAgICAgICAgICA8bXdjLWxpc3QtaXRlbVxuICAgICAgICAgICAgLmRpc2FibGVkPSR7dGhpcy5fcmVhZE9ubHkgfHwgIXRoaXMuc2NyaXB0SWR9XG4gICAgICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHsgd2FybmluZzogQm9vbGVhbih0aGlzLnNjcmlwdElkKSB9KX1cbiAgICAgICAgICAgIGdyYXBoaWM9XCJpY29uXCJcbiAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2RlbGV0ZUNvbmZpcm19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5kZWxldGVcIil9XG4gICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IHdhcm5pbmc6IEJvb2xlYW4odGhpcy5zY3JpcHRJZCkgfSl9XG4gICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgLnBhdGg9JHttZGlEZWxldGV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvbXdjLWxpc3QtaXRlbT5cbiAgICAgICAgPC9oYS1idXR0b24tbWVudT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiY29udGVudCAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgIFwieWFtbC1tb2RlXCI6IHRoaXMuX21vZGUgPT09IFwieWFtbFwiLFxuICAgICAgICAgIH0pfVwiXG4gICAgICAgID5cbiAgICAgICAgICAke3RoaXMuX21vZGUgPT09IFwiZ3VpXCJcbiAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgcnRsOiBjb21wdXRlUlRMKHRoaXMuaGFzcyksXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuX2NvbmZpZ1xuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29uZmlnLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuX2Vycm9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWFsZXJ0IGFsZXJ0LXR5cGU9XCJlcnJvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5fZXJyb3JzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2hhLWFsZXJ0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWNhcmQgb3V0bGluZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNjaGVtYT0ke3NjaGVtYX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGE9JHtkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRpc2FibGVkPSR7dGhpcy5fcmVhZE9ubHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb21wdXRlTGFiZWw9JHt0aGlzLl9jb21wdXRlTGFiZWxDYWxsYmFja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbXB1dGVIZWxwZXI9JHt0aGlzLl9jb21wdXRlSGVscGVyQ2FsbGJhY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fdmFsdWVDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvaGEtZm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oYS1jYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7XCJ1c2VfYmx1ZXByaW50XCIgaW4gdGhpcy5fY29uZmlnXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibHVlcHJpbnQtc2NyaXB0LWVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaXNXaWRlPSR7dGhpcy5pc1dpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25maWc9JHt0aGlzLl9jb25maWd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuX3JlYWRPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZHVwbGljYXRlPSR7dGhpcy5fZHVwbGljYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2NvbmZpZ0NoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9ibHVlcHJpbnQtc2NyaXB0LWVkaXRvcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYW51YWwtc2NyaXB0LWVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaXNXaWRlPSR7dGhpcy5pc1dpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25maWc9JHt0aGlzLl9jb25maWd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuX3JlYWRPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZHVwbGljYXRlPSR7dGhpcy5fZHVwbGljYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2NvbmZpZ0NoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9tYW51YWwtc2NyaXB0LWVkaXRvcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICA6IHRoaXMuX21vZGUgPT09IFwieWFtbFwiXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgJHt0aGlzLl9yZWFkT25seVxuICAgICAgICAgICAgICAgICAgPyBodG1sYDxoYS1hbGVydCBhbGVydC10eXBlPVwid2FybmluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5yZWFkX29ubHlcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPG13Yy1idXR0b24gc2xvdD1cImFjdGlvblwiIEBjbGljaz0ke3RoaXMuX2R1cGxpY2F0ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5taWdyYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2hhLWFsZXJ0PmBcbiAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAke3RoaXMuX2Vycm9yc1xuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgIDxoYS1hbGVydCBhbGVydC10eXBlPVwiZXJyb3JcIj4ke3RoaXMuX2Vycm9yc308L2hhLWFsZXJ0PlxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPGhhLXlhbWwtZWRpdG9yXG4gICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgIC5kZWZhdWx0VmFsdWU9JHt0aGlzLl9wcmVwcm9jZXNzWWFtbCgpfVxuICAgICAgICAgICAgICAgICAgLnJlYWRPbmx5PSR7dGhpcy5fcmVhZE9ubHl9XG4gICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3lhbWxDaGFuZ2VkfVxuICAgICAgICAgICAgICAgID48L2hhLXlhbWwtZWRpdG9yPlxuICAgICAgICAgICAgICAgIDxoYS1jYXJkIG91dGxpbmVkPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLl9jb3B5WWFtbH0+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5jb3B5X3RvX2NsaXBib2FyZFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9oYS1jYXJkPlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICA6IGBgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGhhLWZhYlxuICAgICAgICAgIHNsb3Q9XCJmYWJcIlxuICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3Iuc2F2ZV9zY3JpcHRcIlxuICAgICAgICAgICl9XG4gICAgICAgICAgZXh0ZW5kZWRcbiAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9zYXZlU2NyaXB0fVxuICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgICAgZGlydHk6IHRoaXMuX2RpcnR5LFxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJpY29uXCIgLnBhdGg9JHttZGlDb250ZW50U2F2ZX0+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgPC9oYS1mYWI+XG4gICAgICA8L2hhc3Mtc3VicGFnZT5cbiAgICBgO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcblxuICAgIGNvbnN0IG9sZFNjcmlwdCA9IGNoYW5nZWRQcm9wcy5nZXQoXCJzY3JpcHRJZFwiKTtcbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwic2NyaXB0SWRcIikgJiZcbiAgICAgIHRoaXMuc2NyaXB0SWQgJiZcbiAgICAgICF0aGlzLmVudGl0eUlkICYmXG4gICAgICB0aGlzLmhhc3MgJiZcbiAgICAgIC8vIE9ubHkgcmVmcmVzaCBjb25maWcgaWYgd2UgcGlja2VkIGEgbmV3IHNjcmlwdC4gSWYgc2FtZSBJRCwgZG9uJ3QgZmV0Y2ggaXQuXG4gICAgICAoIW9sZFNjcmlwdCB8fCBvbGRTY3JpcHQgIT09IHRoaXMuc2NyaXB0SWQpXG4gICAgKSB7XG4gICAgICBmZXRjaFNjcmlwdEZpbGVDb25maWcodGhpcy5oYXNzLCB0aGlzLnNjcmlwdElkKS50aGVuKFxuICAgICAgICAoY29uZmlnKSA9PiB7XG4gICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLl9yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX25vcm1hbGl6ZUNvbmZpZyhjb25maWcpO1xuICAgICAgICB9LFxuICAgICAgICAocmVzcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZW50aXR5UmVnaXN0cnkuZmluZChcbiAgICAgICAgICAgIChlbnQpID0+XG4gICAgICAgICAgICAgIGVudC5wbGF0Zm9ybSA9PT0gXCJzY3JpcHRcIiAmJiBlbnQudW5pcXVlX2lkID09PSB0aGlzLnNjcmlwdElkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZShgL2NvbmZpZy9zY3JpcHQvc2hvdy8ke2VudGl0eS5lbnRpdHlfaWR9YCwge1xuICAgICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFsZXJ0KFxuICAgICAgICAgICAgcmVzcC5zdGF0dXNfY29kZSA9PT0gNDA0XG4gICAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5sb2FkX2Vycm9yX25vdF9lZGl0YWJsZVwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IubG9hZF9lcnJvcl91bmtub3duXCIsXG4gICAgICAgICAgICAgICAgICBcImVycl9ub1wiLFxuICAgICAgICAgICAgICAgICAgcmVzcC5zdGF0dXNfY29kZSB8fCByZXNwLmNvZGVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcInNjcmlwdElkXCIpICYmICF0aGlzLnNjcmlwdElkICYmIHRoaXMuaGFzcykge1xuICAgICAgY29uc3QgaW5pdERhdGEgPSBnZXRTY3JpcHRFZGl0b3JJbml0RGF0YSgpO1xuICAgICAgdGhpcy5fZGlydHkgPSAhIWluaXREYXRhO1xuICAgICAgY29uc3QgYmFzZUNvbmZpZzogUGFydGlhbDxTY3JpcHRDb25maWc+ID0ge1xuICAgICAgICBhbGlhczogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IuZGVmYXVsdF9uYW1lXCIpLFxuICAgICAgfTtcbiAgICAgIGlmICghaW5pdERhdGEgfHwgIShcInVzZV9ibHVlcHJpbnRcIiBpbiBpbml0RGF0YSkpIHtcbiAgICAgICAgYmFzZUNvbmZpZy5zZXF1ZW5jZSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5fY29uZmlnID0ge1xuICAgICAgICAuLi5iYXNlQ29uZmlnLFxuICAgICAgICAuLi5pbml0RGF0YSxcbiAgICAgIH0gYXMgU2NyaXB0Q29uZmlnO1xuICAgICAgdGhpcy5fcmVhZE9ubHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImVudGl0eUlkXCIpICYmIHRoaXMuZW50aXR5SWQpIHtcbiAgICAgIGdldFNjcmlwdFN0YXRlQ29uZmlnKHRoaXMuaGFzcywgdGhpcy5lbnRpdHlJZCkudGhlbigoYykgPT4ge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9ub3JtYWxpemVDb25maWcoYy5jb25maWcpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCByZWdFbnRyeSA9IHRoaXMuZW50aXR5UmVnaXN0cnkuZmluZChcbiAgICAgICAgKGVudCkgPT4gZW50LmVudGl0eV9pZCA9PT0gdGhpcy5lbnRpdHlJZFxuICAgICAgKTtcbiAgICAgIGlmIChyZWdFbnRyeT8udW5pcXVlX2lkKSB7XG4gICAgICAgIHRoaXMuc2NyaXB0SWQgPSByZWdFbnRyeS51bmlxdWVfaWQ7XG4gICAgICB9XG4gICAgICB0aGlzLl9lbnRpdHlJZCA9IHRoaXMuZW50aXR5SWQ7XG4gICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcmVhZE9ubHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX25vcm1hbGl6ZUNvbmZpZyhjb25maWc6IFNjcmlwdENvbmZpZyk6IFNjcmlwdENvbmZpZyB7XG4gICAgLy8gTm9ybWFsaXplIGRhdGE6IGVuc3VyZSBzZXF1ZW5jZSBpcyBhIGxpc3RcbiAgICAvLyBIYXBwZW5zIHdoZW4gcGVvcGxlIGNvcHkgcGFzdGUgdGhlaXIgc2NyaXB0cyBpbnRvIHRoZSBjb25maWdcbiAgICBjb25zdCB2YWx1ZSA9IGNvbmZpZy5zZXF1ZW5jZTtcbiAgICBpZiAodmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBjb25maWcuc2VxdWVuY2UgPSBbdmFsdWVdO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tcHV0ZUxhYmVsQ2FsbGJhY2sgPSAoXG4gICAgc2NoZW1hOiBTY2hlbWFVbmlvbjxSZXR1cm5UeXBlPHR5cGVvZiB0aGlzLl9zY2hlbWE+PixcbiAgICBkYXRhOiBIYUZvcm1EYXRhQ29udGFpbmVyXG4gICk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoIChzY2hlbWEubmFtZSkge1xuICAgICAgY2FzZSBcIm1vZGVcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQuZWRpdG9yLm1vZGVzLmxhYmVsXCIpO1xuICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAvLyBNb2RlIG11c3QgYmUgb25lIG9mIG1heCBtb2RlcyBwZXIgc2NoZW1hIGRlZmluaXRpb24gYWJvdmVcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBgdWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IubWF4LiR7XG4gICAgICAgICAgICBkYXRhLm1vZGUgYXMgKHR5cGVvZiBNT0RFU19NQVgpW251bWJlcl1cbiAgICAgICAgICB9YFxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBgdWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IuJHtzY2hlbWEubmFtZX1gXG4gICAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgX2NvbXB1dGVIZWxwZXJDYWxsYmFjayA9IChcbiAgICBzY2hlbWE6IFNjaGVtYVVuaW9uPFJldHVyblR5cGU8dHlwZW9mIHRoaXMuX3NjaGVtYT4+XG4gICk6IHN0cmluZyB8IHVuZGVmaW5lZCB8IFRlbXBsYXRlUmVzdWx0ID0+IHtcbiAgICBpZiAoc2NoZW1hLm5hbWUgPT09IFwibW9kZVwiKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGFcbiAgICAgICAgICBzdHlsZT1cImNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcilcIlxuICAgICAgICAgIGhyZWY9JHtkb2N1bWVudGF0aW9uVXJsKFxuICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgXCIvaW50ZWdyYXRpb25zL3NjcmlwdC8jc2NyaXB0LW1vZGVzXCJcbiAgICAgICAgICApfVxuICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXG4gICAgICAgICAgPiR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5tb2Rlcy5sZWFybl9tb3JlXCJcbiAgICAgICAgICApfTwvYVxuICAgICAgICA+XG4gICAgICBgO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgX3Nob3dJbmZvKCkge1xuICAgIGlmICghdGhpcy5zY3JpcHRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmVudGl0eVJlZ2lzdHJ5LmZpbmQoXG4gICAgICAoZW50cnkpID0+IGVudHJ5LnVuaXF1ZV9pZCA9PT0gdGhpcy5zY3JpcHRJZFxuICAgICk7XG4gICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwiaGFzcy1tb3JlLWluZm9cIiwgeyBlbnRpdHlJZDogZW50aXR5LmVudGl0eV9pZCB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3Nob3dUcmFjZSgpIHtcbiAgICBpZiAodGhpcy5zY3JpcHRJZCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb25maXJtVW5zYXZlZENoYW5nZWQoKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmF2aWdhdGUoYC9jb25maWcvc2NyaXB0L3RyYWNlLyR7dGhpcy5zY3JpcHRJZH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9ydW5TY3JpcHQoZXY6IEN1c3RvbUV2ZW50KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgYXdhaXQgdHJpZ2dlclNjcmlwdCh0aGlzLmhhc3MsIHRoaXMuc2NyaXB0SWQhKTtcbiAgICBzaG93VG9hc3QodGhpcywge1xuICAgICAgbWVzc2FnZTogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLm5vdGlmaWNhdGlvbl90b2FzdC50cmlnZ2VyZWRcIixcbiAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgIHRoaXMuX2NvbmZpZyEuYWxpYXNcbiAgICAgICksXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9jb21wdXRlRW50aXR5SWRGcm9tQWxpYXMoYWxpYXM6IHN0cmluZykge1xuICAgIGNvbnN0IGFsaWFzU2x1Z2lmeSA9IHNsdWdpZnkoYWxpYXMpO1xuICAgIGxldCBpZCA9IGFsaWFzU2x1Z2lmeTtcbiAgICBsZXQgaSA9IDI7XG4gICAgd2hpbGUgKHRoaXMuaGFzcy5zdGF0ZXNbYHNjcmlwdC4ke2lkfWBdKSB7XG4gICAgICBpZCA9IGAke2FsaWFzU2x1Z2lmeX1fJHtpfWA7XG4gICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHByaXZhdGUgX3NldEVudGl0eUlkKGlkPzogc3RyaW5nKSB7XG4gICAgdGhpcy5fZW50aXR5SWQgPSBpZDtcbiAgICBpZiAodGhpcy5oYXNzLnN0YXRlc1tgc2NyaXB0LiR7dGhpcy5fZW50aXR5SWR9YF0pIHtcbiAgICAgIHRoaXMuX2lkRXJyb3IgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9pZEVycm9yID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVFbnRpdHlJZChcbiAgICBuZXdJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIG5ld0FsaWFzOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgY29uc3QgY3VycmVudEFsaWFzID0gdGhpcy5fY29uZmlnPy5hbGlhcyA/PyBcIlwiO1xuICAgIGNvbnN0IGN1cnJlbnRFbnRpdHlJZCA9IHRoaXMuX2VudGl0eUlkID8/IFwiXCI7XG5cbiAgICBpZiAobmV3SWQgIT09IHRoaXMuX2VudGl0eUlkKSB7XG4gICAgICB0aGlzLl9zZXRFbnRpdHlJZChuZXdJZCB8fCB1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRDb21wdXRlZEVudGl0eSA9IHRoaXMuX2NvbXB1dGVFbnRpdHlJZEZyb21BbGlhcyhjdXJyZW50QWxpYXMpO1xuXG4gICAgaWYgKGN1cnJlbnRDb21wdXRlZEVudGl0eSA9PT0gY3VycmVudEVudGl0eUlkIHx8ICF0aGlzLl9lbnRpdHlJZCkge1xuICAgICAgY29uc3QgbmV3Q29tcHV0ZWRJZCA9IG5ld0FsaWFzXG4gICAgICAgID8gdGhpcy5fY29tcHV0ZUVudGl0eUlkRnJvbUFsaWFzKG5ld0FsaWFzKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5fc2V0RW50aXR5SWQobmV3Q29tcHV0ZWRJZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfdmFsdWVDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLl9yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9lcnJvcnMgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgdmFsdWVzID0gZXYuZGV0YWlsLnZhbHVlIGFzIGFueTtcblxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgbmV3VmFsdWVzOiBPbWl0PFNjcmlwdENvbmZpZywgXCJzZXF1ZW5jZVwiPiA9IHtcbiAgICAgIGFsaWFzOiB2YWx1ZXMuYWxpYXMgPz8gXCJcIixcbiAgICAgIGljb246IHZhbHVlcy5pY29uLFxuICAgICAgbW9kZTogdmFsdWVzLm1vZGUsXG4gICAgICBtYXg6IGlzTWF4TW9kZSh2YWx1ZXMubW9kZSkgPyB2YWx1ZXMubWF4IDogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICBpZiAoIXRoaXMuc2NyaXB0SWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRW50aXR5SWQodmFsdWVzLmlkLCB2YWx1ZXMuYWxpYXMpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG5ld1ZhbHVlcykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbmV3VmFsdWVzW2tleV07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fY29uZmlnIVtrZXldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi50aGlzLl9jb25maWchIH07XG4gICAgICAgIGRlbGV0ZSBuZXdDb25maWchW2tleV07XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IG5ld0NvbmZpZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHsgLi4udGhpcy5fY29uZmlnISwgW2tleV06IHZhbHVlIH07XG4gICAgICB9XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2NvbmZpZ0NoYW5nZWQoZXYpIHtcbiAgICB0aGlzLl9jb25maWcgPSBldi5kZXRhaWwudmFsdWU7XG4gICAgdGhpcy5fZXJyb3JzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXByb2Nlc3NZYW1sKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9jb3B5WWFtbCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5feWFtbEVkaXRvcj8ueWFtbCkge1xuICAgICAgYXdhaXQgY29weVRvQ2xpcGJvYXJkKHRoaXMuX3lhbWxFZGl0b3IueWFtbCk7XG4gICAgICBzaG93VG9hc3QodGhpcywge1xuICAgICAgICBtZXNzYWdlOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24uY29waWVkX2NsaXBib2FyZFwiKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3lhbWxDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghZXYuZGV0YWlsLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY29uZmlnID0gZXYuZGV0YWlsLnZhbHVlO1xuICAgIHRoaXMuX2Vycm9ycyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNvbmZpcm1VbnNhdmVkQ2hhbmdlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgIHJldHVybiBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IudW5zYXZlZF9jb25maXJtX3RpdGxlXCJcbiAgICAgICAgKSxcbiAgICAgICAgdGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci51bnNhdmVkX2NvbmZpcm1fdGV4dFwiXG4gICAgICAgICksXG4gICAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmxlYXZlXCIpLFxuICAgICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5zdGF5XCIpLFxuICAgICAgICBkZXN0cnVjdGl2ZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2JhY2tUYXBwZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb25maXJtVW5zYXZlZENoYW5nZWQoKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBhZnRlck5leHRSZW5kZXIoKCkgPT4gaGlzdG9yeS5iYWNrKCkpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGFzeW5jIF9kdXBsaWNhdGUoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcmVhZE9ubHlcbiAgICAgID8gYXdhaXQgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyh0aGlzLCB7XG4gICAgICAgICAgdGl0bGU6IFwiTWlncmF0ZSBzY3JpcHQ/XCIsXG4gICAgICAgICAgdGV4dDogXCJZb3UgY2FuIG1pZ3JhdGUgdGhpcyBzY3JpcHQsIHNvIGl0IGNhbiBiZSBlZGl0ZWQgZnJvbSB0aGUgVUkuIEFmdGVyIGl0IGlzIG1pZ3JhdGVkIGFuZCB5b3UgaGF2ZSBzYXZlZCBpdCwgeW91IHdpbGwgaGF2ZSB0byBtYW51YWxseSBkZWxldGUgeW91ciBvbGQgc2NyaXB0IGZyb20geW91ciBjb25maWd1cmF0aW9uLiBEbyB5b3Ugd2FudCB0byBtaWdyYXRlIHRoaXMgc2NyaXB0P1wiLFxuICAgICAgICB9KVxuICAgICAgOiBhd2FpdCB0aGlzLmNvbmZpcm1VbnNhdmVkQ2hhbmdlZCgpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHNob3dTY3JpcHRFZGl0b3Ioe1xuICAgICAgICAuLi50aGlzLl9jb25maWcsXG4gICAgICAgIGFsaWFzOiB0aGlzLl9yZWFkT25seVxuICAgICAgICAgID8gdGhpcy5fY29uZmlnPy5hbGlhc1xuICAgICAgICAgIDogYCR7dGhpcy5fY29uZmlnPy5hbGlhc30gKCR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLmR1cGxpY2F0ZVwiXG4gICAgICAgICAgICApfSlgLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZGVsZXRlQ29uZmlybSgpIHtcbiAgICBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IuZGVsZXRlX2NvbmZpcm1fdGl0bGVcIlxuICAgICAgKSxcbiAgICAgIHRleHQ6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5kZWxldGVfY29uZmlybV90ZXh0XCIsXG4gICAgICAgIHsgbmFtZTogdGhpcy5fY29uZmlnPy5hbGlhcyB9XG4gICAgICApLFxuICAgICAgY29uZmlybVRleHQ6IHRoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5jb21tb24uZGVsZXRlXCIpLFxuICAgICAgZGlzbWlzc1RleHQ6IHRoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5jb21tb24uY2FuY2VsXCIpLFxuICAgICAgY29uZmlybTogKCkgPT4gdGhpcy5fZGVsZXRlKCksXG4gICAgICBkZXN0cnVjdGl2ZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZSgpIHtcbiAgICBhd2FpdCBkZWxldGVTY3JpcHQodGhpcy5oYXNzLCB0aGlzLnNjcmlwdElkISk7XG4gICAgaGlzdG9yeS5iYWNrKCk7XG4gIH1cblxuICBwcml2YXRlIF9zd2l0Y2hVaU1vZGUoKSB7XG4gICAgdGhpcy5fbW9kZSA9IFwiZ3VpXCI7XG4gIH1cblxuICBwcml2YXRlIF9zd2l0Y2hZYW1sTW9kZSgpIHtcbiAgICB0aGlzLl9tb2RlID0gXCJ5YW1sXCI7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9zYXZlU2NyaXB0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLl9pZEVycm9yKSB7XG4gICAgICBzaG93VG9hc3QodGhpcywge1xuICAgICAgICBtZXNzYWdlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5pZF9hbHJlYWR5X2V4aXN0c19zYXZlX2Vycm9yXCJcbiAgICAgICAgKSxcbiAgICAgICAgZGlzbWlzc2FibGU6IGZhbHNlLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgYWN0aW9uOiAoKSA9PiB7fSxcbiAgICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5kaWFsb2dzLmdlbmVyaWMub2tcIiksXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IHRoaXMuc2NyaXB0SWQgfHwgdGhpcy5fZW50aXR5SWQgfHwgRGF0ZS5ub3coKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5oYXNzIS5jYWxsQXBpKFxuICAgICAgICBcIlBPU1RcIixcbiAgICAgICAgXCJjb25maWcvc2NyaXB0L2NvbmZpZy9cIiArIGlkLFxuICAgICAgICB0aGlzLl9jb25maWdcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3JzOiBhbnkpIHtcbiAgICAgIHRoaXMuX2Vycm9ycyA9IGVycm9ycy5ib2R5Lm1lc3NhZ2UgfHwgZXJyb3JzLmVycm9yIHx8IGVycm9ycy5ib2R5O1xuICAgICAgc2hvd1RvYXN0KHRoaXMsIHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JzLmJvZHkubWVzc2FnZSB8fCBlcnJvcnMuZXJyb3IgfHwgZXJyb3JzLmJvZHksXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9ycztcbiAgICB9XG5cbiAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuXG4gICAgaWYgKCF0aGlzLnNjcmlwdElkKSB7XG4gICAgICBuYXZpZ2F0ZShgL2NvbmZpZy9zY3JpcHQvZWRpdC8ke2lkfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgaGFuZGxlS2V5Ym9hcmRTYXZlKCkge1xuICAgIHRoaXMuX3NhdmVTY3JpcHQoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgaGEtY2FyZCB7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgfVxuICAgICAgICBwIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvcnMge1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICAueWFtbC1tb2RlIHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xuICAgICAgICB9XG4gICAgICAgIC5jb25maWctY29udGFpbmVyLFxuICAgICAgICBtYW51YWwtc2NyaXB0LWVkaXRvcixcbiAgICAgICAgYmx1ZXByaW50LXNjcmlwdC1lZGl0b3Ige1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIG1heC13aWR0aDogMTA0MHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDI4cHggMjBweCAwO1xuICAgICAgICB9XG4gICAgICAgIC5jb25maWctY29udGFpbmVyIGhhLWFsZXJ0IHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIGhhLXlhbWwtZWRpdG9yIHtcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgLS1jb2RlLW1pcnJvci1oZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICAgICAgfVxuICAgICAgICAueWFtbC1tb2RlIGhhLWNhcmQge1xuICAgICAgICAgIG92ZXJmbG93OiBpbml0aWFsO1xuICAgICAgICAgIC0taGEtY2FyZC1ib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBzcGFuW3Nsb3Q9XCJpbnRyb2R1Y3Rpb25cIl0gYSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGhhLWZhYiB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGJvdHRvbTogY2FsYygtODBweCAtIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm90dG9tIDAuM3M7XG4gICAgICAgIH1cbiAgICAgICAgaGEtZmFiLmRpcnR5IHtcbiAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnNlbGVjdGVkX21lbnVfaXRlbSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxpW3JvbGU9XCJzZXBhcmF0b3JcIl0ge1xuICAgICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgbWFyZ2luOiAxNnB4IDA7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyIC5uYW1lIHtcbiAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIgYSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBoYS1idXR0b24tbWVudSBhIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaGEtc2NyaXB0LWVkaXRvclwiLCBIYVNjcmlwdEVkaXRvcik7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1zY3JpcHQtZWRpdG9yXCI6IEhhU2NyaXB0RWRpdG9yO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/script/ha-script-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/script/ha-script-picker.ts":
/*!******************************************************!*\
  !*** ./src/panels/config/script/ha-script-picker.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../common/util/compute_rtl */ \"./src/common/util/compute_rtl.ts\");\n/* harmony import */ var _components_ha_button_related_filter_menu__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/ha-button-related-filter-menu */ \"./src/components/ha-button-related-filter-menu.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_icon_overflow_menu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../components/ha-icon-overflow-menu */ \"./src/components/ha-icon-overflow-menu.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_hass_tabs_subpage_data_table__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../layouts/hass-tabs-subpage-data-table */ \"./src/layouts/hass-tabs-subpage-data-table.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _util_toast__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../util/toast */ \"./src/util/toast.ts\");\n/* harmony import */ var _ha_panel_config__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../ha-panel-config */ \"./src/panels/config/ha-panel-config.ts\");\n/* harmony import */ var _data_search__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../data/search */ \"./src/data/search.ts\");\n/* harmony import */ var _data_blueprint__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../data/blueprint */ \"./src/data/blueprint.ts\");\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\nvar mdiContentDuplicate = \"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z\";\nvar mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nvar mdiInformationOutline = \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\";\nvar mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nvar mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\nvar mdiTransitConnection = \"M15,12C15,10.7 14.16,9.6 13,9.18V6.82C14.16,6.4 15,5.3 15,4A3,3 0 0,0 12,1A3,3 0 0,0 9,4C9,5.3 9.84,6.4 11,6.82V9.19C9.84,9.6 9,10.7 9,12C9,13.3 9.84,14.4 11,14.82V17.18C9.84,17.6 9,18.7 9,20A3,3 0 0,0 12,23A3,3 0 0,0 15,20C15,18.7 14.16,17.6 13,17.18V14.82C14.16,14.4 15,13.3 15,12M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M12,21A1,1 0 0,1 11,20A1,1 0 0,1 12,19A1,1 0 0,1 13,20A1,1 0 0,1 12,21Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HaScriptPicker = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_9__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.customElement)(\"ha-script-picker\")], function (_initialize, _LitElement) {\n  var HaScriptPicker = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(HaScriptPicker, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HaScriptPicker);\n    function HaScriptPicker() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, HaScriptPicker);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(HaScriptPicker);\n  }(_LitElement);\n  return {\n    F: HaScriptPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"scripts\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)({\n        attribute: false\n      })],\n      key: \"entityRegistry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.state)()],\n      key: \"_searchParms\",\n      value: function value() {\n        return new URLSearchParams(window.location.search);\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.state)()],\n      key: \"_activeFilters\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.state)()],\n      key: \"_filteredScripts\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.state)()],\n      key: \"_filterValue\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_scripts\",\n      value: function value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_32__[\"default\"])(function (scripts, filteredScripts) {\n          if (filteredScripts === null) {\n            return [];\n          }\n          return (filteredScripts ? scripts.filter(function (script) {\n            return filteredScripts.includes(script.entity_id);\n          }) : scripts).map(function (script) {\n            return Object.assign(Object.assign({}, script), {}, {\n              name: (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_15__.computeStateName)(script),\n              last_triggered: script.attributes.last_triggered || undefined\n            });\n          });\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_columns\",\n      value: function value() {\n        var _this2 = this;\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_32__[\"default\"])(function (narrow, _locale) {\n          var columns = {\n            icon: {\n              title: \"\",\n              label: _this2.hass.localize(\"ui.panel.config.script.picker.headers.state\"),\n              type: \"icon\",\n              template: function template(_icon, script) {\n                return (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"<ha-state-icon .state=\", \"></ha-state-icon>\"])), script);\n              }\n            },\n            name: {\n              title: _this2.hass.localize(\"ui.panel.config.script.picker.headers.name\"),\n              main: true,\n              sortable: true,\n              filterable: true,\n              direction: \"asc\",\n              grows: true,\n              template: narrow ? function (name, script) {\n                var date = new Date(script.attributes.last_triggered);\n                var now = new Date();\n                var dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_33__[\"default\"])(now, date);\n                return (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n                \", \"\\n                <div class=\\\"secondary\\\">\\n                  \", \":\\n                  \", \"\\n                </div>\\n              \"])), name, _this2.hass.localize(\"ui.card.automation.last_triggered\"), script.attributes.last_triggered ? dayDifference > 3 ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_12__.formatShortDateTime)(date, _this2.hass.locale) : (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_13__.relativeTime)(date, _this2.hass.locale) : _this2.hass.localize(\"ui.components.relative_time.never\"));\n              } : undefined\n            }\n          };\n          if (!narrow) {\n            columns.last_triggered = {\n              sortable: true,\n              width: \"40%\",\n              title: _this2.hass.localize(\"ui.card.automation.last_triggered\"),\n              template: function template(last_triggered) {\n                var date = new Date(last_triggered);\n                var now = new Date();\n                var dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_33__[\"default\"])(now, date);\n                return (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n            \", \"\\n          \"])), last_triggered ? dayDifference > 3 ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_12__.formatShortDateTime)(date, _this2.hass.locale) : (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_13__.relativeTime)(date, _this2.hass.locale) : _this2.hass.localize(\"ui.components.relative_time.never\"));\n              }\n            };\n          }\n          columns.actions = {\n            title: \"\",\n            width: _this2.narrow ? undefined : \"10%\",\n            type: \"overflow-menu\",\n            template: function template(_, script) {\n              return (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n          <ha-icon-overflow-menu\\n            .hass=\", \"\\n            narrow\\n            .items=\", \"\\n          >\\n          </ha-icon-overflow-menu>\\n        \"])), _this2.hass, [{\n                path: mdiInformationOutline,\n                label: _this2.hass.localize(\"ui.panel.config.script.picker.show_info\"),\n                action: function action() {\n                  return _this2._showInfo(script);\n                }\n              }, {\n                path: mdiPlay,\n                label: _this2.hass.localize(\"ui.panel.config.script.picker.run\"),\n                action: function action() {\n                  return _this2._runScript(script);\n                }\n              }, {\n                path: mdiTransitConnection,\n                label: _this2.hass.localize(\"ui.panel.config.script.picker.show_trace\"),\n                action: function action() {\n                  return _this2._showTrace(script);\n                }\n              }, {\n                divider: true\n              }, {\n                path: mdiContentDuplicate,\n                label: _this2.hass.localize(\"ui.panel.config.script.picker.duplicate\"),\n                action: function action() {\n                  return _this2._duplicate(script);\n                }\n              }, {\n                label: _this2.hass.localize(\"ui.panel.config.script.picker.delete\"),\n                path: mdiDelete,\n                action: function action() {\n                  return _this2._deleteConfirm(script);\n                },\n                warning: true\n              }]);\n            }\n          };\n          return columns;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n      <hass-tabs-subpage-data-table\\n        .hass=\", \"\\n        .narrow=\", \"\\n        back-path=\\\"/config\\\"\\n        .route=\", \"\\n        .tabs=\", \"\\n        .columns=\", \"\\n        .data=\", \"\\n        .activeFilters=\", \"\\n        id=\\\"entity_id\\\"\\n        .noDataText=\", \"\\n        @clear-filter=\", \"\\n        hasFab\\n        clickable\\n        @row-click=\", \"\\n      >\\n        <ha-icon-button\\n          slot=\\\"toolbar-icon\\\"\\n          .label=\", \"\\n          .path=\", \"\\n          @click=\", \"\\n        ></ha-icon-button>\\n        <ha-button-related-filter-menu\\n          slot=\\\"filter-menu\\\"\\n          .narrow=\", \"\\n          .hass=\", \"\\n          .value=\", \"\\n          exclude-domains='[\\\"script\\\"]'\\n          @related-changed=\", \"\\n        >\\n        </ha-button-related-filter-menu>\\n        <a href=\\\"/config/script/edit/new\\\" slot=\\\"fab\\\">\\n          <ha-fab\\n            ?is-wide=\", \"\\n            ?narrow=\", \"\\n            .label=\", \"\\n            extended\\n            ?rtl=\", \"\\n          >\\n            <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n          </ha-fab>\\n        </a>\\n      </hass-tabs-subpage-data-table>\\n    \"])), this.hass, this.narrow, this.route, _ha_panel_config__WEBPACK_IMPORTED_MODULE_29__.configSections.automations, this._columns(this.narrow, this.hass.locale), this._scripts(this.scripts, this._filteredScripts), this._activeFilters, this.hass.localize(\"ui.panel.config.script.picker.no_scripts\"), this._clearFilter, this._handleRowClicked, this.hass.localize(\"ui.common.help\"), mdiHelpCircle, this._showHelp, this.narrow, this.hass, this._filterValue, this._relatedFilterChanged, this.isWide, this.narrow, this.hass.localize(\"ui.panel.config.script.picker.add_script\"), (0,_common_util_compute_rtl__WEBPACK_IMPORTED_MODULE_17__.computeRTL)(this.hass), mdiPlus);\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated() {\n        if (this._searchParms.has(\"blueprint\")) {\n          this._filterBlueprint();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_filterBlueprint\",\n      value: function () {\n        var _filterBlueprint2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee() {\n          var blueprint, _yield$Promise$all, _yield$Promise$all2, related, blueprints, blueprintMeta;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                blueprint = this._searchParms.get(\"blueprint\");\n                if (blueprint) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                _context.next = 5;\n                return Promise.all([(0,_data_search__WEBPACK_IMPORTED_MODULE_30__.findRelated)(this.hass, \"script_blueprint\", blueprint), (0,_data_blueprint__WEBPACK_IMPORTED_MODULE_31__.fetchBlueprints)(this.hass, \"script\")]);\n              case 5:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_yield$Promise$all, 2);\n                related = _yield$Promise$all2[0];\n                blueprints = _yield$Promise$all2[1];\n                this._filteredScripts = related.script || [];\n                blueprintMeta = blueprints[blueprint];\n                this._activeFilters = [this.hass.localize(\"ui.panel.config.script.picker.filtered_by_blueprint\", \"name\", !blueprintMeta || \"error\" in blueprintMeta ? blueprint : blueprintMeta.metadata.name || blueprint)];\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _filterBlueprint() {\n          return _filterBlueprint2.apply(this, arguments);\n        }\n        return _filterBlueprint;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_relatedFilterChanged\",\n      value: function _relatedFilterChanged(ev) {\n        this._filterValue = ev.detail.value;\n        if (!this._filterValue) {\n          this._clearFilter();\n          return;\n        }\n        this._activeFilters = [ev.detail.filter];\n        this._filteredScripts = ev.detail.items.script || null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearFilter\",\n      value: function _clearFilter() {\n        this._filteredScripts = undefined;\n        this._activeFilters = undefined;\n        this._filterValue = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleRowClicked\",\n      value: function _handleRowClicked(ev) {\n        var entry = this.entityRegistry.find(function (e) {\n          return e.entity_id === ev.detail.id;\n        });\n        if (entry) {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_16__.navigate)(\"/config/script/edit/\".concat(entry.unique_id));\n        } else {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_16__.navigate)(\"/config/script/show/\".concat(ev.detail.id));\n        }\n      }\n    }, {\n      kind: \"field\",\n      key: \"_runScript\",\n      value: function value() {\n        var _this3 = this;\n        return /*#__PURE__*/function () {\n          var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee2(script) {\n            var entry;\n            return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee2$(_context2) {\n              while (1) switch (_context2.prev = _context2.next) {\n                case 0:\n                  entry = _this3.entityRegistry.find(function (e) {\n                    return e.entity_id === script.entity_id;\n                  });\n                  if (entry) {\n                    _context2.next = 3;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 3:\n                  _context2.next = 5;\n                  return (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.triggerScript)(_this3.hass, entry.unique_id);\n                case 5:\n                  (0,_util_toast__WEBPACK_IMPORTED_MODULE_28__.showToast)(_this3, {\n                    message: _this3.hass.localize(\"ui.notification_toast.triggered\", \"name\", (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_15__.computeStateName)(script))\n                  });\n                case 6:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }, _callee2);\n          }));\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showInfo\",\n      value: function _showInfo(script) {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_14__.fireEvent)(this, \"hass-more-info\", {\n          entityId: script.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showTrace\",\n      value: function _showTrace(script) {\n        var entry = this.entityRegistry.find(function (e) {\n          return e.entity_id === script.entity_id;\n        });\n        if (entry) {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_16__.navigate)(\"/config/script/trace/\".concat(entry.unique_id));\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showHelp\",\n      value: function _showHelp() {\n        (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_24__.showAlertDialog)(this, {\n          title: this.hass.localize(\"ui.panel.config.script.caption\"),\n          text: (0,lit__WEBPACK_IMPORTED_MODULE_10__.html)(_templateObject6 || (_templateObject6 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n        \", \"\\n        <p>\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n          >\\n            \", \"\\n          </a>\\n        </p>\\n      \"])), this.hass.localize(\"ui.panel.config.script.picker.introduction\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_27__.documentationUrl)(this.hass, \"/docs/scripts/\"), this.hass.localize(\"ui.panel.config.script.picker.learn_more\"))\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function () {\n        var _duplicate2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee3(script) {\n          var entry, config, response;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                entry = this.entityRegistry.find(function (e) {\n                  return e.entity_id === script.entity_id;\n                });\n                if (entry) {\n                  _context3.next = 4;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 4:\n                _context3.next = 6;\n                return (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.fetchScriptFileConfig)(this.hass, entry.unique_id);\n              case 6:\n                config = _context3.sent;\n                (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.showScriptEditor)(Object.assign(Object.assign({}, config), {}, {\n                  alias: \"\".concat(config === null || config === void 0 ? void 0 : config.alias, \" (\").concat(this.hass.localize(\"ui.panel.config.script.picker.duplicate\"), \")\")\n                }));\n                _context3.next = 20;\n                break;\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](0);\n                if (!(_context3.t0.status_code === 404)) {\n                  _context3.next = 18;\n                  break;\n                }\n                _context3.next = 15;\n                return (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.getScriptStateConfig)(this.hass, script.entity_id);\n              case 15:\n                response = _context3.sent;\n                (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.showScriptEditor)(response.config);\n                return _context3.abrupt(\"return\");\n              case 18:\n                _context3.next = 20;\n                return (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_24__.showAlertDialog)(this, {\n                  text: this.hass.localize(\"ui.panel.config.script.editor.load_error_unknown\", \"err_no\", _context3.t0.status_code)\n                });\n              case 20:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this, [[0, 10]]);\n        }));\n        function _duplicate(_x2) {\n          return _duplicate2.apply(this, arguments);\n        }\n        return _duplicate;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteConfirm\",\n      value: function () {\n        var _deleteConfirm2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee4(script) {\n          var _this4 = this;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_24__.showConfirmationDialog)(this, {\n                  title: this.hass.localize(\"ui.panel.config.script.editor.delete_confirm_title\"),\n                  text: this.hass.localize(\"ui.panel.config.script.editor.delete_confirm_text\", {\n                    name: script.name\n                  }),\n                  confirmText: this.hass.localize(\"ui.common.delete\"),\n                  dismissText: this.hass.localize(\"ui.common.cancel\"),\n                  confirm: function confirm() {\n                    return _this4._delete(script);\n                  },\n                  destructive: true\n                });\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, this);\n        }));\n        function _deleteConfirm(_x3) {\n          return _deleteConfirm2.apply(this, arguments);\n        }\n        return _deleteConfirm;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_delete\",\n      value: function () {\n        var _delete2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee5(script) {\n          var entry;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                entry = this.entityRegistry.find(function (e) {\n                  return e.entity_id === script.entity_id;\n                });\n                if (!entry) {\n                  _context5.next = 5;\n                  break;\n                }\n                _context5.next = 5;\n                return (0,_data_script__WEBPACK_IMPORTED_MODULE_23__.deleteScript)(this.hass, entry.unique_id);\n              case 5:\n                _context5.next = 11;\n                break;\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                _context5.next = 11;\n                return (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_24__.showAlertDialog)(this, {\n                  text: _context5.t0.status_code === 400 ? this.hass.localize(\"ui.panel.config.script.editor.load_error_not_deletable\") : this.hass.localize(\"ui.panel.config.script.editor.load_error_unknown\", \"err_no\", _context5.t0.status_code)\n                });\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, this, [[0, 7]]);\n        }));\n        function _delete(_x4) {\n          return _delete2.apply(this, arguments);\n        }\n        return _delete;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_26__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_10__.css)(_templateObject7 || (_templateObject7 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([\"\\n        a {\\n          text-decoration: none;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_10__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvaGEtc2NyaXB0LXBpY2tlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBaURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUhBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFIQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQVFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvaGEtc2NyaXB0LXBpY2tlci50cz81Y2ZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIG1kaUNvbnRlbnREdXBsaWNhdGUsXG4gIG1kaURlbGV0ZSxcbiAgbWRpSGVscENpcmNsZSxcbiAgbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICBtZGlQbGF5LFxuICBtZGlQbHVzLFxuICBtZGlUcmFuc2l0Q29ubmVjdGlvbixcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7IEhhc3NFbnRpdHkgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSBcIm1lbW9pemUtb25lXCI7XG5pbXBvcnQgeyBkaWZmZXJlbmNlSW5EYXlzIH0gZnJvbSBcImRhdGUtZm5zL2VzbVwiO1xuaW1wb3J0IHsgZm9ybWF0U2hvcnREYXRlVGltZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGF0ZXRpbWUvZm9ybWF0X2RhdGVfdGltZVwiO1xuaW1wb3J0IHsgcmVsYXRpdmVUaW1lIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kYXRldGltZS9yZWxhdGl2ZV90aW1lXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQsIEhBU1NEb21FdmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZU5hbWUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWVcIjtcbmltcG9ydCB7IG5hdmlnYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9uYXZpZ2F0ZVwiO1xuaW1wb3J0IHsgY29tcHV0ZVJUTCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbC9jb21wdXRlX3J0bFwiO1xuaW1wb3J0IHtcbiAgRGF0YVRhYmxlQ29sdW1uQ29udGFpbmVyLFxuICBSb3dDbGlja2VkRXZlbnQsXG59IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2RhdGEtdGFibGUvaGEtZGF0YS10YWJsZVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1idXR0b24tcmVsYXRlZC1maWx0ZXItbWVudVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1mYWJcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtaWNvbi1vdmVyZmxvdy1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXN2Zy1pY29uXCI7XG5pbXBvcnQge1xuICBkZWxldGVTY3JpcHQsXG4gIGZldGNoU2NyaXB0RmlsZUNvbmZpZyxcbiAgZ2V0U2NyaXB0U3RhdGVDb25maWcsXG4gIHNob3dTY3JpcHRFZGl0b3IsXG4gIHRyaWdnZXJTY3JpcHQsXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL3NjcmlwdFwiO1xuaW1wb3J0IHtcbiAgc2hvd0FsZXJ0RGlhbG9nLFxuICBzaG93Q29uZmlybWF0aW9uRGlhbG9nLFxufSBmcm9tIFwiLi4vLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXRhYnMtc3VicGFnZS1kYXRhLXRhYmxlXCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQsIFJvdXRlIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBkb2N1bWVudGF0aW9uVXJsIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZG9jdW1lbnRhdGlvbi11cmxcIjtcbmltcG9ydCB7IHNob3dUb2FzdCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL3RvYXN0XCI7XG5pbXBvcnQgeyBjb25maWdTZWN0aW9ucyB9IGZyb20gXCIuLi9oYS1wYW5lbC1jb25maWdcIjtcbmltcG9ydCB7IEVudGl0eVJlZ2lzdHJ5RW50cnkgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9lbnRpdHlfcmVnaXN0cnlcIjtcbmltcG9ydCB7IGZpbmRSZWxhdGVkIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvc2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaEJsdWVwcmludHMgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9ibHVlcHJpbnRcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1zY3JpcHQtcGlja2VyXCIpXG5jbGFzcyBIYVNjcmlwdFBpY2tlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgc2NyaXB0cyE6IEhhc3NFbnRpdHlbXTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgaXNXaWRlITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgcm91dGUhOiBSb3V0ZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBlbnRpdHlSZWdpc3RyeSE6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9zZWFyY2hQYXJtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfYWN0aXZlRmlsdGVycz86IHN0cmluZ1tdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ZpbHRlcmVkU2NyaXB0cz86IHN0cmluZ1tdIHwgbnVsbDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9maWx0ZXJWYWx1ZT87XG5cbiAgcHJpdmF0ZSBfc2NyaXB0cyA9IG1lbW9pemVPbmUoXG4gICAgKHNjcmlwdHM6IEhhc3NFbnRpdHlbXSwgZmlsdGVyZWRTY3JpcHRzPzogc3RyaW5nW10gfCBudWxsKSA9PiB7XG4gICAgICBpZiAoZmlsdGVyZWRTY3JpcHRzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpbHRlcmVkU2NyaXB0c1xuICAgICAgICAgID8gc2NyaXB0cy5maWx0ZXIoKHNjcmlwdCkgPT5cbiAgICAgICAgICAgICAgZmlsdGVyZWRTY3JpcHRzIS5pbmNsdWRlcyhzY3JpcHQuZW50aXR5X2lkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogc2NyaXB0c1xuICAgICAgKS5tYXAoKHNjcmlwdCkgPT4gKHtcbiAgICAgICAgLi4uc2NyaXB0LFxuICAgICAgICBuYW1lOiBjb21wdXRlU3RhdGVOYW1lKHNjcmlwdCksXG4gICAgICAgIGxhc3RfdHJpZ2dlcmVkOiBzY3JpcHQuYXR0cmlidXRlcy5sYXN0X3RyaWdnZXJlZCB8fCB1bmRlZmluZWQsXG4gICAgICB9KSk7XG4gICAgfVxuICApO1xuXG4gIHByaXZhdGUgX2NvbHVtbnMgPSBtZW1vaXplT25lKChuYXJyb3csIF9sb2NhbGUpOiBEYXRhVGFibGVDb2x1bW5Db250YWluZXIgPT4ge1xuICAgIGNvbnN0IGNvbHVtbnM6IERhdGFUYWJsZUNvbHVtbkNvbnRhaW5lciA9IHtcbiAgICAgIGljb246IHtcbiAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5oZWFkZXJzLnN0YXRlXCJcbiAgICAgICAgKSxcbiAgICAgICAgdHlwZTogXCJpY29uXCIsXG4gICAgICAgIHRlbXBsYXRlOiAoX2ljb24sIHNjcmlwdCkgPT5cbiAgICAgICAgICBodG1sYDxoYS1zdGF0ZS1pY29uIC5zdGF0ZT0ke3NjcmlwdH0+PC9oYS1zdGF0ZS1pY29uPmAsXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5waWNrZXIuaGVhZGVycy5uYW1lXCIpLFxuICAgICAgICBtYWluOiB0cnVlLFxuICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgICAgZmlsdGVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZGlyZWN0aW9uOiBcImFzY1wiLFxuICAgICAgICBncm93czogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGU6IG5hcnJvd1xuICAgICAgICAgID8gKG5hbWUsIHNjcmlwdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzY3JpcHQuYXR0cmlidXRlcy5sYXN0X3RyaWdnZXJlZCk7XG4gICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgIGNvbnN0IGRheURpZmZlcmVuY2UgPSBkaWZmZXJlbmNlSW5EYXlzKG5vdywgZGF0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgICAgICR7bmFtZX1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNhcmQuYXV0b21hdGlvbi5sYXN0X3RyaWdnZXJlZFwiKX06XG4gICAgICAgICAgICAgICAgICAke3NjcmlwdC5hdHRyaWJ1dGVzLmxhc3RfdHJpZ2dlcmVkXG4gICAgICAgICAgICAgICAgICAgID8gZGF5RGlmZmVyZW5jZSA+IDNcbiAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdFNob3J0RGF0ZVRpbWUoZGF0ZSwgdGhpcy5oYXNzLmxvY2FsZSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHJlbGF0aXZlVGltZShkYXRlLCB0aGlzLmhhc3MubG9jYWxlKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMucmVsYXRpdmVfdGltZS5uZXZlclwiKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBpZiAoIW5hcnJvdykge1xuICAgICAgY29sdW1ucy5sYXN0X3RyaWdnZXJlZCA9IHtcbiAgICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiBcIjQwJVwiLFxuICAgICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5hdXRvbWF0aW9uLmxhc3RfdHJpZ2dlcmVkXCIpLFxuICAgICAgICB0ZW1wbGF0ZTogKGxhc3RfdHJpZ2dlcmVkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGxhc3RfdHJpZ2dlcmVkKTtcbiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGNvbnN0IGRheURpZmZlcmVuY2UgPSBkaWZmZXJlbmNlSW5EYXlzKG5vdywgZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICAke2xhc3RfdHJpZ2dlcmVkXG4gICAgICAgICAgICAgID8gZGF5RGlmZmVyZW5jZSA+IDNcbiAgICAgICAgICAgICAgICA/IGZvcm1hdFNob3J0RGF0ZVRpbWUoZGF0ZSwgdGhpcy5oYXNzLmxvY2FsZSlcbiAgICAgICAgICAgICAgICA6IHJlbGF0aXZlVGltZShkYXRlLCB0aGlzLmhhc3MubG9jYWxlKVxuICAgICAgICAgICAgICA6IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMucmVsYXRpdmVfdGltZS5uZXZlclwiKX1cbiAgICAgICAgICBgO1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb2x1bW5zLmFjdGlvbnMgPSB7XG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIHdpZHRoOiB0aGlzLm5hcnJvdyA/IHVuZGVmaW5lZCA6IFwiMTAlXCIsXG4gICAgICB0eXBlOiBcIm92ZXJmbG93LW1lbnVcIixcbiAgICAgIHRlbXBsYXRlOiAoXzogc3RyaW5nLCBzY3JpcHQ6IGFueSkgPT5cbiAgICAgICAgaHRtbGBcbiAgICAgICAgICA8aGEtaWNvbi1vdmVyZmxvdy1tZW51XG4gICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgIG5hcnJvd1xuICAgICAgICAgICAgLml0ZW1zPSR7W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLnNob3dfaW5mb1wiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuX3Nob3dJbmZvKHNjcmlwdCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBtZGlQbGF5LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5ydW5cIiksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLl9ydW5TY3JpcHQoc2NyaXB0KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhdGg6IG1kaVRyYW5zaXRDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLnNob3dfdHJhY2VcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLl9zaG93VHJhY2Uoc2NyaXB0KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpdmlkZXI6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBtZGlDb250ZW50RHVwbGljYXRlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLmR1cGxpY2F0ZVwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuX2R1cGxpY2F0ZShzY3JpcHQpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5waWNrZXIuZGVsZXRlXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHBhdGg6IG1kaURlbGV0ZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuX2RlbGV0ZUNvbmZpcm0oc2NyaXB0KSxcbiAgICAgICAgICAgICAgICB3YXJuaW5nOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICA+XG4gICAgICAgICAgPC9oYS1pY29uLW92ZXJmbG93LW1lbnU+XG4gICAgICAgIGAsXG4gICAgfTtcblxuICAgIHJldHVybiBjb2x1bW5zO1xuICB9KTtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXNzLXRhYnMtc3VicGFnZS1kYXRhLXRhYmxlXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgIGJhY2stcGF0aD1cIi9jb25maWdcIlxuICAgICAgICAucm91dGU9JHt0aGlzLnJvdXRlfVxuICAgICAgICAudGFicz0ke2NvbmZpZ1NlY3Rpb25zLmF1dG9tYXRpb25zfVxuICAgICAgICAuY29sdW1ucz0ke3RoaXMuX2NvbHVtbnModGhpcy5uYXJyb3csIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAuZGF0YT0ke3RoaXMuX3NjcmlwdHModGhpcy5zY3JpcHRzLCB0aGlzLl9maWx0ZXJlZFNjcmlwdHMpfVxuICAgICAgICAuYWN0aXZlRmlsdGVycz0ke3RoaXMuX2FjdGl2ZUZpbHRlcnN9XG4gICAgICAgIGlkPVwiZW50aXR5X2lkXCJcbiAgICAgICAgLm5vRGF0YVRleHQ9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5ub19zY3JpcHRzXCJcbiAgICAgICAgKX1cbiAgICAgICAgQGNsZWFyLWZpbHRlcj0ke3RoaXMuX2NsZWFyRmlsdGVyfVxuICAgICAgICBoYXNGYWJcbiAgICAgICAgY2xpY2thYmxlXG4gICAgICAgIEByb3ctY2xpY2s9JHt0aGlzLl9oYW5kbGVSb3dDbGlja2VkfVxuICAgICAgPlxuICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICBzbG90PVwidG9vbGJhci1pY29uXCJcbiAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24uaGVscFwiKX1cbiAgICAgICAgICAucGF0aD0ke21kaUhlbHBDaXJjbGV9XG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd0hlbHB9XG4gICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICA8aGEtYnV0dG9uLXJlbGF0ZWQtZmlsdGVyLW1lbnVcbiAgICAgICAgICBzbG90PVwiZmlsdGVyLW1lbnVcIlxuICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLl9maWx0ZXJWYWx1ZX1cbiAgICAgICAgICBleGNsdWRlLWRvbWFpbnM9J1tcInNjcmlwdFwiXSdcbiAgICAgICAgICBAcmVsYXRlZC1jaGFuZ2VkPSR7dGhpcy5fcmVsYXRlZEZpbHRlckNoYW5nZWR9XG4gICAgICAgID5cbiAgICAgICAgPC9oYS1idXR0b24tcmVsYXRlZC1maWx0ZXItbWVudT5cbiAgICAgICAgPGEgaHJlZj1cIi9jb25maWcvc2NyaXB0L2VkaXQvbmV3XCIgc2xvdD1cImZhYlwiPlxuICAgICAgICAgIDxoYS1mYWJcbiAgICAgICAgICAgID9pcy13aWRlPSR7dGhpcy5pc1dpZGV9XG4gICAgICAgICAgICA/bmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5waWNrZXIuYWRkX3NjcmlwdFwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZXh0ZW5kZWRcbiAgICAgICAgICAgID9ydGw9JHtjb21wdXRlUlRMKHRoaXMuaGFzcyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJpY29uXCIgLnBhdGg9JHttZGlQbHVzfT48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvaGEtZmFiPlxuICAgICAgICA8L2E+XG4gICAgICA8L2hhc3MtdGFicy1zdWJwYWdlLWRhdGEtdGFibGU+XG4gICAgYDtcbiAgfVxuXG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICBpZiAodGhpcy5fc2VhcmNoUGFybXMuaGFzKFwiYmx1ZXByaW50XCIpKSB7XG4gICAgICB0aGlzLl9maWx0ZXJCbHVlcHJpbnQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9maWx0ZXJCbHVlcHJpbnQoKSB7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gdGhpcy5fc2VhcmNoUGFybXMuZ2V0KFwiYmx1ZXByaW50XCIpO1xuICAgIGlmICghYmx1ZXByaW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtyZWxhdGVkLCBibHVlcHJpbnRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGZpbmRSZWxhdGVkKHRoaXMuaGFzcywgXCJzY3JpcHRfYmx1ZXByaW50XCIsIGJsdWVwcmludCksXG4gICAgICBmZXRjaEJsdWVwcmludHModGhpcy5oYXNzLCBcInNjcmlwdFwiKSxcbiAgICBdKTtcbiAgICB0aGlzLl9maWx0ZXJlZFNjcmlwdHMgPSByZWxhdGVkLnNjcmlwdCB8fCBbXTtcbiAgICBjb25zdCBibHVlcHJpbnRNZXRhID0gYmx1ZXByaW50c1tibHVlcHJpbnRdO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlcnMgPSBbXG4gICAgICB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5waWNrZXIuZmlsdGVyZWRfYnlfYmx1ZXByaW50XCIsXG4gICAgICAgIFwibmFtZVwiLFxuICAgICAgICAhYmx1ZXByaW50TWV0YSB8fCBcImVycm9yXCIgaW4gYmx1ZXByaW50TWV0YVxuICAgICAgICAgID8gYmx1ZXByaW50XG4gICAgICAgICAgOiBibHVlcHJpbnRNZXRhLm1ldGFkYXRhLm5hbWUgfHwgYmx1ZXByaW50XG4gICAgICApLFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIF9yZWxhdGVkRmlsdGVyQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpIHtcbiAgICB0aGlzLl9maWx0ZXJWYWx1ZSA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICBpZiAoIXRoaXMuX2ZpbHRlclZhbHVlKSB7XG4gICAgICB0aGlzLl9jbGVhckZpbHRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVGaWx0ZXJzID0gW2V2LmRldGFpbC5maWx0ZXJdO1xuICAgIHRoaXMuX2ZpbHRlcmVkU2NyaXB0cyA9IGV2LmRldGFpbC5pdGVtcy5zY3JpcHQgfHwgbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFyRmlsdGVyKCkge1xuICAgIHRoaXMuX2ZpbHRlcmVkU2NyaXB0cyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9hY3RpdmVGaWx0ZXJzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2ZpbHRlclZhbHVlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlUm93Q2xpY2tlZChldjogSEFTU0RvbUV2ZW50PFJvd0NsaWNrZWRFdmVudD4pIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50aXR5UmVnaXN0cnkuZmluZCgoZSkgPT4gZS5lbnRpdHlfaWQgPT09IGV2LmRldGFpbC5pZCk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBuYXZpZ2F0ZShgL2NvbmZpZy9zY3JpcHQvZWRpdC8ke2VudHJ5LnVuaXF1ZV9pZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmF2aWdhdGUoYC9jb25maWcvc2NyaXB0L3Nob3cvJHtldi5kZXRhaWwuaWR9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcnVuU2NyaXB0ID0gYXN5bmMgKHNjcmlwdDogYW55KSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudGl0eVJlZ2lzdHJ5LmZpbmQoXG4gICAgICAoZSkgPT4gZS5lbnRpdHlfaWQgPT09IHNjcmlwdC5lbnRpdHlfaWRcbiAgICApO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdHJpZ2dlclNjcmlwdCh0aGlzLmhhc3MsIGVudHJ5LnVuaXF1ZV9pZCk7XG4gICAgc2hvd1RvYXN0KHRoaXMsIHtcbiAgICAgIG1lc3NhZ2U6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgXCJ1aS5ub3RpZmljYXRpb25fdG9hc3QudHJpZ2dlcmVkXCIsXG4gICAgICAgIFwibmFtZVwiLFxuICAgICAgICBjb21wdXRlU3RhdGVOYW1lKHNjcmlwdClcbiAgICAgICksXG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBfc2hvd0luZm8oc2NyaXB0OiBhbnkpIHtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLW1vcmUtaW5mb1wiLCB7IGVudGl0eUlkOiBzY3JpcHQuZW50aXR5X2lkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2hvd1RyYWNlKHNjcmlwdDogYW55KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudGl0eVJlZ2lzdHJ5LmZpbmQoXG4gICAgICAoZSkgPT4gZS5lbnRpdHlfaWQgPT09IHNjcmlwdC5lbnRpdHlfaWRcbiAgICApO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgbmF2aWdhdGUoYC9jb25maWcvc2NyaXB0L3RyYWNlLyR7ZW50cnkudW5pcXVlX2lkfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3Nob3dIZWxwKCkge1xuICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5jYXB0aW9uXCIpLFxuICAgICAgdGV4dDogaHRtbGBcbiAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5pbnRyb2R1Y3Rpb25cIil9XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3Mvc2NyaXB0cy9cIil9XG4gICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LnBpY2tlci5sZWFybl9tb3JlXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgYCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2R1cGxpY2F0ZShzY3JpcHQ6IGFueSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50aXR5UmVnaXN0cnkuZmluZChcbiAgICAgICAgKGUpID0+IGUuZW50aXR5X2lkID09PSBzY3JpcHQuZW50aXR5X2lkXG4gICAgICApO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCBmZXRjaFNjcmlwdEZpbGVDb25maWcodGhpcy5oYXNzLCBlbnRyeS51bmlxdWVfaWQpO1xuICAgICAgc2hvd1NjcmlwdEVkaXRvcih7XG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgYWxpYXM6IGAke2NvbmZpZz8uYWxpYXN9ICgke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQucGlja2VyLmR1cGxpY2F0ZVwiXG4gICAgICAgICl9KWAsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgaWYgKGVyci5zdGF0dXNfY29kZSA9PT0gNDA0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0U2NyaXB0U3RhdGVDb25maWcoXG4gICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgIHNjcmlwdC5lbnRpdHlfaWRcbiAgICAgICAgKTtcbiAgICAgICAgc2hvd1NjcmlwdEVkaXRvcihyZXNwb25zZS5jb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhd2FpdCBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5sb2FkX2Vycm9yX3Vua25vd25cIixcbiAgICAgICAgICBcImVycl9ub1wiLFxuICAgICAgICAgIGVyci5zdGF0dXNfY29kZVxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZGVsZXRlQ29uZmlybShzY3JpcHQ6IGFueSkge1xuICAgIHNob3dDb25maXJtYXRpb25EaWFsb2codGhpcywge1xuICAgICAgdGl0bGU6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5kZWxldGVfY29uZmlybV90aXRsZVwiXG4gICAgICApLFxuICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQuZWRpdG9yLmRlbGV0ZV9jb25maXJtX3RleHRcIixcbiAgICAgICAgeyBuYW1lOiBzY3JpcHQubmFtZSB9XG4gICAgICApLFxuICAgICAgY29uZmlybVRleHQ6IHRoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5jb21tb24uZGVsZXRlXCIpLFxuICAgICAgZGlzbWlzc1RleHQ6IHRoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5jb21tb24uY2FuY2VsXCIpLFxuICAgICAgY29uZmlybTogKCkgPT4gdGhpcy5fZGVsZXRlKHNjcmlwdCksXG4gICAgICBkZXN0cnVjdGl2ZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZShzY3JpcHQ6IGFueSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50aXR5UmVnaXN0cnkuZmluZChcbiAgICAgICAgKGUpID0+IGUuZW50aXR5X2lkID09PSBzY3JpcHQuZW50aXR5X2lkXG4gICAgICApO1xuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZVNjcmlwdCh0aGlzLmhhc3MsIGVudHJ5LnVuaXF1ZV9pZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGF3YWl0IHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRleHQ6XG4gICAgICAgICAgZXJyLnN0YXR1c19jb2RlID09PSA0MDBcbiAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IubG9hZF9lcnJvcl9ub3RfZGVsZXRhYmxlXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5sb2FkX2Vycm9yX3Vua25vd25cIixcbiAgICAgICAgICAgICAgICBcImVycl9ub1wiLFxuICAgICAgICAgICAgICAgIGVyci5zdGF0dXNfY29kZVxuICAgICAgICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICBhIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtc2NyaXB0LXBpY2tlclwiOiBIYVNjcmlwdFBpY2tlcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/script/ha-script-picker.ts\n");

/***/ }),

/***/ "./src/panels/config/script/manual-script-editor.ts":
/*!**********************************************************!*\
  !*** ./src/panels/config/script/manual-script-editor.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaManualScriptEditor: function() { return /* binding */ HaManualScriptEditor; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var deep_clone_simple__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! deep-clone-simple */ \"./node_modules/deep-clone-simple/index.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/decorators/local-storage */ \"./src/common/decorators/local-storage.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _automation_action_ha_automation_action__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../automation/action/ha-automation-action */ \"./src/panels/config/automation/action/ha-automation-action.ts\");\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3;\n\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\n\n\n\n\n\n\n\n\n\n\nvar HaManualScriptEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.customElement)(\"manual-script-editor\")], function (_initialize, _LitElement) {\n  var HaManualScriptEditor = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(HaManualScriptEditor, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HaManualScriptEditor);\n    function HaManualScriptEditor() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, HaManualScriptEditor);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(HaManualScriptEditor);\n  }(_LitElement);\n  return {\n    F: HaManualScriptEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_10__.property)({\n        attribute: false\n      })],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_11__.LocalStorage)(\"automationClipboard\", true, false, window.sessionStorage)],\n      key: \"_clipboard\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_9__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n      \", \"\\n      <div class=\\\"header\\\">\\n        <h2 id=\\\"sequence-heading\\\" class=\\\"name\\\">\\n          \", \"\\n        </h2>\\n        <a\\n          href=\", \"\\n          target=\\\"_blank\\\"\\n          rel=\\\"noreferrer\\\"\\n        >\\n          <ha-icon-button\\n            .path=\", \"\\n            .label=\", \"\\n          ></ha-icon-button>\\n        </a>\\n      </div>\\n\\n      <ha-automation-action\\n        role=\\\"region\\\"\\n        aria-labelledby=\\\"sequence-heading\\\"\\n        .actions=\", \"\\n        @value-changed=\", \"\\n        .hass=\", \"\\n        .narrow=\", \"\\n        .disabled=\", \"\\n        @set-clipboard=\", \"\\n        .clipboard=\", \"\\n      ></ha-automation-action>\\n    \"])), this.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_9__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"<ha-alert alert-type=\\\"warning\\\">\\n            \", \"\\n            <mwc-button slot=\\\"action\\\" @click=\", \">\\n              \", \"\\n            </mwc-button>\\n          </ha-alert>\"])), this.hass.localize(\"ui.panel.config.script.editor.read_only\"), this._duplicate, this.hass.localize(\"ui.panel.config.script.editor.migrate\")) : \"\", this.hass.localize(\"ui.panel.config.script.editor.sequence\"), (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_16__.documentationUrl)(this.hass, \"/docs/scripts/\"), mdiHelpCircle, this.hass.localize(\"ui.panel.config.script.editor.link_available_actions\"), this.config.sequence, this._sequenceChanged, this.hass, this.narrow, this.disabled, this._setClipboard, this._clipboard);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_sequenceChanged\",\n      value: function _sequenceChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_12__.fireEvent)(this, \"value-changed\", {\n          value: Object.assign(Object.assign({}, this.config), {}, {\n            sequence: ev.detail.value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setClipboard\",\n      value: function _setClipboard(ev) {\n        ev.stopPropagation();\n        this._clipboard = Object.assign(Object.assign({}, this._clipboard), (0,deep_clone_simple__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(ev.detail));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function _duplicate() {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_12__.fireEvent)(this, \"duplicate\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_15__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_9__.css)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n        :host {\\n          display: block;\\n        }\\n        ha-card {\\n          overflow: hidden;\\n        }\\n        .description {\\n          margin: 0;\\n        }\\n        p {\\n          margin-bottom: 0;\\n        }\\n        .header {\\n          display: flex;\\n          align-items: center;\\n        }\\n        .header:first-child {\\n          margin-top: -16px;\\n        }\\n        .header .name {\\n          font-size: 20px;\\n          font-weight: 400;\\n          flex: 1;\\n        }\\n        .header a {\\n          color: var(--secondary-text-color);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_9__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9zY3JpcHQvbWFudWFsLXNjcmlwdC1lZGl0b3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUF1Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFnQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL3NjcmlwdC9tYW51YWwtc2NyaXB0LWVkaXRvci50cz8zNGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBtYXRlcmlhbC9td2MtYnV0dG9uL213Yy1idXR0b25cIjtcbmltcG9ydCB7IG1kaUhlbHBDaXJjbGUgfSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IGRlZXBDbG9uZSBmcm9tIFwiZGVlcC1jbG9uZS1zaW1wbGVcIjtcbmltcG9ydCB7IGNzcywgQ1NTUmVzdWx0R3JvdXAsIGh0bWwsIExpdEVsZW1lbnQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kZWNvcmF0b3JzL2xvY2FsLXN0b3JhZ2VcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FyZFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgQ2xpcGJvYXJkIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHsgQWN0aW9uLCBTY3JpcHRDb25maWcgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9zY3JpcHRcIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBkb2N1bWVudGF0aW9uVXJsIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZG9jdW1lbnRhdGlvbi11cmxcIjtcbmltcG9ydCBcIi4uL2F1dG9tYXRpb24vYWN0aW9uL2hhLWF1dG9tYXRpb24tYWN0aW9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwibWFudWFsLXNjcmlwdC1lZGl0b3JcIilcbmV4cG9ydCBjbGFzcyBIYU1hbnVhbFNjcmlwdEVkaXRvciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBpc1dpZGUhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBjb25maWchOiBTY3JpcHRDb25maWc7XG5cbiAgQExvY2FsU3RvcmFnZShcImF1dG9tYXRpb25DbGlwYm9hcmRcIiwgdHJ1ZSwgZmFsc2UsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSlcbiAgcHJpdmF0ZSBfY2xpcGJvYXJkOiBDbGlwYm9hcmQgPSB7fTtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLmRpc2FibGVkXG4gICAgICAgID8gaHRtbGA8aGEtYWxlcnQgYWxlcnQtdHlwZT1cIndhcm5pbmdcIj5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IucmVhZF9vbmx5XCIpfVxuICAgICAgICAgICAgPG13Yy1idXR0b24gc2xvdD1cImFjdGlvblwiIEBjbGljaz0ke3RoaXMuX2R1cGxpY2F0ZX0+XG4gICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLnNjcmlwdC5lZGl0b3IubWlncmF0ZVwiKX1cbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICA8L2hhLWFsZXJ0PmBcbiAgICAgICAgOiBcIlwifVxuICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICA8aDIgaWQ9XCJzZXF1ZW5jZS1oZWFkaW5nXCIgY2xhc3M9XCJuYW1lXCI+XG4gICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuc2NyaXB0LmVkaXRvci5zZXF1ZW5jZVwiKX1cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3Mvc2NyaXB0cy9cIil9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgLnBhdGg9JHttZGlIZWxwQ2lyY2xlfVxuICAgICAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5zY3JpcHQuZWRpdG9yLmxpbmtfYXZhaWxhYmxlX2FjdGlvbnNcIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxoYS1hdXRvbWF0aW9uLWFjdGlvblxuICAgICAgICByb2xlPVwicmVnaW9uXCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2VxdWVuY2UtaGVhZGluZ1wiXG4gICAgICAgIC5hY3Rpb25zPSR7dGhpcy5jb25maWcuc2VxdWVuY2V9XG4gICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fc2VxdWVuY2VDaGFuZ2VkfVxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICBAc2V0LWNsaXBib2FyZD0ke3RoaXMuX3NldENsaXBib2FyZH1cbiAgICAgICAgLmNsaXBib2FyZD0ke3RoaXMuX2NsaXBib2FyZH1cbiAgICAgID48L2hhLWF1dG9tYXRpb24tYWN0aW9uPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIF9zZXF1ZW5jZUNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZTogeyAuLi50aGlzLmNvbmZpZyEsIHNlcXVlbmNlOiBldi5kZXRhaWwudmFsdWUgYXMgQWN0aW9uW10gfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldENsaXBib2FyZChldjogQ3VzdG9tRXZlbnQpOiB2b2lkIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLl9jbGlwYm9hcmQgPSB7IC4uLnRoaXMuX2NsaXBib2FyZCwgLi4uZGVlcENsb25lKGV2LmRldGFpbCkgfTtcbiAgfVxuXG4gIHByaXZhdGUgX2R1cGxpY2F0ZSgpIHtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJkdXBsaWNhdGVcIik7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGUsXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoYS1jYXJkIHtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG4gICAgICAgIHAge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgIH1cbiAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXI6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IC0xNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIgLm5hbWUge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLmhlYWRlciBhIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcIm1hbnVhbC1zY3JpcHQtZWRpdG9yXCI6IEhhTWFudWFsU2NyaXB0RWRpdG9yO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/script/manual-script-editor.ts\n");

/***/ })

}]);