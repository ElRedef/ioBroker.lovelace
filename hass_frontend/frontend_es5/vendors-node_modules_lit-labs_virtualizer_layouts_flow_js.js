"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["vendors-node_modules_lit-labs_virtualizer_layouts_flow_js"],{

/***/ "./node_modules/@lit-labs/virtualizer/layouts/flow.js":
/*!************************************************************!*\
  !*** ./node_modules/@lit-labs/virtualizer/layouts/flow.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlowLayout: function() { return /* binding */ FlowLayout; },\n/* harmony export */   flow: function() { return /* binding */ flow; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createForOfIteratorHelper */ \"./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _shared_SizeCache_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./shared/SizeCache.js */ \"./node_modules/@lit-labs/virtualizer/layouts/shared/SizeCache.js\");\n/* harmony import */ var _shared_BaseLayout_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./shared/BaseLayout.js */ \"./node_modules/@lit-labs/virtualizer/layouts/shared/BaseLayout.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nvar flow = function flow(config) {\n  return Object.assign({\n    type: FlowLayout\n  }, config);\n};\nfunction leadingMargin(direction) {\n  return direction === 'horizontal' ? 'marginLeft' : 'marginTop';\n}\nfunction trailingMargin(direction) {\n  return direction === 'horizontal' ? 'marginRight' : 'marginBottom';\n}\nfunction offset(direction) {\n  return direction === 'horizontal' ? 'xOffset' : 'yOffset';\n}\nfunction collapseMargins(a, b) {\n  var m = [a, b].sort();\n  return m[1] <= 0 ? Math.min.apply(Math, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(m)) : m[0] >= 0 ? Math.max.apply(Math, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(m)) : m[0] + m[1];\n}\nvar MetricsCache = /*#__PURE__*/function () {\n  function MetricsCache() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, MetricsCache);\n    this._childSizeCache = new _shared_SizeCache_js__WEBPACK_IMPORTED_MODULE_9__.SizeCache();\n    this._marginSizeCache = new _shared_SizeCache_js__WEBPACK_IMPORTED_MODULE_9__.SizeCache();\n    this._metricsCache = new Map();\n  }\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(MetricsCache, [{\n    key: \"update\",\n    value: function update(metrics, direction) {\n      var _this = this;\n      var _a, _b;\n      var marginsToUpdate = new Set();\n      Object.keys(metrics).forEach(function (key) {\n        var k = Number(key);\n        _this._metricsCache.set(k, metrics[k]);\n        _this._childSizeCache.set(k, metrics[k][(0,_shared_BaseLayout_js__WEBPACK_IMPORTED_MODULE_10__.dim1)(direction)]);\n        marginsToUpdate.add(k);\n        marginsToUpdate.add(k + 1);\n      });\n      var _iterator = (0,_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(marginsToUpdate),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var k = _step.value;\n          var a = ((_a = this._metricsCache.get(k)) === null || _a === void 0 ? void 0 : _a[leadingMargin(direction)]) || 0;\n          var b = ((_b = this._metricsCache.get(k - 1)) === null || _b === void 0 ? void 0 : _b[trailingMargin(direction)]) || 0;\n          this._marginSizeCache.set(k, collapseMargins(a, b));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"averageChildSize\",\n    get: function get() {\n      return this._childSizeCache.averageSize;\n    }\n  }, {\n    key: \"totalChildSize\",\n    get: function get() {\n      return this._childSizeCache.totalSize;\n    }\n  }, {\n    key: \"averageMarginSize\",\n    get: function get() {\n      return this._marginSizeCache.averageSize;\n    }\n  }, {\n    key: \"totalMarginSize\",\n    get: function get() {\n      return this._marginSizeCache.totalSize;\n    }\n  }, {\n    key: \"getLeadingMarginValue\",\n    value: function getLeadingMarginValue(index, direction) {\n      var _a;\n      return ((_a = this._metricsCache.get(index)) === null || _a === void 0 ? void 0 : _a[leadingMargin(direction)]) || 0;\n    }\n  }, {\n    key: \"getChildSize\",\n    value: function getChildSize(index) {\n      return this._childSizeCache.getSize(index);\n    }\n  }, {\n    key: \"getMarginSize\",\n    value: function getMarginSize(index) {\n      return this._marginSizeCache.getSize(index);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._childSizeCache.clear();\n      this._marginSizeCache.clear();\n      this._metricsCache.clear();\n    }\n  }]);\n  return MetricsCache;\n}();\nvar FlowLayout = /*#__PURE__*/function (_BaseLayout) {\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(FlowLayout, _BaseLayout);\n  var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(FlowLayout);\n  function FlowLayout() {\n    var _this2;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, FlowLayout);\n    _this2 = _super.apply(this, arguments);\n    /**\n     * Initial estimate of item size\n     */\n    _this2._itemSize = {\n      width: 100,\n      height: 100\n    };\n    /**\n     * Indices of children mapped to their (position and length) in the scrolling\n     * direction. Used to keep track of children that are in range.\n     */\n    _this2._physicalItems = new Map();\n    /**\n     * Used in tandem with _physicalItems to track children in range across\n     * reflows.\n     */\n    _this2._newPhysicalItems = new Map();\n    /**\n     * Width and height of children by their index.\n     */\n    _this2._metricsCache = new MetricsCache();\n    /**\n     * anchorIdx is the anchor around which we reflow. It is designed to allow\n     * jumping to any point of the scroll size. We choose it once and stick with\n     * it until stable. _first and _last are deduced around it.\n     */\n    _this2._anchorIdx = null;\n    /**\n     * Position in the scrolling direction of the anchor child.\n     */\n    _this2._anchorPos = null;\n    /**\n     * Whether all children in range were in range during the previous reflow.\n     */\n    _this2._stable = true;\n    _this2._measureChildren = true;\n    _this2._estimate = true;\n    return _this2;\n  }\n  // protected _defaultConfig: BaseLayoutConfig = Object.assign({}, super._defaultConfig, {\n  // })\n  // constructor(config: Layout1dConfig) {\n  //   super(config);\n  // }\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(FlowLayout, [{\n    key: \"measureChildren\",\n    get: function get() {\n      return this._measureChildren;\n    }\n    /**\n     * Determine the average size of all children represented in the sizes\n     * argument.\n     */\n  }, {\n    key: \"updateItemSizes\",\n    value: function updateItemSizes(sizes) {\n      this._metricsCache.update(sizes, this.direction);\n      // if (this._nMeasured) {\n      // this._updateItemSize();\n      this._scheduleReflow();\n      // }\n    }\n    /**\n     * Set the average item size based on the total length and number of children\n     * in range.\n     */\n    // _updateItemSize() {\n    //   // Keep integer values.\n    //   this._itemSize[this._sizeDim] = this._metricsCache.averageChildSize;\n    // }\n  }, {\n    key: \"_getPhysicalItem\",\n    value: function _getPhysicalItem(idx) {\n      var _a;\n      return (_a = this._newPhysicalItems.get(idx)) !== null && _a !== void 0 ? _a : this._physicalItems.get(idx);\n    }\n  }, {\n    key: \"_getSize\",\n    value: function _getSize(idx) {\n      var item = this._getPhysicalItem(idx);\n      return item && this._metricsCache.getChildSize(idx);\n    }\n  }, {\n    key: \"_getAverageSize\",\n    value: function _getAverageSize() {\n      return this._metricsCache.averageChildSize || this._itemSize[this._sizeDim];\n    }\n  }, {\n    key: \"_estimatePosition\",\n    value: function _estimatePosition(idx) {\n      var c = this._metricsCache;\n      if (this._first === -1 || this._last === -1) {\n        return c.averageMarginSize + idx * (c.averageMarginSize + this._getAverageSize());\n      } else {\n        if (idx < this._first) {\n          var delta = this._first - idx;\n          var refItem = this._getPhysicalItem(this._first);\n          return refItem.pos - (c.getMarginSize(this._first - 1) || c.averageMarginSize) - (delta * c.averageChildSize + (delta - 1) * c.averageMarginSize);\n        } else {\n          var _delta = idx - this._last;\n          var _refItem = this._getPhysicalItem(this._last);\n          return _refItem.pos + (c.getChildSize(this._last) || c.averageChildSize) + (c.getMarginSize(this._last) || c.averageMarginSize) + _delta * (c.averageChildSize + c.averageMarginSize);\n        }\n      }\n    }\n    /**\n     * Returns the position in the scrolling direction of the item at idx.\n     * Estimates it if the item at idx is not in the DOM.\n     */\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition(idx) {\n      var _a;\n      var item = this._getPhysicalItem(idx);\n      var averageMarginSize = this._metricsCache.averageMarginSize;\n      return idx === 0 ? (_a = this._metricsCache.getMarginSize(0)) !== null && _a !== void 0 ? _a : averageMarginSize : item ? item.pos : this._estimatePosition(idx);\n    }\n  }, {\n    key: \"_calculateAnchor\",\n    value: function _calculateAnchor(lower, upper) {\n      if (lower <= 0) {\n        return 0;\n      }\n      if (upper > this._scrollSize - this._viewDim1) {\n        return this.items.length - 1;\n      }\n      return Math.max(0, Math.min(this.items.length - 1, Math.floor((lower + upper) / 2 / this._delta)));\n    }\n  }, {\n    key: \"_getAnchor\",\n    value: function _getAnchor(lower, upper) {\n      if (this._physicalItems.size === 0) {\n        return this._calculateAnchor(lower, upper);\n      }\n      if (this._first < 0) {\n        return this._calculateAnchor(lower, upper);\n      }\n      if (this._last < 0) {\n        return this._calculateAnchor(lower, upper);\n      }\n      var firstItem = this._getPhysicalItem(this._first),\n        lastItem = this._getPhysicalItem(this._last),\n        firstMin = firstItem.pos,\n        lastMin = lastItem.pos,\n        lastMax = lastMin + this._metricsCache.getChildSize(this._last);\n      if (lastMax < lower) {\n        // Window is entirely past physical items, calculate new anchor\n        return this._calculateAnchor(lower, upper);\n      }\n      if (firstMin > upper) {\n        // Window is entirely before physical items, calculate new anchor\n        return this._calculateAnchor(lower, upper);\n      }\n      // Window contains a physical item\n      // Find one, starting with the one that was previously first visible\n      var candidateIdx = this._firstVisible - 1;\n      var cMax = -Infinity;\n      while (cMax < lower) {\n        var candidate = this._getPhysicalItem(++candidateIdx);\n        cMax = candidate.pos + this._metricsCache.getChildSize(candidateIdx);\n      }\n      return candidateIdx;\n    }\n    /**\n     * Updates _first and _last based on items that should be in the current\n     * viewed range.\n     */\n  }, {\n    key: \"_getActiveItems\",\n    value: function _getActiveItems() {\n      if (this._viewDim1 === 0 || this.items.length === 0) {\n        this._clearItems();\n      } else {\n        this._getItems();\n      }\n    }\n    /**\n     * Sets the range to empty.\n     */\n  }, {\n    key: \"_clearItems\",\n    value: function _clearItems() {\n      this._first = -1;\n      this._last = -1;\n      this._physicalMin = 0;\n      this._physicalMax = 0;\n      var items = this._newPhysicalItems;\n      this._newPhysicalItems = this._physicalItems;\n      this._newPhysicalItems.clear();\n      this._physicalItems = items;\n      this._stable = true;\n    }\n    /*\n     * Updates _first and _last based on items that should be in the given range.\n     */\n  }, {\n    key: \"_getItems\",\n    value: function _getItems() {\n      var _a, _b;\n      var items = this._newPhysicalItems;\n      this._stable = true;\n      var lower, upper;\n      // The anchorIdx is the anchor around which we reflow. It is designed to\n      // allow jumping to any point of the scroll size. We choose it once and\n      // stick with it until stable. first and last are deduced around it.\n      // If we have a pinned item, we anchor on it\n      if (this.pin !== null) {\n        var index = this.pin.index;\n        this._anchorIdx = index;\n        this._anchorPos = this._getPosition(index);\n      }\n      // Determine the lower and upper bounds of the region to be\n      // rendered, relative to the viewport\n      lower = this._scrollPosition - this._overhang; //leadingOverhang;\n      upper = this._scrollPosition + this._viewDim1 + this._overhang; // trailingOverhang;\n      if (upper < 0 || lower > this._scrollSize) {\n        this._clearItems();\n        return;\n      }\n      // If we are scrolling to a specific index or if we are doing another\n      // pass to stabilize a previously started reflow, we will already\n      // have an anchor. If not, establish an anchor now.\n      if (this._anchorIdx === null || this._anchorPos === null) {\n        this._anchorIdx = this._getAnchor(lower, upper);\n        this._anchorPos = this._getPosition(this._anchorIdx);\n      }\n      var anchorSize = this._getSize(this._anchorIdx);\n      if (anchorSize === undefined) {\n        this._stable = false;\n        anchorSize = this._getAverageSize();\n      }\n      var anchorLeadingMargin = (_a = this._metricsCache.getMarginSize(this._anchorIdx)) !== null && _a !== void 0 ? _a : this._metricsCache.averageMarginSize;\n      var anchorTrailingMargin = (_b = this._metricsCache.getMarginSize(this._anchorIdx + 1)) !== null && _b !== void 0 ? _b : this._metricsCache.averageMarginSize;\n      if (this._anchorIdx === 0) {\n        this._anchorPos = anchorLeadingMargin;\n      }\n      if (this._anchorIdx === this.items.length - 1) {\n        this._anchorPos = this._scrollSize - anchorTrailingMargin - anchorSize;\n      }\n      // Anchor might be outside bounds, so prefer correcting the error and keep\n      // that anchorIdx.\n      var anchorErr = 0;\n      if (this._anchorPos + anchorSize + anchorTrailingMargin < lower) {\n        anchorErr = lower - (this._anchorPos + anchorSize + anchorTrailingMargin);\n      }\n      if (this._anchorPos - anchorLeadingMargin > upper) {\n        anchorErr = upper - (this._anchorPos - anchorLeadingMargin);\n      }\n      if (anchorErr) {\n        this._scrollPosition -= anchorErr;\n        lower -= anchorErr;\n        upper -= anchorErr;\n        this._scrollError += anchorErr;\n      }\n      items.set(this._anchorIdx, {\n        pos: this._anchorPos,\n        size: anchorSize\n      });\n      this._first = this._last = this._anchorIdx;\n      this._physicalMin = this._anchorPos - anchorLeadingMargin;\n      this._physicalMax = this._anchorPos + anchorSize + anchorTrailingMargin;\n      while (this._physicalMin > lower && this._first > 0) {\n        var size = this._getSize(--this._first);\n        if (size === undefined) {\n          this._stable = false;\n          size = this._getAverageSize();\n        }\n        var margin = this._metricsCache.getMarginSize(this._first);\n        if (margin === undefined) {\n          this._stable = false;\n          margin = this._metricsCache.averageMarginSize;\n        }\n        this._physicalMin -= size;\n        var pos = this._physicalMin;\n        items.set(this._first, {\n          pos: pos,\n          size: size\n        });\n        this._physicalMin -= margin;\n        if (this._stable === false && this._estimate === false) {\n          break;\n        }\n      }\n      while (this._physicalMax < upper && this._last < this.items.length - 1) {\n        var _size = this._getSize(++this._last);\n        if (_size === undefined) {\n          this._stable = false;\n          _size = this._getAverageSize();\n        }\n        var _margin = this._metricsCache.getMarginSize(this._last);\n        if (_margin === undefined) {\n          this._stable = false;\n          _margin = this._metricsCache.averageMarginSize;\n        }\n        var _pos = this._physicalMax;\n        items.set(this._last, {\n          pos: _pos,\n          size: _size\n        });\n        this._physicalMax += _size + _margin;\n        if (!this._stable && !this._estimate) {\n          break;\n        }\n      }\n      // This handles the cases where we were relying on estimated sizes.\n      var extentErr = this._calculateError();\n      if (extentErr) {\n        this._physicalMin -= extentErr;\n        this._physicalMax -= extentErr;\n        this._anchorPos -= extentErr;\n        this._scrollPosition -= extentErr;\n        items.forEach(function (item) {\n          return item.pos -= extentErr;\n        });\n        this._scrollError += extentErr;\n      }\n      if (this._stable) {\n        this._newPhysicalItems = this._physicalItems;\n        this._newPhysicalItems.clear();\n        this._physicalItems = items;\n      }\n    }\n  }, {\n    key: \"_calculateError\",\n    value: function _calculateError() {\n      if (this._first === 0) {\n        return this._physicalMin;\n      } else if (this._physicalMin <= 0) {\n        return this._physicalMin - this._first * this._delta;\n      } else if (this._last === this.items.length - 1) {\n        return this._physicalMax - this._scrollSize;\n      } else if (this._physicalMax >= this._scrollSize) {\n        return this._physicalMax - this._scrollSize + (this.items.length - 1 - this._last) * this._delta;\n      }\n      return 0;\n    }\n  }, {\n    key: \"_reflow\",\n    value: function _reflow() {\n      var _first = this._first,\n        _last = this._last;\n      (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(FlowLayout.prototype), \"_reflow\", this).call(this);\n      if (this._first === -1 && this._last == -1 || this._first === _first && this._last === _last) {\n        this._resetReflowState();\n      }\n    }\n  }, {\n    key: \"_resetReflowState\",\n    value: function _resetReflowState() {\n      this._anchorIdx = null;\n      this._anchorPos = null;\n      this._stable = true;\n    }\n  }, {\n    key: \"_updateScrollSize\",\n    value: function _updateScrollSize() {\n      var averageMarginSize = this._metricsCache.averageMarginSize;\n      this._scrollSize = Math.max(1, this.items.length * (averageMarginSize + this._getAverageSize()) + averageMarginSize);\n    }\n    /**\n     * Returns the average size (precise or estimated) of an item in the scrolling direction,\n     * including any surrounding space.\n     */\n  }, {\n    key: \"_delta\",\n    get: function get() {\n      var averageMarginSize = this._metricsCache.averageMarginSize;\n      return this._getAverageSize() + averageMarginSize;\n    }\n    /**\n     * Returns the top and left positioning of the item at idx.\n     */\n  }, {\n    key: \"_getItemPosition\",\n    value: function _getItemPosition(idx) {\n      var _ref;\n      var _a;\n      return _ref = {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, this._positionDim, this._getPosition(idx)), (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, this._secondaryPositionDim, 0), (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, offset(this.direction), -((_a = this._metricsCache.getLeadingMarginValue(idx, this.direction)) !== null && _a !== void 0 ? _a : this._metricsCache.averageMarginSize)), _ref;\n    }\n    /**\n     * Returns the height and width of the item at idx.\n     */\n  }, {\n    key: \"_getItemSize\",\n    value: function _getItemSize(idx) {\n      var _ref2;\n      return _ref2 = {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref2, this._sizeDim, this._getSize(idx) || this._getAverageSize()), (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref2, this._secondarySizeDim, this._itemSize[this._secondarySizeDim]), _ref2;\n    }\n  }, {\n    key: \"_viewDim2Changed\",\n    value: function _viewDim2Changed() {\n      this._metricsCache.clear();\n      this._scheduleReflow();\n    }\n  }]);\n  return FlowLayout;\n}(_shared_BaseLayout_js__WEBPACK_IMPORTED_MODULE_10__.BaseLayout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGxpdC1sYWJzL3ZpcnR1YWxpemVyL2xheW91dHMvZmxvdy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBTUE7QUFDQTtBQStCQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFtREE7QUFBQTtBQUFBO0FBQUE7QUFqREE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTs7O0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFFQTs7OztBQUlBO0FBRUE7Ozs7QUFJQTtBQUVBOzs7QUFHQTtBQUVBOzs7OztBQUtBO0FBRUE7OztBQUdBO0FBRUE7OztBQUdBO0FBRUE7QUFFQTtBQUFBO0FBc1lBO0FBcFlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7Ozs7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7QUFRQTtBQUVBOzs7O0FBQUE7QUFBQTtBQUFBOztBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7Ozs7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBOzs7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFBQTtBQUFBO0FBQUE7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFHQTtBQUlBO0FBQ0E7O0FBR0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUdBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUlBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBS0E7QUFFQTs7OztBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUVBOzs7QUFBQTtBQUFBO0FBQUE7QUFHQTs7QUFDQTtBQVFBO0FBRUE7OztBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4uL3NyYy9sYXlvdXRzL2Zsb3cudHM/YzkwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtTaXplQ2FjaGV9IGZyb20gJy4vc2hhcmVkL1NpemVDYWNoZS5qcyc7XG5pbXBvcnQge0Jhc2VMYXlvdXQsIGRpbTF9IGZyb20gJy4vc2hhcmVkL0Jhc2VMYXlvdXQuanMnO1xuaW1wb3J0IHtcbiAgUG9zaXRpb25zLFxuICBTaXplLFxuICBNYXJnaW5zLFxuICBtYXJnaW4sXG4gIFNjcm9sbERpcmVjdGlvbixcbiAgb2Zmc2V0QXhpcyxcbiAgQ2hpbGRNZWFzdXJlbWVudHMsXG4gIEJhc2VMYXlvdXRDb25maWcsXG4gIExheW91dEhvc3RTaW5rLFxufSBmcm9tICcuL3NoYXJlZC9MYXlvdXQuanMnO1xuXG50eXBlIEl0ZW1Cb3VuZHMgPSB7XG4gIHBvczogbnVtYmVyO1xuICBzaXplOiBudW1iZXI7XG59O1xuXG50eXBlIEZsb3dMYXlvdXRDb25zdHJ1Y3RvciA9IHtcbiAgcHJvdG90eXBlOiBGbG93TGF5b3V0O1xuICBuZXcgKGhvc3RTaW5rOiBMYXlvdXRIb3N0U2luaywgY29uZmlnPzogQmFzZUxheW91dENvbmZpZyk6IEZsb3dMYXlvdXQ7XG59O1xuXG50eXBlIEZsb3dMYXlvdXRTcGVjaWZpZXIgPSBCYXNlTGF5b3V0Q29uZmlnICYge1xuICB0eXBlOiBGbG93TGF5b3V0Q29uc3RydWN0b3I7XG59O1xuXG50eXBlIEZsb3dMYXlvdXRTcGVjaWZpZXJGYWN0b3J5ID0gKFxuICBjb25maWc/OiBCYXNlTGF5b3V0Q29uZmlnXG4pID0+IEZsb3dMYXlvdXRTcGVjaWZpZXI7XG5cbmV4cG9ydCBjb25zdCBmbG93OiBGbG93TGF5b3V0U3BlY2lmaWVyRmFjdG9yeSA9IChjb25maWc/OiBCYXNlTGF5b3V0Q29uZmlnKSA9PlxuICBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIHR5cGU6IEZsb3dMYXlvdXQsXG4gICAgfSxcbiAgICBjb25maWdcbiAgKTtcblxuZnVuY3Rpb24gbGVhZGluZ01hcmdpbihkaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbik6IG1hcmdpbiB7XG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5Ub3AnO1xufVxuXG5mdW5jdGlvbiB0cmFpbGluZ01hcmdpbihkaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbik6IG1hcmdpbiB7XG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICdtYXJnaW5SaWdodCcgOiAnbWFyZ2luQm90dG9tJztcbn1cblxuZnVuY3Rpb24gb2Zmc2V0KGRpcmVjdGlvbjogU2Nyb2xsRGlyZWN0aW9uKTogb2Zmc2V0QXhpcyB7XG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICd4T2Zmc2V0JyA6ICd5T2Zmc2V0Jztcbn1cblxuZnVuY3Rpb24gY29sbGFwc2VNYXJnaW5zKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbSA9IFthLCBiXS5zb3J0KCk7XG4gIHJldHVybiBtWzFdIDw9IDAgPyBNYXRoLm1pbiguLi5tKSA6IG1bMF0gPj0gMCA/IE1hdGgubWF4KC4uLm0pIDogbVswXSArIG1bMV07XG59XG5cbmNsYXNzIE1ldHJpY3NDYWNoZSB7XG4gIHByaXZhdGUgX2NoaWxkU2l6ZUNhY2hlID0gbmV3IFNpemVDYWNoZSgpO1xuICBwcml2YXRlIF9tYXJnaW5TaXplQ2FjaGUgPSBuZXcgU2l6ZUNhY2hlKCk7XG4gIHByaXZhdGUgX21ldHJpY3NDYWNoZTogTWFwPG51bWJlciwgU2l6ZSAmIE1hcmdpbnM+ID0gbmV3IE1hcCgpO1xuXG4gIHVwZGF0ZShtZXRyaWNzOiB7W2tleTogbnVtYmVyXTogU2l6ZSAmIE1hcmdpbnN9LCBkaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbikge1xuICAgIGNvbnN0IG1hcmdpbnNUb1VwZGF0ZTogU2V0PG51bWJlcj4gPSBuZXcgU2V0KCk7XG4gICAgT2JqZWN0LmtleXMobWV0cmljcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBrID0gTnVtYmVyKGtleSk7XG4gICAgICB0aGlzLl9tZXRyaWNzQ2FjaGUuc2V0KGssIG1ldHJpY3Nba10pO1xuICAgICAgdGhpcy5fY2hpbGRTaXplQ2FjaGUuc2V0KGssIG1ldHJpY3Nba11bZGltMShkaXJlY3Rpb24pXSk7XG4gICAgICBtYXJnaW5zVG9VcGRhdGUuYWRkKGspO1xuICAgICAgbWFyZ2luc1RvVXBkYXRlLmFkZChrICsgMSk7XG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBrIG9mIG1hcmdpbnNUb1VwZGF0ZSkge1xuICAgICAgY29uc3QgYSA9IHRoaXMuX21ldHJpY3NDYWNoZS5nZXQoayk/LltsZWFkaW5nTWFyZ2luKGRpcmVjdGlvbildIHx8IDA7XG4gICAgICBjb25zdCBiID0gdGhpcy5fbWV0cmljc0NhY2hlLmdldChrIC0gMSk/Llt0cmFpbGluZ01hcmdpbihkaXJlY3Rpb24pXSB8fCAwO1xuICAgICAgdGhpcy5fbWFyZ2luU2l6ZUNhY2hlLnNldChrLCBjb2xsYXBzZU1hcmdpbnMoYSwgYikpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBhdmVyYWdlQ2hpbGRTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2NoaWxkU2l6ZUNhY2hlLmF2ZXJhZ2VTaXplO1xuICB9XG5cbiAgZ2V0IHRvdGFsQ2hpbGRTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2NoaWxkU2l6ZUNhY2hlLnRvdGFsU2l6ZTtcbiAgfVxuXG4gIGdldCBhdmVyYWdlTWFyZ2luU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9tYXJnaW5TaXplQ2FjaGUuYXZlcmFnZVNpemU7XG4gIH1cblxuICBnZXQgdG90YWxNYXJnaW5TaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX21hcmdpblNpemVDYWNoZS50b3RhbFNpemU7XG4gIH1cblxuICBnZXRMZWFkaW5nTWFyZ2luVmFsdWUoaW5kZXg6IG51bWJlciwgZGlyZWN0aW9uOiBTY3JvbGxEaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fbWV0cmljc0NhY2hlLmdldChpbmRleCk/LltsZWFkaW5nTWFyZ2luKGRpcmVjdGlvbildIHx8IDA7XG4gIH1cblxuICBnZXRDaGlsZFNpemUoaW5kZXg6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9jaGlsZFNpemVDYWNoZS5nZXRTaXplKGluZGV4KTtcbiAgfVxuXG4gIGdldE1hcmdpblNpemUoaW5kZXg6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9tYXJnaW5TaXplQ2FjaGUuZ2V0U2l6ZShpbmRleCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jaGlsZFNpemVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuX21hcmdpblNpemVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuX21ldHJpY3NDYWNoZS5jbGVhcigpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93TGF5b3V0IGV4dGVuZHMgQmFzZUxheW91dDxCYXNlTGF5b3V0Q29uZmlnPiB7XG4gIC8qKlxuICAgKiBJbml0aWFsIGVzdGltYXRlIG9mIGl0ZW0gc2l6ZVxuICAgKi9cbiAgX2l0ZW1TaXplOiBTaXplID0ge3dpZHRoOiAxMDAsIGhlaWdodDogMTAwfTtcblxuICAvKipcbiAgICogSW5kaWNlcyBvZiBjaGlsZHJlbiBtYXBwZWQgdG8gdGhlaXIgKHBvc2l0aW9uIGFuZCBsZW5ndGgpIGluIHRoZSBzY3JvbGxpbmdcbiAgICogZGlyZWN0aW9uLiBVc2VkIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gdGhhdCBhcmUgaW4gcmFuZ2UuXG4gICAqL1xuICBfcGh5c2ljYWxJdGVtczogTWFwPG51bWJlciwgSXRlbUJvdW5kcz4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFVzZWQgaW4gdGFuZGVtIHdpdGggX3BoeXNpY2FsSXRlbXMgdG8gdHJhY2sgY2hpbGRyZW4gaW4gcmFuZ2UgYWNyb3NzXG4gICAqIHJlZmxvd3MuXG4gICAqL1xuICBfbmV3UGh5c2ljYWxJdGVtczogTWFwPG51bWJlciwgSXRlbUJvdW5kcz4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFdpZHRoIGFuZCBoZWlnaHQgb2YgY2hpbGRyZW4gYnkgdGhlaXIgaW5kZXguXG4gICAqL1xuICBfbWV0cmljc0NhY2hlID0gbmV3IE1ldHJpY3NDYWNoZSgpO1xuXG4gIC8qKlxuICAgKiBhbmNob3JJZHggaXMgdGhlIGFuY2hvciBhcm91bmQgd2hpY2ggd2UgcmVmbG93LiBJdCBpcyBkZXNpZ25lZCB0byBhbGxvd1xuICAgKiBqdW1waW5nIHRvIGFueSBwb2ludCBvZiB0aGUgc2Nyb2xsIHNpemUuIFdlIGNob29zZSBpdCBvbmNlIGFuZCBzdGljayB3aXRoXG4gICAqIGl0IHVudGlsIHN0YWJsZS4gX2ZpcnN0IGFuZCBfbGFzdCBhcmUgZGVkdWNlZCBhcm91bmQgaXQuXG4gICAqL1xuICBfYW5jaG9ySWR4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogUG9zaXRpb24gaW4gdGhlIHNjcm9sbGluZyBkaXJlY3Rpb24gb2YgdGhlIGFuY2hvciBjaGlsZC5cbiAgICovXG4gIF9hbmNob3JQb3M6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGFsbCBjaGlsZHJlbiBpbiByYW5nZSB3ZXJlIGluIHJhbmdlIGR1cmluZyB0aGUgcHJldmlvdXMgcmVmbG93LlxuICAgKi9cbiAgX3N0YWJsZSA9IHRydWU7XG5cbiAgcHJpdmF0ZSBfbWVhc3VyZUNoaWxkcmVuID0gdHJ1ZTtcblxuICBfZXN0aW1hdGUgPSB0cnVlO1xuXG4gIC8vIHByb3RlY3RlZCBfZGVmYXVsdENvbmZpZzogQmFzZUxheW91dENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHN1cGVyLl9kZWZhdWx0Q29uZmlnLCB7XG5cbiAgLy8gfSlcblxuICAvLyBjb25zdHJ1Y3Rvcihjb25maWc6IExheW91dDFkQ29uZmlnKSB7XG4gIC8vICAgc3VwZXIoY29uZmlnKTtcbiAgLy8gfVxuXG4gIGdldCBtZWFzdXJlQ2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lYXN1cmVDaGlsZHJlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIGF2ZXJhZ2Ugc2l6ZSBvZiBhbGwgY2hpbGRyZW4gcmVwcmVzZW50ZWQgaW4gdGhlIHNpemVzXG4gICAqIGFyZ3VtZW50LlxuICAgKi9cbiAgdXBkYXRlSXRlbVNpemVzKHNpemVzOiBDaGlsZE1lYXN1cmVtZW50cykge1xuICAgIHRoaXMuX21ldHJpY3NDYWNoZS51cGRhdGUoc2l6ZXMgYXMgU2l6ZSAmIE1hcmdpbnMsIHRoaXMuZGlyZWN0aW9uKTtcbiAgICAvLyBpZiAodGhpcy5fbk1lYXN1cmVkKSB7XG4gICAgLy8gdGhpcy5fdXBkYXRlSXRlbVNpemUoKTtcbiAgICB0aGlzLl9zY2hlZHVsZVJlZmxvdygpO1xuICAgIC8vIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGF2ZXJhZ2UgaXRlbSBzaXplIGJhc2VkIG9uIHRoZSB0b3RhbCBsZW5ndGggYW5kIG51bWJlciBvZiBjaGlsZHJlblxuICAgKiBpbiByYW5nZS5cbiAgICovXG4gIC8vIF91cGRhdGVJdGVtU2l6ZSgpIHtcbiAgLy8gICAvLyBLZWVwIGludGVnZXIgdmFsdWVzLlxuICAvLyAgIHRoaXMuX2l0ZW1TaXplW3RoaXMuX3NpemVEaW1dID0gdGhpcy5fbWV0cmljc0NhY2hlLmF2ZXJhZ2VDaGlsZFNpemU7XG4gIC8vIH1cblxuICBfZ2V0UGh5c2ljYWxJdGVtKGlkeDogbnVtYmVyKTogSXRlbUJvdW5kcyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX25ld1BoeXNpY2FsSXRlbXMuZ2V0KGlkeCkgPz8gdGhpcy5fcGh5c2ljYWxJdGVtcy5nZXQoaWR4KTtcbiAgfVxuXG4gIF9nZXRTaXplKGlkeDogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKGlkeCk7XG4gICAgcmV0dXJuIGl0ZW0gJiYgdGhpcy5fbWV0cmljc0NhY2hlLmdldENoaWxkU2l6ZShpZHgpO1xuICB9XG5cbiAgX2dldEF2ZXJhZ2VTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX21ldHJpY3NDYWNoZS5hdmVyYWdlQ2hpbGRTaXplIHx8IHRoaXMuX2l0ZW1TaXplW3RoaXMuX3NpemVEaW1dO1xuICB9XG5cbiAgX2VzdGltYXRlUG9zaXRpb24oaWR4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGMgPSB0aGlzLl9tZXRyaWNzQ2FjaGU7XG4gICAgaWYgKHRoaXMuX2ZpcnN0ID09PSAtMSB8fCB0aGlzLl9sYXN0ID09PSAtMSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgYy5hdmVyYWdlTWFyZ2luU2l6ZSArXG4gICAgICAgIGlkeCAqIChjLmF2ZXJhZ2VNYXJnaW5TaXplICsgdGhpcy5fZ2V0QXZlcmFnZVNpemUoKSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpZHggPCB0aGlzLl9maXJzdCkge1xuICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuX2ZpcnN0IC0gaWR4O1xuICAgICAgICBjb25zdCByZWZJdGVtID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKHRoaXMuX2ZpcnN0KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICByZWZJdGVtIS5wb3MgLVxuICAgICAgICAgIChjLmdldE1hcmdpblNpemUodGhpcy5fZmlyc3QgLSAxKSB8fCBjLmF2ZXJhZ2VNYXJnaW5TaXplKSAtXG4gICAgICAgICAgKGRlbHRhICogYy5hdmVyYWdlQ2hpbGRTaXplICsgKGRlbHRhIC0gMSkgKiBjLmF2ZXJhZ2VNYXJnaW5TaXplKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBpZHggLSB0aGlzLl9sYXN0O1xuICAgICAgICBjb25zdCByZWZJdGVtID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKHRoaXMuX2xhc3QpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJlZkl0ZW0hLnBvcyArXG4gICAgICAgICAgKGMuZ2V0Q2hpbGRTaXplKHRoaXMuX2xhc3QpIHx8IGMuYXZlcmFnZUNoaWxkU2l6ZSkgK1xuICAgICAgICAgIChjLmdldE1hcmdpblNpemUodGhpcy5fbGFzdCkgfHwgYy5hdmVyYWdlTWFyZ2luU2l6ZSkgK1xuICAgICAgICAgIGRlbHRhICogKGMuYXZlcmFnZUNoaWxkU2l6ZSArIGMuYXZlcmFnZU1hcmdpblNpemUpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIGluIHRoZSBzY3JvbGxpbmcgZGlyZWN0aW9uIG9mIHRoZSBpdGVtIGF0IGlkeC5cbiAgICogRXN0aW1hdGVzIGl0IGlmIHRoZSBpdGVtIGF0IGlkeCBpcyBub3QgaW4gdGhlIERPTS5cbiAgICovXG4gIF9nZXRQb3NpdGlvbihpZHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuX2dldFBoeXNpY2FsSXRlbShpZHgpO1xuICAgIGNvbnN0IHthdmVyYWdlTWFyZ2luU2l6ZX0gPSB0aGlzLl9tZXRyaWNzQ2FjaGU7XG4gICAgcmV0dXJuIGlkeCA9PT0gMFxuICAgICAgPyB0aGlzLl9tZXRyaWNzQ2FjaGUuZ2V0TWFyZ2luU2l6ZSgwKSA/PyBhdmVyYWdlTWFyZ2luU2l6ZVxuICAgICAgOiBpdGVtXG4gICAgICA/IGl0ZW0ucG9zXG4gICAgICA6IHRoaXMuX2VzdGltYXRlUG9zaXRpb24oaWR4KTtcbiAgfVxuXG4gIF9jYWxjdWxhdGVBbmNob3IobG93ZXI6IG51bWJlciwgdXBwZXI6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKGxvd2VyIDw9IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodXBwZXIgPiB0aGlzLl9zY3JvbGxTaXplIC0gdGhpcy5fdmlld0RpbTEpIHtcbiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggLSAxLFxuICAgICAgICBNYXRoLmZsb29yKChsb3dlciArIHVwcGVyKSAvIDIgLyB0aGlzLl9kZWx0YSlcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgX2dldEFuY2hvcihsb3dlcjogbnVtYmVyLCB1cHBlcjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5fcGh5c2ljYWxJdGVtcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlQW5jaG9yKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9maXJzdCA8IDApIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWxjdWxhdGVBbmNob3IobG93ZXIsIHVwcGVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2xhc3QgPCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FsY3VsYXRlQW5jaG9yKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3RJdGVtID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKHRoaXMuX2ZpcnN0KSxcbiAgICAgIGxhc3RJdGVtID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKHRoaXMuX2xhc3QpLFxuICAgICAgZmlyc3RNaW4gPSBmaXJzdEl0ZW0hLnBvcyxcbiAgICAgIGxhc3RNaW4gPSBsYXN0SXRlbSEucG9zLFxuICAgICAgbGFzdE1heCA9IGxhc3RNaW4gKyB0aGlzLl9tZXRyaWNzQ2FjaGUuZ2V0Q2hpbGRTaXplKHRoaXMuX2xhc3QpITtcblxuICAgIGlmIChsYXN0TWF4IDwgbG93ZXIpIHtcbiAgICAgIC8vIFdpbmRvdyBpcyBlbnRpcmVseSBwYXN0IHBoeXNpY2FsIGl0ZW1zLCBjYWxjdWxhdGUgbmV3IGFuY2hvclxuICAgICAgcmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUFuY2hvcihsb3dlciwgdXBwZXIpO1xuICAgIH1cbiAgICBpZiAoZmlyc3RNaW4gPiB1cHBlcikge1xuICAgICAgLy8gV2luZG93IGlzIGVudGlyZWx5IGJlZm9yZSBwaHlzaWNhbCBpdGVtcywgY2FsY3VsYXRlIG5ldyBhbmNob3JcbiAgICAgIHJldHVybiB0aGlzLl9jYWxjdWxhdGVBbmNob3IobG93ZXIsIHVwcGVyKTtcbiAgICB9XG4gICAgLy8gV2luZG93IGNvbnRhaW5zIGEgcGh5c2ljYWwgaXRlbVxuICAgIC8vIEZpbmQgb25lLCBzdGFydGluZyB3aXRoIHRoZSBvbmUgdGhhdCB3YXMgcHJldmlvdXNseSBmaXJzdCB2aXNpYmxlXG4gICAgbGV0IGNhbmRpZGF0ZUlkeCA9IHRoaXMuX2ZpcnN0VmlzaWJsZSAtIDE7XG4gICAgbGV0IGNNYXggPSAtSW5maW5pdHk7XG4gICAgd2hpbGUgKGNNYXggPCBsb3dlcikge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0gdGhpcy5fZ2V0UGh5c2ljYWxJdGVtKCsrY2FuZGlkYXRlSWR4KTtcbiAgICAgIGNNYXggPSBjYW5kaWRhdGUhLnBvcyArIHRoaXMuX21ldHJpY3NDYWNoZS5nZXRDaGlsZFNpemUoY2FuZGlkYXRlSWR4KSE7XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGVJZHg7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBfZmlyc3QgYW5kIF9sYXN0IGJhc2VkIG9uIGl0ZW1zIHRoYXQgc2hvdWxkIGJlIGluIHRoZSBjdXJyZW50XG4gICAqIHZpZXdlZCByYW5nZS5cbiAgICovXG4gIF9nZXRBY3RpdmVJdGVtcygpIHtcbiAgICBpZiAodGhpcy5fdmlld0RpbTEgPT09IDAgfHwgdGhpcy5pdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2NsZWFySXRlbXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2V0SXRlbXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcmFuZ2UgdG8gZW1wdHkuXG4gICAqL1xuICBfY2xlYXJJdGVtcygpIHtcbiAgICB0aGlzLl9maXJzdCA9IC0xO1xuICAgIHRoaXMuX2xhc3QgPSAtMTtcbiAgICB0aGlzLl9waHlzaWNhbE1pbiA9IDA7XG4gICAgdGhpcy5fcGh5c2ljYWxNYXggPSAwO1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbmV3UGh5c2ljYWxJdGVtcztcbiAgICB0aGlzLl9uZXdQaHlzaWNhbEl0ZW1zID0gdGhpcy5fcGh5c2ljYWxJdGVtcztcbiAgICB0aGlzLl9uZXdQaHlzaWNhbEl0ZW1zLmNsZWFyKCk7XG4gICAgdGhpcy5fcGh5c2ljYWxJdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3N0YWJsZSA9IHRydWU7XG4gIH1cblxuICAvKlxuICAgKiBVcGRhdGVzIF9maXJzdCBhbmQgX2xhc3QgYmFzZWQgb24gaXRlbXMgdGhhdCBzaG91bGQgYmUgaW4gdGhlIGdpdmVuIHJhbmdlLlxuICAgKi9cbiAgX2dldEl0ZW1zKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbmV3UGh5c2ljYWxJdGVtcztcbiAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgIGxldCBsb3dlciwgdXBwZXI7XG5cbiAgICAvLyBUaGUgYW5jaG9ySWR4IGlzIHRoZSBhbmNob3IgYXJvdW5kIHdoaWNoIHdlIHJlZmxvdy4gSXQgaXMgZGVzaWduZWQgdG9cbiAgICAvLyBhbGxvdyBqdW1waW5nIHRvIGFueSBwb2ludCBvZiB0aGUgc2Nyb2xsIHNpemUuIFdlIGNob29zZSBpdCBvbmNlIGFuZFxuICAgIC8vIHN0aWNrIHdpdGggaXQgdW50aWwgc3RhYmxlLiBmaXJzdCBhbmQgbGFzdCBhcmUgZGVkdWNlZCBhcm91bmQgaXQuXG5cbiAgICAvLyBJZiB3ZSBoYXZlIGEgcGlubmVkIGl0ZW0sIHdlIGFuY2hvciBvbiBpdFxuICAgIGlmICh0aGlzLnBpbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qge2luZGV4fSA9IHRoaXMucGluO1xuICAgICAgdGhpcy5fYW5jaG9ySWR4ID0gaW5kZXg7XG4gICAgICB0aGlzLl9hbmNob3JQb3MgPSB0aGlzLl9nZXRQb3NpdGlvbihpbmRleCk7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBsb3dlciBhbmQgdXBwZXIgYm91bmRzIG9mIHRoZSByZWdpb24gdG8gYmVcbiAgICAvLyByZW5kZXJlZCwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0XG4gICAgbG93ZXIgPSB0aGlzLl9zY3JvbGxQb3NpdGlvbiAtIHRoaXMuX292ZXJoYW5nOyAvL2xlYWRpbmdPdmVyaGFuZztcbiAgICB1cHBlciA9IHRoaXMuX3Njcm9sbFBvc2l0aW9uICsgdGhpcy5fdmlld0RpbTEgKyB0aGlzLl9vdmVyaGFuZzsgLy8gdHJhaWxpbmdPdmVyaGFuZztcblxuICAgIGlmICh1cHBlciA8IDAgfHwgbG93ZXIgPiB0aGlzLl9zY3JvbGxTaXplKSB7XG4gICAgICB0aGlzLl9jbGVhckl0ZW1zKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgYXJlIHNjcm9sbGluZyB0byBhIHNwZWNpZmljIGluZGV4IG9yIGlmIHdlIGFyZSBkb2luZyBhbm90aGVyXG4gICAgLy8gcGFzcyB0byBzdGFiaWxpemUgYSBwcmV2aW91c2x5IHN0YXJ0ZWQgcmVmbG93LCB3ZSB3aWxsIGFscmVhZHlcbiAgICAvLyBoYXZlIGFuIGFuY2hvci4gSWYgbm90LCBlc3RhYmxpc2ggYW4gYW5jaG9yIG5vdy5cbiAgICBpZiAodGhpcy5fYW5jaG9ySWR4ID09PSBudWxsIHx8IHRoaXMuX2FuY2hvclBvcyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fYW5jaG9ySWR4ID0gdGhpcy5fZ2V0QW5jaG9yKGxvd2VyLCB1cHBlcik7XG4gICAgICB0aGlzLl9hbmNob3JQb3MgPSB0aGlzLl9nZXRQb3NpdGlvbih0aGlzLl9hbmNob3JJZHgpO1xuICAgIH1cblxuICAgIGxldCBhbmNob3JTaXplID0gdGhpcy5fZ2V0U2l6ZSh0aGlzLl9hbmNob3JJZHgpO1xuICAgIGlmIChhbmNob3JTaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX3N0YWJsZSA9IGZhbHNlO1xuICAgICAgYW5jaG9yU2l6ZSA9IHRoaXMuX2dldEF2ZXJhZ2VTaXplKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYW5jaG9yTGVhZGluZ01hcmdpbiA9XG4gICAgICB0aGlzLl9tZXRyaWNzQ2FjaGUuZ2V0TWFyZ2luU2l6ZSh0aGlzLl9hbmNob3JJZHgpID8/XG4gICAgICB0aGlzLl9tZXRyaWNzQ2FjaGUuYXZlcmFnZU1hcmdpblNpemU7XG4gICAgY29uc3QgYW5jaG9yVHJhaWxpbmdNYXJnaW4gPVxuICAgICAgdGhpcy5fbWV0cmljc0NhY2hlLmdldE1hcmdpblNpemUodGhpcy5fYW5jaG9ySWR4ICsgMSkgPz9cbiAgICAgIHRoaXMuX21ldHJpY3NDYWNoZS5hdmVyYWdlTWFyZ2luU2l6ZTtcblxuICAgIGlmICh0aGlzLl9hbmNob3JJZHggPT09IDApIHtcbiAgICAgIHRoaXMuX2FuY2hvclBvcyA9IGFuY2hvckxlYWRpbmdNYXJnaW47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2FuY2hvcklkeCA9PT0gdGhpcy5pdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLl9hbmNob3JQb3MgPSB0aGlzLl9zY3JvbGxTaXplIC0gYW5jaG9yVHJhaWxpbmdNYXJnaW4gLSBhbmNob3JTaXplO1xuICAgIH1cblxuICAgIC8vIEFuY2hvciBtaWdodCBiZSBvdXRzaWRlIGJvdW5kcywgc28gcHJlZmVyIGNvcnJlY3RpbmcgdGhlIGVycm9yIGFuZCBrZWVwXG4gICAgLy8gdGhhdCBhbmNob3JJZHguXG4gICAgbGV0IGFuY2hvckVyciA9IDA7XG5cbiAgICBpZiAodGhpcy5fYW5jaG9yUG9zICsgYW5jaG9yU2l6ZSArIGFuY2hvclRyYWlsaW5nTWFyZ2luIDwgbG93ZXIpIHtcbiAgICAgIGFuY2hvckVyciA9IGxvd2VyIC0gKHRoaXMuX2FuY2hvclBvcyArIGFuY2hvclNpemUgKyBhbmNob3JUcmFpbGluZ01hcmdpbik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2FuY2hvclBvcyAtIGFuY2hvckxlYWRpbmdNYXJnaW4gPiB1cHBlcikge1xuICAgICAgYW5jaG9yRXJyID0gdXBwZXIgLSAodGhpcy5fYW5jaG9yUG9zIC0gYW5jaG9yTGVhZGluZ01hcmdpbik7XG4gICAgfVxuXG4gICAgaWYgKGFuY2hvckVycikge1xuICAgICAgdGhpcy5fc2Nyb2xsUG9zaXRpb24gLT0gYW5jaG9yRXJyO1xuICAgICAgbG93ZXIgLT0gYW5jaG9yRXJyO1xuICAgICAgdXBwZXIgLT0gYW5jaG9yRXJyO1xuICAgICAgdGhpcy5fc2Nyb2xsRXJyb3IgKz0gYW5jaG9yRXJyO1xuICAgIH1cblxuICAgIGl0ZW1zLnNldCh0aGlzLl9hbmNob3JJZHgsIHtwb3M6IHRoaXMuX2FuY2hvclBvcywgc2l6ZTogYW5jaG9yU2l6ZX0pO1xuXG4gICAgdGhpcy5fZmlyc3QgPSB0aGlzLl9sYXN0ID0gdGhpcy5fYW5jaG9ySWR4O1xuICAgIHRoaXMuX3BoeXNpY2FsTWluID0gdGhpcy5fYW5jaG9yUG9zIC0gYW5jaG9yTGVhZGluZ01hcmdpbjtcbiAgICB0aGlzLl9waHlzaWNhbE1heCA9IHRoaXMuX2FuY2hvclBvcyArIGFuY2hvclNpemUgKyBhbmNob3JUcmFpbGluZ01hcmdpbjtcblxuICAgIHdoaWxlICh0aGlzLl9waHlzaWNhbE1pbiA+IGxvd2VyICYmIHRoaXMuX2ZpcnN0ID4gMCkge1xuICAgICAgbGV0IHNpemUgPSB0aGlzLl9nZXRTaXplKC0tdGhpcy5fZmlyc3QpO1xuICAgICAgaWYgKHNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zdGFibGUgPSBmYWxzZTtcbiAgICAgICAgc2l6ZSA9IHRoaXMuX2dldEF2ZXJhZ2VTaXplKCk7XG4gICAgICB9XG4gICAgICBsZXQgbWFyZ2luID0gdGhpcy5fbWV0cmljc0NhY2hlLmdldE1hcmdpblNpemUodGhpcy5fZmlyc3QpO1xuICAgICAgaWYgKG1hcmdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3N0YWJsZSA9IGZhbHNlO1xuICAgICAgICBtYXJnaW4gPSB0aGlzLl9tZXRyaWNzQ2FjaGUuYXZlcmFnZU1hcmdpblNpemU7XG4gICAgICB9XG4gICAgICB0aGlzLl9waHlzaWNhbE1pbiAtPSBzaXplO1xuICAgICAgY29uc3QgcG9zID0gdGhpcy5fcGh5c2ljYWxNaW47XG4gICAgICBpdGVtcy5zZXQodGhpcy5fZmlyc3QsIHtwb3MsIHNpemV9KTtcbiAgICAgIHRoaXMuX3BoeXNpY2FsTWluIC09IG1hcmdpbjtcbiAgICAgIGlmICh0aGlzLl9zdGFibGUgPT09IGZhbHNlICYmIHRoaXMuX2VzdGltYXRlID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAodGhpcy5fcGh5c2ljYWxNYXggPCB1cHBlciAmJiB0aGlzLl9sYXN0IDwgdGhpcy5pdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICBsZXQgc2l6ZSA9IHRoaXMuX2dldFNpemUoKyt0aGlzLl9sYXN0KTtcbiAgICAgIGlmIChzaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fc3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHNpemUgPSB0aGlzLl9nZXRBdmVyYWdlU2l6ZSgpO1xuICAgICAgfVxuICAgICAgbGV0IG1hcmdpbiA9IHRoaXMuX21ldHJpY3NDYWNoZS5nZXRNYXJnaW5TaXplKHRoaXMuX2xhc3QpO1xuICAgICAgaWYgKG1hcmdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3N0YWJsZSA9IGZhbHNlO1xuICAgICAgICBtYXJnaW4gPSB0aGlzLl9tZXRyaWNzQ2FjaGUuYXZlcmFnZU1hcmdpblNpemU7XG4gICAgICB9XG4gICAgICBjb25zdCBwb3MgPSB0aGlzLl9waHlzaWNhbE1heDtcbiAgICAgIGl0ZW1zLnNldCh0aGlzLl9sYXN0LCB7cG9zLCBzaXplfSk7XG4gICAgICB0aGlzLl9waHlzaWNhbE1heCArPSBzaXplICsgbWFyZ2luO1xuICAgICAgaWYgKCF0aGlzLl9zdGFibGUgJiYgIXRoaXMuX2VzdGltYXRlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoaXMgaGFuZGxlcyB0aGUgY2FzZXMgd2hlcmUgd2Ugd2VyZSByZWx5aW5nIG9uIGVzdGltYXRlZCBzaXplcy5cbiAgICBjb25zdCBleHRlbnRFcnIgPSB0aGlzLl9jYWxjdWxhdGVFcnJvcigpO1xuICAgIGlmIChleHRlbnRFcnIpIHtcbiAgICAgIHRoaXMuX3BoeXNpY2FsTWluIC09IGV4dGVudEVycjtcbiAgICAgIHRoaXMuX3BoeXNpY2FsTWF4IC09IGV4dGVudEVycjtcbiAgICAgIHRoaXMuX2FuY2hvclBvcyAtPSBleHRlbnRFcnI7XG4gICAgICB0aGlzLl9zY3JvbGxQb3NpdGlvbiAtPSBleHRlbnRFcnI7XG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiAoaXRlbS5wb3MgLT0gZXh0ZW50RXJyKSk7XG4gICAgICB0aGlzLl9zY3JvbGxFcnJvciArPSBleHRlbnRFcnI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YWJsZSkge1xuICAgICAgdGhpcy5fbmV3UGh5c2ljYWxJdGVtcyA9IHRoaXMuX3BoeXNpY2FsSXRlbXM7XG4gICAgICB0aGlzLl9uZXdQaHlzaWNhbEl0ZW1zLmNsZWFyKCk7XG4gICAgICB0aGlzLl9waHlzaWNhbEl0ZW1zID0gaXRlbXM7XG4gICAgfVxuICB9XG5cbiAgX2NhbGN1bGF0ZUVycm9yKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuX2ZpcnN0ID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGh5c2ljYWxNaW47XG4gICAgfSBlbHNlIGlmICh0aGlzLl9waHlzaWNhbE1pbiA8PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGh5c2ljYWxNaW4gLSB0aGlzLl9maXJzdCAqIHRoaXMuX2RlbHRhO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGFzdCA9PT0gdGhpcy5pdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGh5c2ljYWxNYXggLSB0aGlzLl9zY3JvbGxTaXplO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fcGh5c2ljYWxNYXggPj0gdGhpcy5fc2Nyb2xsU2l6ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fcGh5c2ljYWxNYXggLVxuICAgICAgICB0aGlzLl9zY3JvbGxTaXplICtcbiAgICAgICAgKHRoaXMuaXRlbXMubGVuZ3RoIC0gMSAtIHRoaXMuX2xhc3QpICogdGhpcy5fZGVsdGFcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgb3ZlcnJpZGUgX3JlZmxvdygpIHtcbiAgICBjb25zdCB7X2ZpcnN0LCBfbGFzdH0gPSB0aGlzO1xuICAgIHN1cGVyLl9yZWZsb3coKTtcbiAgICBpZiAoXG4gICAgICAodGhpcy5fZmlyc3QgPT09IC0xICYmIHRoaXMuX2xhc3QgPT0gLTEpIHx8XG4gICAgICAodGhpcy5fZmlyc3QgPT09IF9maXJzdCAmJiB0aGlzLl9sYXN0ID09PSBfbGFzdClcbiAgICApIHtcbiAgICAgIHRoaXMuX3Jlc2V0UmVmbG93U3RhdGUoKTtcbiAgICB9XG4gIH1cblxuICBfcmVzZXRSZWZsb3dTdGF0ZSgpIHtcbiAgICB0aGlzLl9hbmNob3JJZHggPSBudWxsO1xuICAgIHRoaXMuX2FuY2hvclBvcyA9IG51bGw7XG4gICAgdGhpcy5fc3RhYmxlID0gdHJ1ZTtcbiAgfVxuXG4gIF91cGRhdGVTY3JvbGxTaXplKCkge1xuICAgIGNvbnN0IHthdmVyYWdlTWFyZ2luU2l6ZX0gPSB0aGlzLl9tZXRyaWNzQ2FjaGU7XG4gICAgdGhpcy5fc2Nyb2xsU2l6ZSA9IE1hdGgubWF4KFxuICAgICAgMSxcbiAgICAgIHRoaXMuaXRlbXMubGVuZ3RoICogKGF2ZXJhZ2VNYXJnaW5TaXplICsgdGhpcy5fZ2V0QXZlcmFnZVNpemUoKSkgK1xuICAgICAgICBhdmVyYWdlTWFyZ2luU2l6ZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXZlcmFnZSBzaXplIChwcmVjaXNlIG9yIGVzdGltYXRlZCkgb2YgYW4gaXRlbSBpbiB0aGUgc2Nyb2xsaW5nIGRpcmVjdGlvbixcbiAgICogaW5jbHVkaW5nIGFueSBzdXJyb3VuZGluZyBzcGFjZS5cbiAgICovXG4gIHByb3RlY3RlZCBnZXQgX2RlbHRhKCk6IG51bWJlciB7XG4gICAgY29uc3Qge2F2ZXJhZ2VNYXJnaW5TaXplfSA9IHRoaXMuX21ldHJpY3NDYWNoZTtcbiAgICByZXR1cm4gdGhpcy5fZ2V0QXZlcmFnZVNpemUoKSArIGF2ZXJhZ2VNYXJnaW5TaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRvcCBhbmQgbGVmdCBwb3NpdGlvbmluZyBvZiB0aGUgaXRlbSBhdCBpZHguXG4gICAqL1xuICBfZ2V0SXRlbVBvc2l0aW9uKGlkeDogbnVtYmVyKTogUG9zaXRpb25zIHtcbiAgICByZXR1cm4ge1xuICAgICAgW3RoaXMuX3Bvc2l0aW9uRGltXTogdGhpcy5fZ2V0UG9zaXRpb24oaWR4KSxcbiAgICAgIFt0aGlzLl9zZWNvbmRhcnlQb3NpdGlvbkRpbV06IDAsXG4gICAgICBbb2Zmc2V0KHRoaXMuZGlyZWN0aW9uKV06IC0oXG4gICAgICAgIHRoaXMuX21ldHJpY3NDYWNoZS5nZXRMZWFkaW5nTWFyZ2luVmFsdWUoaWR4LCB0aGlzLmRpcmVjdGlvbikgPz9cbiAgICAgICAgdGhpcy5fbWV0cmljc0NhY2hlLmF2ZXJhZ2VNYXJnaW5TaXplXG4gICAgICApLFxuICAgIH0gYXMgUG9zaXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGl0ZW0gYXQgaWR4LlxuICAgKi9cbiAgX2dldEl0ZW1TaXplKGlkeDogbnVtYmVyKTogU2l6ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFt0aGlzLl9zaXplRGltXTogdGhpcy5fZ2V0U2l6ZShpZHgpIHx8IHRoaXMuX2dldEF2ZXJhZ2VTaXplKCksXG4gICAgICBbdGhpcy5fc2Vjb25kYXJ5U2l6ZURpbV06IHRoaXMuX2l0ZW1TaXplW3RoaXMuX3NlY29uZGFyeVNpemVEaW1dLFxuICAgIH0gYXMgU2l6ZTtcbiAgfVxuXG4gIF92aWV3RGltMkNoYW5nZWQoKSB7XG4gICAgdGhpcy5fbWV0cmljc0NhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVSZWZsb3coKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@lit-labs/virtualizer/layouts/flow.js\n");

/***/ }),

/***/ "./node_modules/@lit-labs/virtualizer/layouts/shared/SizeCache.js":
/*!************************************************************************!*\
  !*** ./node_modules/@lit-labs/virtualizer/layouts/shared/SizeCache.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SizeCache: function() { return /* binding */ SizeCache; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar SizeCache = /*#__PURE__*/function () {\n  function SizeCache(config) {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, SizeCache);\n    this._map = new Map();\n    this._roundAverageSize = false;\n    this.totalSize = 0;\n    if ((config === null || config === void 0 ? void 0 : config.roundAverageSize) === true) {\n      this._roundAverageSize = true;\n    }\n  }\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(SizeCache, [{\n    key: \"set\",\n    value: function set(index, value) {\n      var prev = this._map.get(index) || 0;\n      this._map.set(index, value);\n      this.totalSize += value - prev;\n    }\n  }, {\n    key: \"averageSize\",\n    get: function get() {\n      if (this._map.size > 0) {\n        var average = this.totalSize / this._map.size;\n        return this._roundAverageSize ? Math.round(average) : average;\n      }\n      return 0;\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize(index) {\n      return this._map.get(index);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._map.clear();\n      this.totalSize = 0;\n    }\n  }]);\n  return SizeCache;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGxpdC1sYWJzL3ZpcnR1YWxpemVyL2xheW91dHMvc2hhcmVkL1NpemVDYWNoZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OztBQVVBO0FBS0E7QUFBQTtBQUpBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4uLy4uL3NyYy9sYXlvdXRzL3NoYXJlZC9TaXplQ2FjaGUudHM/ZWU5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBTaXplQ2FjaGVDb25maWcge1xuICByb3VuZEF2ZXJhZ2VTaXplPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFNpemVDYWNoZSB7XG4gIHByaXZhdGUgX21hcDogTWFwPG51bWJlciB8IHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfcm91bmRBdmVyYWdlU2l6ZSA9IGZhbHNlO1xuICB0b3RhbFNpemUgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZz86IFNpemVDYWNoZUNvbmZpZykge1xuICAgIGlmIChjb25maWc/LnJvdW5kQXZlcmFnZVNpemUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3JvdW5kQXZlcmFnZVNpemUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNldChpbmRleDogbnVtYmVyIHwgc3RyaW5nLCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcHJldiA9IHRoaXMuX21hcC5nZXQoaW5kZXgpIHx8IDA7XG4gICAgdGhpcy5fbWFwLnNldChpbmRleCwgdmFsdWUpO1xuICAgIHRoaXMudG90YWxTaXplICs9IHZhbHVlIC0gcHJldjtcbiAgfVxuXG4gIGdldCBhdmVyYWdlU2l6ZSgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLl9tYXAuc2l6ZSA+IDApIHtcbiAgICAgIGNvbnN0IGF2ZXJhZ2UgPSB0aGlzLnRvdGFsU2l6ZSAvIHRoaXMuX21hcC5zaXplO1xuICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kQXZlcmFnZVNpemUgPyBNYXRoLnJvdW5kKGF2ZXJhZ2UpIDogYXZlcmFnZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBnZXRTaXplKGluZGV4OiBudW1iZXIgfCBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmdldChpbmRleCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICB0aGlzLnRvdGFsU2l6ZSA9IDA7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@lit-labs/virtualizer/layouts/shared/SizeCache.js\n");

/***/ })

}]);