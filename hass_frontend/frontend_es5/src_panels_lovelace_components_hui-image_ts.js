"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_components_hui-image_ts"],{

/***/ "./src/common/util/parse-aspect-ratio.ts":
/*!***********************************************!*\
  !*** ./src/common/util/parse-aspect-ratio.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ parseAspectRatio; }\n/* harmony export */ });\n// Handle 16x9, 16:9, 1.78x1, 1.78:1, 1.78\n// Ignore everything else\nvar parseOrThrow = function parseOrThrow(num) {\n  var parsed = parseFloat(num);\n  if (isNaN(parsed)) {\n    throw new Error(\"\".concat(num, \" is not a number\"));\n  }\n  return parsed;\n};\nfunction parseAspectRatio(input) {\n  if (!input) {\n    return null;\n  }\n  try {\n    if (input.endsWith(\"%\")) {\n      return {\n        w: 100,\n        h: parseOrThrow(input.substr(0, input.length - 1))\n      };\n    }\n    var arr = input.replace(\":\", \"x\").split(\"x\");\n    if (arr.length === 0) {\n      return null;\n    }\n    return arr.length === 1 ? {\n      w: parseOrThrow(arr[0]),\n      h: 1\n    } : {\n      w: parseOrThrow(arr[0]),\n      h: parseOrThrow(arr[1])\n    };\n  } catch (err) {\n    // Ignore the error\n  }\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvcGFyc2UtYXNwZWN0LXJhdGlvLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vdXRpbC9wYXJzZS1hc3BlY3QtcmF0aW8udHM/MWIyYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIYW5kbGUgMTZ4OSwgMTY6OSwgMS43OHgxLCAxLjc4OjEsIDEuNzhcbi8vIElnbm9yZSBldmVyeXRoaW5nIGVsc2VcbmNvbnN0IHBhcnNlT3JUaHJvdyA9IChudW0pID0+IHtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdChudW0pO1xuICBpZiAoaXNOYU4ocGFyc2VkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtudW19IGlzIG5vdCBhIG51bWJlcmApO1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUFzcGVjdFJhdGlvKGlucHV0OiBzdHJpbmcpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKGlucHV0LmVuZHNXaXRoKFwiJVwiKSkge1xuICAgICAgcmV0dXJuIHsgdzogMTAwLCBoOiBwYXJzZU9yVGhyb3coaW5wdXQuc3Vic3RyKDAsIGlucHV0Lmxlbmd0aCAtIDEpKSB9O1xuICAgIH1cblxuICAgIGNvbnN0IGFyciA9IGlucHV0LnJlcGxhY2UoXCI6XCIsIFwieFwiKS5zcGxpdChcInhcIik7XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIubGVuZ3RoID09PSAxXG4gICAgICA/IHsgdzogcGFyc2VPclRocm93KGFyclswXSksIGg6IDEgfVxuICAgICAgOiB7IHc6IHBhcnNlT3JUaHJvdyhhcnJbMF0pLCBoOiBwYXJzZU9yVGhyb3coYXJyWzFdKSB9O1xuICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgIC8vIElnbm9yZSB0aGUgZXJyb3JcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/util/parse-aspect-ratio.ts\n");

/***/ }),

/***/ "./src/components/ha-camera-stream.ts":
/*!********************************************!*\
  !*** ./src/components/ha-camera-stream.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaCameraStream: function() { return /* binding */ HaCameraStream; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _ha_hls_player__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ha-hls-player */ \"./src/components/ha-hls-player.ts\");\n/* harmony import */ var _ha_web_rtc_player__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ha-web-rtc-player */ \"./src/components/ha-web-rtc-player.ts\");\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\n\n\n\n\n\n\n\n\nvar HaCameraStream = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.customElement)(\"ha-camera-stream\")], function (_initialize, _LitElement) {\n  var HaCameraStream = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(HaCameraStream, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(HaCameraStream);\n    function HaCameraStream() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, HaCameraStream);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(HaCameraStream);\n  }(_LitElement);\n  return {\n    F: HaCameraStream,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"controls\"\n      })],\n      key: \"controls\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"muted\"\n      })],\n      key: \"muted\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"allow-exoplayer\"\n      })],\n      key: \"allowExoPlayer\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_posterUrl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_forceMJPEG\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_url\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_connected\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value:\n      // Video background image before its loaded\n\n      // We keep track if we should force MJPEG if there was a failure\n      // to get the HLS stream url. This is reset if we change entities.\n      function willUpdate(changedProps) {\n        var _changedProps$get;\n        if (changedProps.has(\"stateObj\") && !this._shouldRenderMJPEG && this.stateObj && ((_changedProps$get = changedProps.get(\"stateObj\")) === null || _changedProps$get === void 0 ? void 0 : _changedProps$get.entity_id) !== this.stateObj.entity_id) {\n          this._getPosterUrl();\n          if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_16__.STREAM_TYPE_HLS) {\n            this._forceMJPEG = undefined;\n            this._url = undefined;\n            this._getStreamUrl();\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HaCameraStream.prototype), \"connectedCallback\", this).call(this);\n        this._connected = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HaCameraStream.prototype), \"disconnectedCallback\", this).call(this);\n        this._connected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.stateObj) {\n          return lit__WEBPACK_IMPORTED_MODULE_11__.nothing;\n        }\n        if ( false || this._shouldRenderMJPEG) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<img\\n        .src=\", \"\\n        .alt=\", \"\\n      />\"])),  false ? 0 : this._connected ? (0,_data_camera__WEBPACK_IMPORTED_MODULE_16__.computeMJPEGStreamUrl)(this.stateObj) : \"\", \"Preview of the \".concat((0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_14__.computeStateName)(this.stateObj), \" camera.\"));\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_16__.STREAM_TYPE_HLS) {\n          return this._url ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<ha-hls-player\\n            autoplay\\n            playsinline\\n            .allowExoPlayer=\", \"\\n            .muted=\", \"\\n            .controls=\", \"\\n            .hass=\", \"\\n            .url=\", \"\\n            .posterUrl=\", \"\\n          ></ha-hls-player>\"])), this.allowExoPlayer, this.muted, this.controls, this.hass, this._url, this._posterUrl) : lit__WEBPACK_IMPORTED_MODULE_11__.nothing;\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_16__.STREAM_TYPE_WEB_RTC) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<ha-web-rtc-player\\n        autoplay\\n        playsinline\\n        .muted=\", \"\\n        .controls=\", \"\\n        .hass=\", \"\\n        .entityid=\", \"\\n        .posterUrl=\", \"\\n      ></ha-web-rtc-player>\"])), this.muted, this.controls, this.hass, this.stateObj.entity_id, this._posterUrl);\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_11__.nothing;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_shouldRenderMJPEG\",\n      value: function _shouldRenderMJPEG() {\n        if (this._forceMJPEG === this.stateObj.entity_id) {\n          // Fallback when unable to fetch stream url\n          return true;\n        }\n        if (!(0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_15__.supportsFeature)(this.stateObj, _data_camera__WEBPACK_IMPORTED_MODULE_16__.CAMERA_SUPPORT_STREAM)) {\n          // Steaming is not supported by the camera so fallback to MJPEG stream\n          return true;\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_16__.STREAM_TYPE_WEB_RTC) {\n          // Browser support required for WebRTC\n          return typeof RTCPeerConnection === \"undefined\";\n        }\n        // Server side stream component required for HLS\n        return !(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_13__.isComponentLoaded)(this.hass, \"stream\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getPosterUrl\",\n      value: function () {\n        var _getPosterUrl2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return (0,_data_camera__WEBPACK_IMPORTED_MODULE_16__.fetchThumbnailUrlWithCache)(this.hass, this.stateObj.entity_id, this.clientWidth, this.clientHeight);\n              case 3:\n                this._posterUrl = _context.sent;\n                _context.next = 9;\n                break;\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n                // poster url is optional\n                this._posterUrl = undefined;\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[0, 6]]);\n        }));\n        function _getPosterUrl() {\n          return _getPosterUrl2.apply(this, arguments);\n        }\n        return _getPosterUrl;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_getStreamUrl\",\n      value: function () {\n        var _getStreamUrl2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee2() {\n          var _yield$fetchStreamUrl, url;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return (0,_data_camera__WEBPACK_IMPORTED_MODULE_16__.fetchStreamUrl)(this.hass, this.stateObj.entity_id);\n              case 3:\n                _yield$fetchStreamUrl = _context2.sent;\n                url = _yield$fetchStreamUrl.url;\n                this._url = url;\n                _context2.next = 12;\n                break;\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                // Fails if we were unable to get a stream\n                // eslint-disable-next-line\n                console.error(_context2.t0);\n                this._forceMJPEG = this.stateObj.entity_id;\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[0, 8]]);\n        }));\n        function _getStreamUrl() {\n          return _getStreamUrl2.apply(this, arguments);\n        }\n        return _getStreamUrl;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.css)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n      :host,\\n      img {\\n        display: block;\\n      }\\n\\n      img {\\n        width: 100%;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_11__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVEE7O0FBR0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFIQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQVVBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtLnRzP2QzMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVOYW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9uYW1lXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ZlYXR1cmUgfSBmcm9tIFwiLi4vY29tbW9uL2VudGl0eS9zdXBwb3J0cy1mZWF0dXJlXCI7XG5pbXBvcnQge1xuICBDYW1lcmFFbnRpdHksXG4gIENBTUVSQV9TVVBQT1JUX1NUUkVBTSxcbiAgY29tcHV0ZU1KUEVHU3RyZWFtVXJsLFxuICBmZXRjaFN0cmVhbVVybCxcbiAgZmV0Y2hUaHVtYm5haWxVcmxXaXRoQ2FjaGUsXG4gIFNUUkVBTV9UWVBFX0hMUyxcbiAgU1RSRUFNX1RZUEVfV0VCX1JUQyxcbn0gZnJvbSBcIi4uL2RhdGEvY2FtZXJhXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWhscy1wbGF5ZXJcIjtcbmltcG9ydCBcIi4vaGEtd2ViLXJ0Yy1wbGF5ZXJcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1jYW1lcmEtc3RyZWFtXCIpXG5leHBvcnQgY2xhc3MgSGFDYW1lcmFTdHJlYW0gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgc3RhdGVPYmo/OiBDYW1lcmFFbnRpdHk7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImNvbnRyb2xzXCIgfSlcbiAgcHVibGljIGNvbnRyb2xzID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcIm11dGVkXCIgfSlcbiAgcHVibGljIG11dGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImFsbG93LWV4b3BsYXllclwiIH0pXG4gIHB1YmxpYyBhbGxvd0V4b1BsYXllciA9IGZhbHNlO1xuXG4gIC8vIFZpZGVvIGJhY2tncm91bmQgaW1hZ2UgYmVmb3JlIGl0cyBsb2FkZWRcbiAgQHN0YXRlKCkgcHJpdmF0ZSBfcG9zdGVyVXJsPzogc3RyaW5nO1xuXG4gIC8vIFdlIGtlZXAgdHJhY2sgaWYgd2Ugc2hvdWxkIGZvcmNlIE1KUEVHIGlmIHRoZXJlIHdhcyBhIGZhaWx1cmVcbiAgLy8gdG8gZ2V0IHRoZSBITFMgc3RyZWFtIHVybC4gVGhpcyBpcyByZXNldCBpZiB3ZSBjaGFuZ2UgZW50aXRpZXMuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ZvcmNlTUpQRUc/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfdXJsPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwic3RhdGVPYmpcIikgJiZcbiAgICAgICF0aGlzLl9zaG91bGRSZW5kZXJNSlBFRyAmJlxuICAgICAgdGhpcy5zdGF0ZU9iaiAmJlxuICAgICAgKGNoYW5nZWRQcm9wcy5nZXQoXCJzdGF0ZU9ialwiKSBhcyBDYW1lcmFFbnRpdHkgfCB1bmRlZmluZWQpPy5lbnRpdHlfaWQgIT09XG4gICAgICAgIHRoaXMuc3RhdGVPYmouZW50aXR5X2lkXG4gICAgKSB7XG4gICAgICB0aGlzLl9nZXRQb3N0ZXJVcmwoKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlT2JqIS5hdHRyaWJ1dGVzLmZyb250ZW5kX3N0cmVhbV90eXBlID09PSBTVFJFQU1fVFlQRV9ITFMpIHtcbiAgICAgICAgdGhpcy5fZm9yY2VNSlBFRyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXJsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9nZXRTdHJlYW1VcmwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZU9iaikge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuICAgIGlmIChfX0RFTU9fXyB8fCB0aGlzLl9zaG91bGRSZW5kZXJNSlBFRykge1xuICAgICAgcmV0dXJuIGh0bWxgPGltZ1xuICAgICAgICAuc3JjPSR7X19ERU1PX19cbiAgICAgICAgICA/IHRoaXMuc3RhdGVPYmouYXR0cmlidXRlcy5lbnRpdHlfcGljdHVyZSFcbiAgICAgICAgICA6IHRoaXMuX2Nvbm5lY3RlZFxuICAgICAgICAgID8gY29tcHV0ZU1KUEVHU3RyZWFtVXJsKHRoaXMuc3RhdGVPYmopXG4gICAgICAgICAgOiBcIlwifVxuICAgICAgICAuYWx0PSR7YFByZXZpZXcgb2YgdGhlICR7Y29tcHV0ZVN0YXRlTmFtZSh0aGlzLnN0YXRlT2JqKX0gY2FtZXJhLmB9XG4gICAgICAvPmA7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlT2JqLmF0dHJpYnV0ZXMuZnJvbnRlbmRfc3RyZWFtX3R5cGUgPT09IFNUUkVBTV9UWVBFX0hMUykge1xuICAgICAgcmV0dXJuIHRoaXMuX3VybFxuICAgICAgICA/IGh0bWxgPGhhLWhscy1wbGF5ZXJcbiAgICAgICAgICAgIGF1dG9wbGF5XG4gICAgICAgICAgICBwbGF5c2lubGluZVxuICAgICAgICAgICAgLmFsbG93RXhvUGxheWVyPSR7dGhpcy5hbGxvd0V4b1BsYXllcn1cbiAgICAgICAgICAgIC5tdXRlZD0ke3RoaXMubXV0ZWR9XG4gICAgICAgICAgICAuY29udHJvbHM9JHt0aGlzLmNvbnRyb2xzfVxuICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAudXJsPSR7dGhpcy5fdXJsfVxuICAgICAgICAgICAgLnBvc3RlclVybD0ke3RoaXMuX3Bvc3RlclVybH1cbiAgICAgICAgICA+PC9oYS1obHMtcGxheWVyPmBcbiAgICAgICAgOiBub3RoaW5nO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZU9iai5hdHRyaWJ1dGVzLmZyb250ZW5kX3N0cmVhbV90eXBlID09PSBTVFJFQU1fVFlQRV9XRUJfUlRDKSB7XG4gICAgICByZXR1cm4gaHRtbGA8aGEtd2ViLXJ0Yy1wbGF5ZXJcbiAgICAgICAgYXV0b3BsYXlcbiAgICAgICAgcGxheXNpbmxpbmVcbiAgICAgICAgLm11dGVkPSR7dGhpcy5tdXRlZH1cbiAgICAgICAgLmNvbnRyb2xzPSR7dGhpcy5jb250cm9sc31cbiAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgIC5lbnRpdHlpZD0ke3RoaXMuc3RhdGVPYmouZW50aXR5X2lkfVxuICAgICAgICAucG9zdGVyVXJsPSR7dGhpcy5fcG9zdGVyVXJsfVxuICAgICAgPjwvaGEtd2ViLXJ0Yy1wbGF5ZXI+YDtcbiAgICB9XG4gICAgcmV0dXJuIG5vdGhpbmc7XG4gIH1cblxuICBwcml2YXRlIGdldCBfc2hvdWxkUmVuZGVyTUpQRUcoKSB7XG4gICAgaWYgKHRoaXMuX2ZvcmNlTUpQRUcgPT09IHRoaXMuc3RhdGVPYmohLmVudGl0eV9pZCkge1xuICAgICAgLy8gRmFsbGJhY2sgd2hlbiB1bmFibGUgdG8gZmV0Y2ggc3RyZWFtIHVybFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3VwcG9ydHNGZWF0dXJlKHRoaXMuc3RhdGVPYmohLCBDQU1FUkFfU1VQUE9SVF9TVFJFQU0pKSB7XG4gICAgICAvLyBTdGVhbWluZyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjYW1lcmEgc28gZmFsbGJhY2sgdG8gTUpQRUcgc3RyZWFtXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZU9iaiEuYXR0cmlidXRlcy5mcm9udGVuZF9zdHJlYW1fdHlwZSA9PT0gU1RSRUFNX1RZUEVfV0VCX1JUQ1xuICAgICkge1xuICAgICAgLy8gQnJvd3NlciBzdXBwb3J0IHJlcXVpcmVkIGZvciBXZWJSVENcbiAgICAgIHJldHVybiB0eXBlb2YgUlRDUGVlckNvbm5lY3Rpb24gPT09IFwidW5kZWZpbmVkXCI7XG4gICAgfVxuICAgIC8vIFNlcnZlciBzaWRlIHN0cmVhbSBjb21wb25lbnQgcmVxdWlyZWQgZm9yIEhMU1xuICAgIHJldHVybiAhaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzISwgXCJzdHJlYW1cIik7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9nZXRQb3N0ZXJVcmwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX3Bvc3RlclVybCA9IGF3YWl0IGZldGNoVGh1bWJuYWlsVXJsV2l0aENhY2hlKFxuICAgICAgICB0aGlzLmhhc3MhLFxuICAgICAgICB0aGlzLnN0YXRlT2JqIS5lbnRpdHlfaWQsXG4gICAgICAgIHRoaXMuY2xpZW50V2lkdGgsXG4gICAgICAgIHRoaXMuY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAvLyBwb3N0ZXIgdXJsIGlzIG9wdGlvbmFsXG4gICAgICB0aGlzLl9wb3N0ZXJVcmwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0U3RyZWFtVXJsKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHVybCB9ID0gYXdhaXQgZmV0Y2hTdHJlYW1VcmwoXG4gICAgICAgIHRoaXMuaGFzcyEsXG4gICAgICAgIHRoaXMuc3RhdGVPYmohLmVudGl0eV9pZFxuICAgICAgKTtcblxuICAgICAgdGhpcy5fdXJsID0gdXJsO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAvLyBGYWlscyBpZiB3ZSB3ZXJlIHVuYWJsZSB0byBnZXQgYSBzdHJlYW1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICB0aGlzLl9mb3JjZU1KUEVHID0gdGhpcy5zdGF0ZU9iaiEuZW50aXR5X2lkO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3QsXG4gICAgICBpbWcge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgaW1nIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtY2FtZXJhLXN0cmVhbVwiOiBIYUNhbWVyYVN0cmVhbTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-camera-stream.ts\n");

/***/ }),

/***/ "./src/components/ha-web-rtc-player.ts":
/*!*********************************************!*\
  !*** ./src/components/ha-web-rtc-player.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _data_rtsp_to_webrtc__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../data/rtsp_to_webrtc */ \"./src/data/rtsp_to_webrtc.ts\");\n/* harmony import */ var _ha_alert__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ha-alert */ \"./src/components/ha-alert.ts\");\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3;\n\n\n\n\n\n\n\n\n/**\n * A WebRTC stream is established by first sending an offer through a signal\n * path via an integration. An answer is returned, then the rest of the stream\n * is handled entirely client side.\n */\nvar HaWebRtcPlayer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.customElement)(\"ha-web-rtc-player\")], function (_initialize, _LitElement) {\n  var HaWebRtcPlayer = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(HaWebRtcPlayer, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(HaWebRtcPlayer);\n    function HaWebRtcPlayer() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, HaWebRtcPlayer);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(HaWebRtcPlayer);\n  }(_LitElement);\n  return {\n    F: HaWebRtcPlayer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"entityid\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"controls\"\n      })],\n      key: \"controls\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"muted\"\n      })],\n      key: \"muted\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"autoplay\"\n      })],\n      key: \"autoPlay\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        type: Boolean,\n        attribute: \"playsinline\"\n      })],\n      key: \"playsInline\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"posterUrl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.query)(\"#remote-stream\")],\n      key: \"_videoEl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_peerConnection\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_remoteStream\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value:\n      // don't cache this, as we remove it on disconnects\n\n      function render() {\n        if (this._error) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<ha-alert alert-type=\\\"error\\\">\", \"</ha-alert>\"])), this._error);\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n      <video\\n        id=\\\"remote-stream\\\"\\n        ?autoplay=\", \"\\n        .muted=\", \"\\n        ?playsinline=\", \"\\n        ?controls=\", \"\\n        .poster=\", \"\\n        @loadeddata=\", \"\\n      ></video>\\n    \"])), this.autoPlay, this.muted, this.playsInline, this.controls, this.posterUrl, this._loadedData);\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HaWebRtcPlayer.prototype), \"connectedCallback\", this).call(this);\n        if (this.hasUpdated) {\n          this._startWebRtc();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HaWebRtcPlayer.prototype), \"disconnectedCallback\", this).call(this);\n        this._cleanUp();\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProperties) {\n        if (!changedProperties.has(\"entityid\")) {\n          return;\n        }\n        if (!this._videoEl) {\n          return;\n        }\n        this._startWebRtc();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startWebRtc\",\n      value: function () {\n        var _startWebRtc2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee2() {\n          var _this2 = this;\n          var configuration, peerConnection, offerOptions, offer, candidates, iceResolver, offer_sdp, webRtcAnswer, remoteStream, remoteDesc;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                this._error = undefined;\n                _context2.next = 3;\n                return this._fetchPeerConfiguration();\n              case 3:\n                configuration = _context2.sent;\n                peerConnection = new RTCPeerConnection(configuration); // Some cameras (such as nest) require a data channel to establish a stream\n                // however, not used by any integrations.\n                peerConnection.createDataChannel(\"dataSendChannel\");\n                peerConnection.addTransceiver(\"audio\", {\n                  direction: \"recvonly\"\n                });\n                peerConnection.addTransceiver(\"video\", {\n                  direction: \"recvonly\"\n                });\n                offerOptions = {\n                  offerToReceiveAudio: true,\n                  offerToReceiveVideo: true\n                };\n                _context2.next = 11;\n                return peerConnection.createOffer(offerOptions);\n              case 11:\n                offer = _context2.sent;\n                _context2.next = 14;\n                return peerConnection.setLocalDescription(offer);\n              case 14:\n                candidates = \"\"; // Build an Offer SDP string with ice candidates\n                iceResolver = new Promise(function (resolve) {\n                  peerConnection.addEventListener(\"icecandidate\", /*#__PURE__*/function () {\n                    var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee(event) {\n                      return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n                        while (1) switch (_context.prev = _context.next) {\n                          case 0:\n                            if (event.candidate) {\n                              _context.next = 3;\n                              break;\n                            }\n                            resolve(); // Gathering complete\n                            return _context.abrupt(\"return\");\n                          case 3:\n                            candidates += \"a=\".concat(event.candidate.candidate, \"\\r\\n\");\n                          case 4:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }, _callee);\n                    }));\n                    return function (_x) {\n                      return _ref.apply(this, arguments);\n                    };\n                  }());\n                });\n                _context2.next = 18;\n                return iceResolver;\n              case 18:\n                offer_sdp = offer.sdp + candidates;\n                _context2.prev = 19;\n                _context2.next = 22;\n                return (0,_data_camera__WEBPACK_IMPORTED_MODULE_15__.handleWebRtcOffer)(this.hass, this.entityid, offer_sdp);\n              case 22:\n                webRtcAnswer = _context2.sent;\n                _context2.next = 30;\n                break;\n              case 25:\n                _context2.prev = 25;\n                _context2.t0 = _context2[\"catch\"](19);\n                this._error = \"Failed to start WebRTC stream: \" + _context2.t0.message;\n                peerConnection.close();\n                return _context2.abrupt(\"return\");\n              case 30:\n                // Setup callbacks to render remote stream once media tracks are discovered.\n                remoteStream = new MediaStream();\n                peerConnection.addEventListener(\"track\", function (event) {\n                  remoteStream.addTrack(event.track);\n                  _this2._videoEl.srcObject = remoteStream;\n                });\n                this._remoteStream = remoteStream;\n\n                // Initiate the stream with the remote device\n                remoteDesc = new RTCSessionDescription({\n                  type: \"answer\",\n                  sdp: webRtcAnswer.answer\n                });\n                _context2.prev = 34;\n                _context2.next = 37;\n                return peerConnection.setRemoteDescription(remoteDesc);\n              case 37:\n                _context2.next = 44;\n                break;\n              case 39:\n                _context2.prev = 39;\n                _context2.t1 = _context2[\"catch\"](34);\n                this._error = \"Failed to connect WebRTC stream: \" + _context2.t1.message;\n                peerConnection.close();\n                return _context2.abrupt(\"return\");\n              case 44:\n                this._peerConnection = peerConnection;\n              case 45:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[19, 25], [34, 39]]);\n        }));\n        function _startWebRtc() {\n          return _startWebRtc2.apply(this, arguments);\n        }\n        return _startWebRtc;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_fetchPeerConfiguration\",\n      value: function () {\n        var _fetchPeerConfiguration2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee3() {\n          var settings;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                if ((0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_13__.isComponentLoaded)(this.hass, \"rtsp_to_webrtc\")) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", {});\n              case 2:\n                _context3.next = 4;\n                return (0,_data_rtsp_to_webrtc__WEBPACK_IMPORTED_MODULE_16__.fetchWebRtcSettings)(this.hass);\n              case 4:\n                settings = _context3.sent;\n                if (!(!settings || !settings.stun_server)) {\n                  _context3.next = 7;\n                  break;\n                }\n                return _context3.abrupt(\"return\", {});\n              case 7:\n                return _context3.abrupt(\"return\", {\n                  iceServers: [{\n                    urls: [\"stun:\".concat(settings.stun_server)]\n                  }]\n                });\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this);\n        }));\n        function _fetchPeerConfiguration() {\n          return _fetchPeerConfiguration2.apply(this, arguments);\n        }\n        return _fetchPeerConfiguration;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_cleanUp\",\n      value: function _cleanUp() {\n        if (this._remoteStream) {\n          this._remoteStream.getTracks().forEach(function (track) {\n            track.stop();\n          });\n          this._remoteStream = undefined;\n        }\n        if (this._videoEl) {\n          this._videoEl.removeAttribute(\"src\");\n          this._videoEl.load();\n        }\n        if (this._peerConnection) {\n          this._peerConnection.close();\n          this._peerConnection = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadedData\",\n      value: function _loadedData() {\n        // @ts-ignore\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_14__.fireEvent)(this, \"load\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.css)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n      :host,\\n      video {\\n        display: block;\\n      }\\n\\n      video {\\n        width: 100%;\\n        max-height: var(--video-max-height, calc(100vh - 97px));\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_11__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS13ZWItcnRjLXBsYXllci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUZBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBV0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2hhLXdlYi1ydGMtcGxheWVyLnRzPzI2YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIFRlbXBsYXRlUmVzdWx0LFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUsIHF1ZXJ5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBpc0NvbXBvbmVudExvYWRlZCB9IGZyb20gXCIuLi9jb21tb24vY29uZmlnL2lzX2NvbXBvbmVudF9sb2FkZWRcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGhhbmRsZVdlYlJ0Y09mZmVyLCBXZWJSdGNBbnN3ZXIgfSBmcm9tIFwiLi4vZGF0YS9jYW1lcmFcIjtcbmltcG9ydCB7IGZldGNoV2ViUnRjU2V0dGluZ3MgfSBmcm9tIFwiLi4vZGF0YS9ydHNwX3RvX3dlYnJ0Y1wiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWFsZXJ0XCI7XG5cbi8qKlxuICogQSBXZWJSVEMgc3RyZWFtIGlzIGVzdGFibGlzaGVkIGJ5IGZpcnN0IHNlbmRpbmcgYW4gb2ZmZXIgdGhyb3VnaCBhIHNpZ25hbFxuICogcGF0aCB2aWEgYW4gaW50ZWdyYXRpb24uIEFuIGFuc3dlciBpcyByZXR1cm5lZCwgdGhlbiB0aGUgcmVzdCBvZiB0aGUgc3RyZWFtXG4gKiBpcyBoYW5kbGVkIGVudGlyZWx5IGNsaWVudCBzaWRlLlxuICovXG5AY3VzdG9tRWxlbWVudChcImhhLXdlYi1ydGMtcGxheWVyXCIpXG5jbGFzcyBIYVdlYlJ0Y1BsYXllciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZW50aXR5aWQhOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImNvbnRyb2xzXCIgfSlcbiAgcHVibGljIGNvbnRyb2xzID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcIm11dGVkXCIgfSlcbiAgcHVibGljIG11dGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImF1dG9wbGF5XCIgfSlcbiAgcHVibGljIGF1dG9QbGF5ID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcInBsYXlzaW5saW5lXCIgfSlcbiAgcHVibGljIHBsYXlzSW5saW5lID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHBvc3RlclVybCE6IHN0cmluZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lcnJvcj86IHN0cmluZztcblxuICAvLyBkb24ndCBjYWNoZSB0aGlzLCBhcyB3ZSByZW1vdmUgaXQgb24gZGlzY29ubmVjdHNcbiAgQHF1ZXJ5KFwiI3JlbW90ZS1zdHJlYW1cIikgcHJpdmF0ZSBfdmlkZW9FbCE6IEhUTUxWaWRlb0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBfcGVlckNvbm5lY3Rpb24/OiBSVENQZWVyQ29ubmVjdGlvbjtcblxuICBwcml2YXRlIF9yZW1vdGVTdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgIHJldHVybiBodG1sYDxoYS1hbGVydCBhbGVydC10eXBlPVwiZXJyb3JcIj4ke3RoaXMuX2Vycm9yfTwvaGEtYWxlcnQ+YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8dmlkZW9cbiAgICAgICAgaWQ9XCJyZW1vdGUtc3RyZWFtXCJcbiAgICAgICAgP2F1dG9wbGF5PSR7dGhpcy5hdXRvUGxheX1cbiAgICAgICAgLm11dGVkPSR7dGhpcy5tdXRlZH1cbiAgICAgICAgP3BsYXlzaW5saW5lPSR7dGhpcy5wbGF5c0lubGluZX1cbiAgICAgICAgP2NvbnRyb2xzPSR7dGhpcy5jb250cm9sc31cbiAgICAgICAgLnBvc3Rlcj0ke3RoaXMucG9zdGVyVXJsfVxuICAgICAgICBAbG9hZGVkZGF0YT0ke3RoaXMuX2xvYWRlZERhdGF9XG4gICAgICA+PC92aWRlbz5cbiAgICBgO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5fc3RhcnRXZWJSdGMoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9jbGVhblVwKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pIHtcbiAgICBpZiAoIWNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcImVudGl0eWlkXCIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5fdmlkZW9FbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zdGFydFdlYlJ0YygpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfc3RhcnRXZWJSdGMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5fZXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gYXdhaXQgdGhpcy5fZmV0Y2hQZWVyQ29uZmlndXJhdGlvbigpO1xuICAgIGNvbnN0IHBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24pO1xuICAgIC8vIFNvbWUgY2FtZXJhcyAoc3VjaCBhcyBuZXN0KSByZXF1aXJlIGEgZGF0YSBjaGFubmVsIHRvIGVzdGFibGlzaCBhIHN0cmVhbVxuICAgIC8vIGhvd2V2ZXIsIG5vdCB1c2VkIGJ5IGFueSBpbnRlZ3JhdGlvbnMuXG4gICAgcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoXCJkYXRhU2VuZENoYW5uZWxcIik7XG4gICAgcGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLCB7IGRpcmVjdGlvbjogXCJyZWN2b25seVwiIH0pO1xuICAgIHBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIiwgeyBkaXJlY3Rpb246IFwicmVjdm9ubHlcIiB9KTtcblxuICAgIGNvbnN0IG9mZmVyT3B0aW9uczogUlRDT2ZmZXJPcHRpb25zID0ge1xuICAgICAgb2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcbiAgICAgIG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBvZmZlcjogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCA9IGF3YWl0IHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKFxuICAgICAgb2ZmZXJPcHRpb25zXG4gICAgKTtcbiAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcblxuICAgIGxldCBjYW5kaWRhdGVzID0gXCJcIjsgLy8gQnVpbGQgYW4gT2ZmZXIgU0RQIHN0cmluZyB3aXRoIGljZSBjYW5kaWRhdGVzXG4gICAgY29uc3QgaWNlUmVzb2x2ZXIgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICByZXNvbHZlKCk7IC8vIEdhdGhlcmluZyBjb21wbGV0ZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYW5kaWRhdGVzICs9IGBhPSR7ZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZX1cXHJcXG5gO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYXdhaXQgaWNlUmVzb2x2ZXI7XG4gICAgY29uc3Qgb2ZmZXJfc2RwID0gb2ZmZXIuc2RwISArIGNhbmRpZGF0ZXM7XG5cbiAgICBsZXQgd2ViUnRjQW5zd2VyOiBXZWJSdGNBbnN3ZXI7XG4gICAgdHJ5IHtcbiAgICAgIHdlYlJ0Y0Fuc3dlciA9IGF3YWl0IGhhbmRsZVdlYlJ0Y09mZmVyKFxuICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgIHRoaXMuZW50aXR5aWQsXG4gICAgICAgIG9mZmVyX3NkcFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgdGhpcy5fZXJyb3IgPSBcIkZhaWxlZCB0byBzdGFydCBXZWJSVEMgc3RyZWFtOiBcIiArIGVyci5tZXNzYWdlO1xuICAgICAgcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBjYWxsYmFja3MgdG8gcmVuZGVyIHJlbW90ZSBzdHJlYW0gb25jZSBtZWRpYSB0cmFja3MgYXJlIGRpc2NvdmVyZWQuXG4gICAgY29uc3QgcmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcbiAgICAgIHRoaXMuX3ZpZGVvRWwuc3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgIH0pO1xuICAgIHRoaXMuX3JlbW90ZVN0cmVhbSA9IHJlbW90ZVN0cmVhbTtcblxuICAgIC8vIEluaXRpYXRlIHRoZSBzdHJlYW0gd2l0aCB0aGUgcmVtb3RlIGRldmljZVxuICAgIGNvbnN0IHJlbW90ZURlc2MgPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICBzZHA6IHdlYlJ0Y0Fuc3dlci5hbnN3ZXIsXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHJlbW90ZURlc2MpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aGlzLl9lcnJvciA9IFwiRmFpbGVkIHRvIGNvbm5lY3QgV2ViUlRDIHN0cmVhbTogXCIgKyBlcnIubWVzc2FnZTtcbiAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uID0gcGVlckNvbm5lY3Rpb247XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9mZXRjaFBlZXJDb25maWd1cmF0aW9uKCk6IFByb21pc2U8UlRDQ29uZmlndXJhdGlvbj4ge1xuICAgIGlmICghaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzISwgXCJydHNwX3RvX3dlYnJ0Y1wiKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGZldGNoV2ViUnRjU2V0dGluZ3ModGhpcy5oYXNzISk7XG4gICAgaWYgKCFzZXR0aW5ncyB8fCAhc2V0dGluZ3Muc3R1bl9zZXJ2ZXIpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGljZVNlcnZlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHVybHM6IFtgc3R1bjoke3NldHRpbmdzLnN0dW5fc2VydmVyIX1gXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFuVXAoKSB7XG4gICAgaWYgKHRoaXMuX3JlbW90ZVN0cmVhbSkge1xuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdmlkZW9FbCkge1xuICAgICAgdGhpcy5fdmlkZW9FbC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICB0aGlzLl92aWRlb0VsLmxvYWQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3BlZXJDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbG9hZGVkRGF0YSgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZmlyZUV2ZW50KHRoaXMsIFwibG9hZFwiKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3QsXG4gICAgICB2aWRlbyB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICB2aWRlbyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtaGVpZ2h0OiB2YXIoLS12aWRlby1tYXgtaGVpZ2h0LCBjYWxjKDEwMHZoIC0gOTdweCkpO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXdlYi1ydGMtcGxheWVyXCI6IEhhV2ViUnRjUGxheWVyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-web-rtc-player.ts\n");

/***/ }),

/***/ "./src/data/rtsp_to_webrtc.ts":
/*!************************************!*\
  !*** ./src/data/rtsp_to_webrtc.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchWebRtcSettings: function() { return /* binding */ fetchWebRtcSettings; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n\n\nvar fetchWebRtcSettings = /*#__PURE__*/function () {\n  var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee(hass) {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", hass.callWS({\n            type: \"rtsp_to_webrtc/get_settings\"\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function fetchWebRtcSettings(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9ydHNwX3RvX3dlYnJ0Yy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvcnRzcF90b193ZWJydGMudHM/MTU2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViUnRjU2V0dGluZ3Mge1xuICBzdHVuX3NlcnZlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGZldGNoV2ViUnRjU2V0dGluZ3MgPSBhc3luYyAoaGFzczogSG9tZUFzc2lzdGFudCkgPT5cbiAgaGFzcy5jYWxsV1M8V2ViUnRjU2V0dGluZ3M+KHtcbiAgICB0eXBlOiBcInJ0c3BfdG9fd2VicnRjL2dldF9zZXR0aW5nc1wiLFxuICB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/rtsp_to_webrtc.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/components/hui-image.ts":
/*!*****************************************************!*\
  !*** ./src/panels/lovelace/components/hui-image.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiImage: function() { return /* binding */ HuiImage; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_const__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../common/const */ \"./src/common/const.ts\");\n/* harmony import */ var _common_util_parse_aspect_ratio__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../common/util/parse-aspect-ratio */ \"./src/common/util/parse-aspect-ratio.ts\");\n/* harmony import */ var _components_ha_camera_stream__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/ha-camera-stream */ \"./src/components/ha-camera-stream.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\n\n\n\n\n\n\n\n\n\n\nvar UPDATE_INTERVAL = 10000;\nvar DEFAULT_FILTER = \"grayscale(100%)\";\nvar MAX_IMAGE_WIDTH = 640;\nvar ASPECT_RATIO_DEFAULT = 9 / 16;\nvar LoadState = /*#__PURE__*/function (LoadState) {\n  LoadState[LoadState[\"Loading\"] = 1] = \"Loading\";\n  LoadState[LoadState[\"Loaded\"] = 2] = \"Loaded\";\n  LoadState[LoadState[\"Error\"] = 3] = \"Error\";\n  return LoadState;\n}(LoadState || {});\nvar HuiImage = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_8__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.customElement)(\"hui-image\")], function (_initialize, _LitElement) {\n  var HuiImage = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(HuiImage, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(HuiImage);\n    function HuiImage() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, HuiImage);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(HuiImage);\n  }(_LitElement);\n  return {\n    F: HuiImage,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"entity\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"image\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"stateImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"cameraImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"cameraView\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"aspectRatio\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"filter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)({\n        attribute: false\n      })],\n      key: \"stateFilter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"darkModeImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.property)()],\n      key: \"darkModeFilter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_imageVisible\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_loadState\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_cameraImageSrc\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_loadedImageSrc\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_12__.state)()],\n      key: \"_lastImageHeight\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_intersectionObserver\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_cameraUpdater\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_ratio\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HuiImage.prototype), \"connectedCallback\", this).call(this);\n        if (this._loadState === undefined) {\n          this._loadState = LoadState.Loading;\n        }\n        if (this.cameraImage && this.cameraView !== \"live\") {\n          this._startIntersectionObserverOrUpdates();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(HuiImage.prototype), \"disconnectedCallback\", this).call(this);\n        this._stopUpdateCameraInterval();\n        this._stopIntersectionObserver();\n        this._imageVisible = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleIntersectionCallback\",\n      value: function handleIntersectionCallback(entries) {\n        this._imageVisible = entries[0].isIntersecting;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        if (changedProps.has(\"hass\")) {\n          var oldHass = changedProps.get(\"hass\");\n          if (this._shouldStartCameraUpdates(oldHass)) {\n            this._startIntersectionObserverOrUpdates();\n          } else if (!this.hass.connected) {\n            this._stopUpdateCameraInterval();\n            this._stopIntersectionObserver();\n            this._loadState = LoadState.Loading;\n            this._cameraImageSrc = undefined;\n            this._loadedImageSrc = undefined;\n          }\n        }\n        if (changedProps.has(\"_imageVisible\")) {\n          if (this._imageVisible) {\n            if (this._shouldStartCameraUpdates()) {\n              this._startUpdateCameraInterval();\n            }\n          } else {\n            this._stopUpdateCameraInterval();\n          }\n        }\n        if (changedProps.has(\"aspectRatio\")) {\n          this._ratio = this.aspectRatio ? (0,_common_util_parse_aspect_ratio__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(this.aspectRatio) : null;\n        }\n        if (this._loadState === LoadState.Loading && !this.cameraImage) {\n          this._loadState = LoadState.Loaded;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass) {\n          return lit__WEBPACK_IMPORTED_MODULE_11__.nothing;\n        }\n        var useRatio = Boolean(this._ratio && this._ratio.w > 0 && this._ratio.h > 0);\n        var stateObj = this.entity ? this.hass.states[this.entity] : undefined;\n        var entityState = stateObj ? stateObj.state : _data_entity__WEBPACK_IMPORTED_MODULE_20__.UNAVAILABLE;\n\n        // Figure out image source to use\n        var imageSrc;\n        var cameraObj;\n        // Track if we are we using a fallback image, used for filter.\n        var imageFallback = !this.stateImage;\n        if (this.cameraImage) {\n          if (this.cameraView === \"live\") {\n            cameraObj = this.hass.states[this.cameraImage];\n          } else {\n            imageSrc = this._cameraImageSrc;\n          }\n        } else if (this.stateImage) {\n          var stateImage = this.stateImage[entityState];\n          if (stateImage) {\n            imageSrc = stateImage;\n          } else {\n            imageSrc = this.image;\n            imageFallback = true;\n          }\n        } else if (this.darkModeImage && this.hass.themes.darkMode) {\n          imageSrc = this.darkModeImage;\n        } else {\n          imageSrc = this.image;\n        }\n        if (imageSrc) {\n          imageSrc = this.hass.hassUrl(imageSrc);\n        }\n\n        // Figure out filter to use\n        var filter = this.filter || \"\";\n        if (this.hass.themes.darkMode && this.darkModeFilter) {\n          filter += this.darkModeFilter;\n        }\n        if (this.stateFilter && this.stateFilter[entityState]) {\n          filter += this.stateFilter[entityState];\n        }\n        if (!filter && this.entity) {\n          var isOff = !stateObj || _common_const__WEBPACK_IMPORTED_MODULE_15__.STATES_OFF.includes(entityState);\n          filter = isOff && imageFallback ? DEFAULT_FILTER : \"\";\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n      <div\\n        style=\", \"\\n        class=\\\"container \", \"\\\"\\n      >\\n        \", \"\\n        \", \"\\n      </div>\\n    \"])), (0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_14__.styleMap)({\n          paddingBottom: useRatio ? \"\".concat((100 * this._ratio.h / this._ratio.w).toFixed(2), \"%\") : this._lastImageHeight === undefined ? \"56.25%\" : undefined,\n          backgroundImage: useRatio && this._loadedImageSrc ? \"url(\\\"\".concat(this._loadedImageSrc, \"\\\")\") : undefined,\n          filter: this._loadState === LoadState.Loaded || this.cameraView === \"live\" ? filter : undefined\n        }), (0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_13__.classMap)({\n          ratio: useRatio || this._lastImageHeight === undefined\n        }), this.cameraImage && this.cameraView === \"live\" ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n              <ha-camera-stream\\n                muted\\n                .hass=\", \"\\n                .stateObj=\", \"\\n                @load=\", \"\\n              ></ha-camera-stream>\\n            \"])), this.hass, cameraObj, this._onVideoLoad) : imageSrc === undefined ? lit__WEBPACK_IMPORTED_MODULE_11__.nothing : (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n              <img\\n                id=\\\"image\\\"\\n                src=\", \"\\n                @error=\", \"\\n                @load=\", \"\\n                style=\", \"\\n              />\\n            \"])), imageSrc, this._onImageError, this._onImageLoad, (0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_14__.styleMap)({\n          display: useRatio || this._loadState === LoadState.Loaded ? \"block\" : \"none\"\n        })), this._loadState === LoadState.Error ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<div\\n              id=\\\"brokenImage\\\"\\n              style=\", \"\\n            ></div>\"])), (0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_14__.styleMap)({\n          height: !useRatio ? \"\".concat(this._lastImageHeight, \"px\") || 0 : undefined\n        })) : this.cameraView !== \"live\" && (imageSrc === undefined || this._loadState === LoadState.Loading) ? (0,lit__WEBPACK_IMPORTED_MODULE_11__.html)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"<div\\n              class=\\\"progress-container\\\"\\n              style=\", \"\\n            >\\n              <ha-circular-progress\\n                class=\\\"render-spinner\\\"\\n                active\\n                size=\\\"small\\\"\\n              ></ha-circular-progress>\\n            </div>\"])), (0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_14__.styleMap)({\n          height: !useRatio ? \"\".concat(this._lastImageHeight, \"px\") || 0 : undefined\n        })) : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_shouldStartCameraUpdates\",\n      value: function _shouldStartCameraUpdates(oldHass) {\n        return !!((!oldHass || oldHass.connected !== this.hass.connected) && this.hass.connected && this.cameraView !== \"live\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startIntersectionObserverOrUpdates\",\n      value: function _startIntersectionObserverOrUpdates() {\n        if (\"IntersectionObserver\" in window) {\n          if (!this._intersectionObserver) {\n            this._intersectionObserver = new IntersectionObserver(this.handleIntersectionCallback.bind(this));\n          }\n          this._intersectionObserver.observe(this);\n        } else {\n          // No support for IntersectionObserver\n          // assume all images are visible\n          this._imageVisible = true;\n          this._startUpdateCameraInterval();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_stopIntersectionObserver\",\n      value: function _stopIntersectionObserver() {\n        if (this._intersectionObserver) {\n          this._intersectionObserver.disconnect();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startUpdateCameraInterval\",\n      value: function _startUpdateCameraInterval() {\n        var _this2 = this;\n        this._stopUpdateCameraInterval();\n        this._updateCameraImageSrc();\n        if (this.cameraImage && this.isConnected) {\n          this._cameraUpdater = window.setInterval(function () {\n            return _this2._updateCameraImageSrcAtInterval();\n          }, UPDATE_INTERVAL);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_stopUpdateCameraInterval\",\n      value: function _stopUpdateCameraInterval() {\n        if (this._cameraUpdater) {\n          clearInterval(this._cameraUpdater);\n          this._cameraUpdater = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageError\",\n      value: function _onImageError() {\n        this._loadState = LoadState.Error;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageLoad\",\n      value: function () {\n        var _onImageLoad2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee(ev) {\n          var imgEl;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                this._loadState = LoadState.Loaded;\n                imgEl = ev.target;\n                if (this._ratio && this._ratio.w > 0 && this._ratio.h > 0) {\n                  this._loadedImageSrc = imgEl.src;\n                }\n                _context.next = 5;\n                return this.updateComplete;\n              case 5:\n                this._lastImageHeight = imgEl.offsetHeight;\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _onImageLoad(_x) {\n          return _onImageLoad2.apply(this, arguments);\n        }\n        return _onImageLoad;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_onVideoLoad\",\n      value: function () {\n        var _onVideoLoad2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee2(ev) {\n          var videoEl;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                this._loadState = LoadState.Loaded;\n                videoEl = ev.currentTarget;\n                _context2.next = 4;\n                return this.updateComplete;\n              case 4:\n                this._lastImageHeight = videoEl.offsetHeight;\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _onVideoLoad(_x2) {\n          return _onVideoLoad2.apply(this, arguments);\n        }\n        return _onVideoLoad;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_updateCameraImageSrcAtInterval\",\n      value: function () {\n        var _updateCameraImageSrcAtInterval2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee3() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                // If we hit the interval and it was still loading\n                // it means we timed out so we should show the error.\n                if (this._loadState === LoadState.Loading) {\n                  this._onImageError();\n                }\n                return _context3.abrupt(\"return\", this._updateCameraImageSrc());\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this);\n        }));\n        function _updateCameraImageSrcAtInterval() {\n          return _updateCameraImageSrcAtInterval2.apply(this, arguments);\n        }\n        return _updateCameraImageSrcAtInterval;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_updateCameraImageSrc\",\n      value: function () {\n        var _updateCameraImageSrc2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee4() {\n          var cameraState, element_width, width, height;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(!this.hass || !this.cameraImage)) {\n                  _context4.next = 2;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 2:\n                cameraState = this.hass.states[this.cameraImage];\n                if (cameraState) {\n                  _context4.next = 6;\n                  break;\n                }\n                this._onImageError();\n                return _context4.abrupt(\"return\");\n              case 6:\n                element_width = this.clientWidth || MAX_IMAGE_WIDTH;\n                width = Math.ceil(element_width * devicePixelRatio);\n                // If the image has not rendered yet we have no height\n                if (!this._lastImageHeight) {\n                  if (this._ratio && this._ratio.w > 0 && this._ratio.h > 0) {\n                    height = Math.ceil(width * (this._ratio.h / this._ratio.w));\n                  } else {\n                    // If we don't have a ratio and we don't have a height\n                    // we ask for 200% of what we need because the aspect\n                    // ratio might result in a smaller image\n                    width *= 2;\n                    height = Math.ceil(width * ASPECT_RATIO_DEFAULT);\n                  }\n                } else {\n                  height = Math.ceil(this._lastImageHeight * devicePixelRatio);\n                }\n                _context4.next = 11;\n                return (0,_data_camera__WEBPACK_IMPORTED_MODULE_19__.fetchThumbnailUrlWithCache)(this.hass, this.cameraImage, width, height);\n              case 11:\n                this._cameraImageSrc = _context4.sent;\n                if (this._cameraImageSrc === undefined) {\n                  this._onImageError();\n                }\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, this);\n        }));\n        function _updateCameraImageSrc() {\n          return _updateCameraImageSrc2.apply(this, arguments);\n        }\n        return _updateCameraImageSrc;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_11__.css)(_templateObject6 || (_templateObject6 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\"\\n      :host {\\n        display: block;\\n      }\\n\\n      .container {\\n        transition: filter 0.2s linear;\\n      }\\n\\n      img {\\n        display: block;\\n        height: auto;\\n        width: 100%;\\n      }\\n\\n      .progress-container {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n      }\\n\\n      .ratio {\\n        position: relative;\\n        width: 100%;\\n        height: 0;\\n        background-position: center;\\n        background-size: cover;\\n      }\\n\\n      .ratio img,\\n      .ratio div {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n      }\\n\\n      .ratio img {\\n        visibility: hidden;\\n      }\\n\\n      #brokenImage {\\n        background: grey url(\\\"/static/images/image-broken.svg\\\") center/36px\\n          no-repeat;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_11__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NvbXBvbmVudHMvaHVpLWltYWdlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBS0E7QUFJQTtBQUlBO0FBRUE7QUFDQTtBQW9CQTtBQUlBO0FBT0E7QUFHQTtBQU9BO0FBR0E7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUxBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQStDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jb21wb25lbnRzL2h1aS1pbWFnZS50cz9jZDQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBub3RoaW5nLFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcFwiO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvc3R5bGUtbWFwXCI7XG5pbXBvcnQgeyBTVEFURVNfT0ZGIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdFwiO1xuaW1wb3J0IHBhcnNlQXNwZWN0UmF0aW8gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi91dGlsL3BhcnNlLWFzcGVjdC1yYXRpb1wiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtXCI7XG5pbXBvcnQgdHlwZSB7IEhhQ2FtZXJhU3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2FtZXJhLXN0cmVhbVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzc1wiO1xuaW1wb3J0IHsgQ2FtZXJhRW50aXR5LCBmZXRjaFRodW1ibmFpbFVybFdpdGhDYWNoZSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2NhbWVyYVwiO1xuaW1wb3J0IHsgVU5BVkFJTEFCTEUgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9lbnRpdHlcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcblxuY29uc3QgVVBEQVRFX0lOVEVSVkFMID0gMTAwMDA7XG5jb25zdCBERUZBVUxUX0ZJTFRFUiA9IFwiZ3JheXNjYWxlKDEwMCUpXCI7XG5cbmNvbnN0IE1BWF9JTUFHRV9XSURUSCA9IDY0MDtcbmNvbnN0IEFTUEVDVF9SQVRJT19ERUZBVUxUID0gOSAvIDE2O1xuXG5jb25zdCBlbnVtIExvYWRTdGF0ZSB7XG4gIExvYWRpbmcgPSAxLFxuICBMb2FkZWQgPSAyLFxuICBFcnJvciA9IDMsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGVTcGVjaWZpY0NvbmZpZyB7XG4gIFtzdGF0ZTogc3RyaW5nXTogc3RyaW5nO1xufVxuXG5AY3VzdG9tRWxlbWVudChcImh1aS1pbWFnZVwiKVxuZXhwb3J0IGNsYXNzIEh1aUltYWdlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3M/OiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBlbnRpdHk/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGltYWdlPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHN0YXRlSW1hZ2U/OiBTdGF0ZVNwZWNpZmljQ29uZmlnO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBjYW1lcmFJbWFnZT86IHN0cmluZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgY2FtZXJhVmlldz86IFwibGl2ZVwiIHwgXCJhdXRvXCI7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGFzcGVjdFJhdGlvPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBmaWx0ZXI/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgc3RhdGVGaWx0ZXI/OiBTdGF0ZVNwZWNpZmljQ29uZmlnO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBkYXJrTW9kZUltYWdlPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBkYXJrTW9kZUZpbHRlcj86IHN0cmluZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9pbWFnZVZpc2libGU/ID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbG9hZFN0YXRlPzogTG9hZFN0YXRlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NhbWVyYUltYWdlU3JjPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2xvYWRlZEltYWdlU3JjPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2xhc3RJbWFnZUhlaWdodD86IG51bWJlcjtcblxuICBwcml2YXRlIF9pbnRlcnNlY3Rpb25PYnNlcnZlcj86IEludGVyc2VjdGlvbk9ic2VydmVyO1xuXG4gIHByaXZhdGUgX2NhbWVyYVVwZGF0ZXI/OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfcmF0aW86IHtcbiAgICB3OiBudW1iZXI7XG4gICAgaDogbnVtYmVyO1xuICB9IHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKHRoaXMuX2xvYWRTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuTG9hZGluZztcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FtZXJhSW1hZ2UgJiYgdGhpcy5jYW1lcmFWaWV3ICE9PSBcImxpdmVcIikge1xuICAgICAgdGhpcy5fc3RhcnRJbnRlcnNlY3Rpb25PYnNlcnZlck9yVXBkYXRlcygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX3N0b3BVcGRhdGVDYW1lcmFJbnRlcnZhbCgpO1xuICAgIHRoaXMuX3N0b3BJbnRlcnNlY3Rpb25PYnNlcnZlcigpO1xuICAgIHRoaXMuX2ltYWdlVmlzaWJsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBoYW5kbGVJbnRlcnNlY3Rpb25DYWxsYmFjayhlbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W10pIHtcbiAgICB0aGlzLl9pbWFnZVZpc2libGUgPSBlbnRyaWVzWzBdLmlzSW50ZXJzZWN0aW5nO1xuICB9XG5cbiAgcHVibGljIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSkge1xuICAgICAgY29uc3Qgb2xkSGFzcyA9IGNoYW5nZWRQcm9wcy5nZXQoXCJoYXNzXCIpIGFzIEhvbWVBc3Npc3RhbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0aGlzLl9zaG91bGRTdGFydENhbWVyYVVwZGF0ZXMob2xkSGFzcykpIHtcbiAgICAgICAgdGhpcy5fc3RhcnRJbnRlcnNlY3Rpb25PYnNlcnZlck9yVXBkYXRlcygpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5oYXNzIS5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcFVwZGF0ZUNhbWVyYUludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX3N0b3BJbnRlcnNlY3Rpb25PYnNlcnZlcigpO1xuICAgICAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuTG9hZGluZztcbiAgICAgICAgdGhpcy5fY2FtZXJhSW1hZ2VTcmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2xvYWRlZEltYWdlU3JjID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcIl9pbWFnZVZpc2libGVcIikpIHtcbiAgICAgIGlmICh0aGlzLl9pbWFnZVZpc2libGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZFN0YXJ0Q2FtZXJhVXBkYXRlcygpKSB7XG4gICAgICAgICAgdGhpcy5fc3RhcnRVcGRhdGVDYW1lcmFJbnRlcnZhbCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdG9wVXBkYXRlQ2FtZXJhSW50ZXJ2YWwoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJhc3BlY3RSYXRpb1wiKSkge1xuICAgICAgdGhpcy5fcmF0aW8gPSB0aGlzLmFzcGVjdFJhdGlvXG4gICAgICAgID8gcGFyc2VBc3BlY3RSYXRpbyh0aGlzLmFzcGVjdFJhdGlvKVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5Mb2FkaW5nICYmICF0aGlzLmNhbWVyYUltYWdlKSB7XG4gICAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuTG9hZGVkO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLmhhc3MpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cbiAgICBjb25zdCB1c2VSYXRpbyA9IEJvb2xlYW4oXG4gICAgICB0aGlzLl9yYXRpbyAmJiB0aGlzLl9yYXRpby53ID4gMCAmJiB0aGlzLl9yYXRpby5oID4gMFxuICAgICk7XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmVudGl0eSA/IHRoaXMuaGFzcy5zdGF0ZXNbdGhpcy5lbnRpdHldIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGVudGl0eVN0YXRlID0gc3RhdGVPYmogPyBzdGF0ZU9iai5zdGF0ZSA6IFVOQVZBSUxBQkxFO1xuXG4gICAgLy8gRmlndXJlIG91dCBpbWFnZSBzb3VyY2UgdG8gdXNlXG4gICAgbGV0IGltYWdlU3JjOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGNhbWVyYU9iajogQ2FtZXJhRW50aXR5IHwgdW5kZWZpbmVkO1xuICAgIC8vIFRyYWNrIGlmIHdlIGFyZSB3ZSB1c2luZyBhIGZhbGxiYWNrIGltYWdlLCB1c2VkIGZvciBmaWx0ZXIuXG4gICAgbGV0IGltYWdlRmFsbGJhY2sgPSAhdGhpcy5zdGF0ZUltYWdlO1xuXG4gICAgaWYgKHRoaXMuY2FtZXJhSW1hZ2UpIHtcbiAgICAgIGlmICh0aGlzLmNhbWVyYVZpZXcgPT09IFwibGl2ZVwiKSB7XG4gICAgICAgIGNhbWVyYU9iaiA9IHRoaXMuaGFzcy5zdGF0ZXNbdGhpcy5jYW1lcmFJbWFnZV0gYXMgQ2FtZXJhRW50aXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VTcmMgPSB0aGlzLl9jYW1lcmFJbWFnZVNyYztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVJbWFnZSkge1xuICAgICAgY29uc3Qgc3RhdGVJbWFnZSA9IHRoaXMuc3RhdGVJbWFnZVtlbnRpdHlTdGF0ZV07XG5cbiAgICAgIGlmIChzdGF0ZUltYWdlKSB7XG4gICAgICAgIGltYWdlU3JjID0gc3RhdGVJbWFnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlU3JjID0gdGhpcy5pbWFnZTtcbiAgICAgICAgaW1hZ2VGYWxsYmFjayA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhcmtNb2RlSW1hZ2UgJiYgdGhpcy5oYXNzLnRoZW1lcy5kYXJrTW9kZSkge1xuICAgICAgaW1hZ2VTcmMgPSB0aGlzLmRhcmtNb2RlSW1hZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlU3JjID0gdGhpcy5pbWFnZTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VTcmMpIHtcbiAgICAgIGltYWdlU3JjID0gdGhpcy5oYXNzLmhhc3NVcmwoaW1hZ2VTcmMpO1xuICAgIH1cblxuICAgIC8vIEZpZ3VyZSBvdXQgZmlsdGVyIHRvIHVzZVxuICAgIGxldCBmaWx0ZXIgPSB0aGlzLmZpbHRlciB8fCBcIlwiO1xuXG4gICAgaWYgKHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGUgJiYgdGhpcy5kYXJrTW9kZUZpbHRlcikge1xuICAgICAgZmlsdGVyICs9IHRoaXMuZGFya01vZGVGaWx0ZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGVGaWx0ZXIgJiYgdGhpcy5zdGF0ZUZpbHRlcltlbnRpdHlTdGF0ZV0pIHtcbiAgICAgIGZpbHRlciArPSB0aGlzLnN0YXRlRmlsdGVyW2VudGl0eVN0YXRlXTtcbiAgICB9XG5cbiAgICBpZiAoIWZpbHRlciAmJiB0aGlzLmVudGl0eSkge1xuICAgICAgY29uc3QgaXNPZmYgPSAhc3RhdGVPYmogfHwgU1RBVEVTX09GRi5pbmNsdWRlcyhlbnRpdHlTdGF0ZSk7XG4gICAgICBmaWx0ZXIgPSBpc09mZiAmJiBpbWFnZUZhbGxiYWNrID8gREVGQVVMVF9GSUxURVIgOiBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICBwYWRkaW5nQm90dG9tOiB1c2VSYXRpb1xuICAgICAgICAgICAgPyBgJHsoKDEwMCAqIHRoaXMuX3JhdGlvIS5oKSAvIHRoaXMuX3JhdGlvIS53KS50b0ZpeGVkKDIpfSVgXG4gICAgICAgICAgICA6IHRoaXMuX2xhc3RJbWFnZUhlaWdodCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IFwiNTYuMjUlXCJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgICAgICAgIHVzZVJhdGlvICYmIHRoaXMuX2xvYWRlZEltYWdlU3JjXG4gICAgICAgICAgICAgID8gYHVybChcIiR7dGhpcy5fbG9hZGVkSW1hZ2VTcmN9XCIpYFxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBmaWx0ZXI6XG4gICAgICAgICAgICB0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5Mb2FkZWQgfHwgdGhpcy5jYW1lcmFWaWV3ID09PSBcImxpdmVcIlxuICAgICAgICAgICAgICA/IGZpbHRlclxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSl9XG4gICAgICAgIGNsYXNzPVwiY29udGFpbmVyICR7Y2xhc3NNYXAoe1xuICAgICAgICAgIHJhdGlvOiB1c2VSYXRpbyB8fCB0aGlzLl9sYXN0SW1hZ2VIZWlnaHQgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgfSl9XCJcbiAgICAgID5cbiAgICAgICAgJHt0aGlzLmNhbWVyYUltYWdlICYmIHRoaXMuY2FtZXJhVmlldyA9PT0gXCJsaXZlXCJcbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxoYS1jYW1lcmEtc3RyZWFtXG4gICAgICAgICAgICAgICAgbXV0ZWRcbiAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHtjYW1lcmFPYmp9XG4gICAgICAgICAgICAgICAgQGxvYWQ9JHt0aGlzLl9vblZpZGVvTG9hZH1cbiAgICAgICAgICAgICAgPjwvaGEtY2FtZXJhLXN0cmVhbT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IGltYWdlU3JjID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IG5vdGhpbmdcbiAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBpZD1cImltYWdlXCJcbiAgICAgICAgICAgICAgICBzcmM9JHtpbWFnZVNyY31cbiAgICAgICAgICAgICAgICBAZXJyb3I9JHt0aGlzLl9vbkltYWdlRXJyb3J9XG4gICAgICAgICAgICAgICAgQGxvYWQ9JHt0aGlzLl9vbkltYWdlTG9hZH1cbiAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6XG4gICAgICAgICAgICAgICAgICAgIHVzZVJhdGlvIHx8IHRoaXMuX2xvYWRTdGF0ZSA9PT0gTG9hZFN0YXRlLkxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgID8gXCJibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGB9XG4gICAgICAgICR7dGhpcy5fbG9hZFN0YXRlID09PSBMb2FkU3RhdGUuRXJyb3JcbiAgICAgICAgICA/IGh0bWxgPGRpdlxuICAgICAgICAgICAgICBpZD1cImJyb2tlbkltYWdlXCJcbiAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAhdXNlUmF0aW9cbiAgICAgICAgICAgICAgICAgID8gYCR7dGhpcy5fbGFzdEltYWdlSGVpZ2h0fXB4YCB8fCBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPjwvZGl2PmBcbiAgICAgICAgICA6IHRoaXMuY2FtZXJhVmlldyAhPT0gXCJsaXZlXCIgJiZcbiAgICAgICAgICAgIChpbWFnZVNyYyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2xvYWRTdGF0ZSA9PT0gTG9hZFN0YXRlLkxvYWRpbmcpXG4gICAgICAgICAgPyBodG1sYDxkaXZcbiAgICAgICAgICAgICAgY2xhc3M9XCJwcm9ncmVzcy1jb250YWluZXJcIlxuICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICF1c2VSYXRpb1xuICAgICAgICAgICAgICAgICAgPyBgJHt0aGlzLl9sYXN0SW1hZ2VIZWlnaHR9cHhgIHx8IFwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxoYS1jaXJjdWxhci1wcm9ncmVzc1xuICAgICAgICAgICAgICAgIGNsYXNzPVwicmVuZGVyLXNwaW5uZXJcIlxuICAgICAgICAgICAgICAgIGFjdGl2ZVxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgID48L2hhLWNpcmN1bGFyLXByb2dyZXNzPlxuICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcm90ZWN0ZWQgX3Nob3VsZFN0YXJ0Q2FtZXJhVXBkYXRlcyhvbGRIYXNzPzogSG9tZUFzc2lzdGFudCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIShcbiAgICAgICghb2xkSGFzcyB8fCBvbGRIYXNzLmNvbm5lY3RlZCAhPT0gdGhpcy5oYXNzIS5jb25uZWN0ZWQpICYmXG4gICAgICB0aGlzLmhhc3MhLmNvbm5lY3RlZCAmJlxuICAgICAgdGhpcy5jYW1lcmFWaWV3ICE9PSBcImxpdmVcIlxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9zdGFydEludGVyc2VjdGlvbk9ic2VydmVyT3JVcGRhdGVzKCk6IHZvaWQge1xuICAgIGlmIChcIkludGVyc2VjdGlvbk9ic2VydmVyXCIgaW4gd2luZG93KSB7XG4gICAgICBpZiAoIXRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgIHRoaXMuaGFuZGxlSW50ZXJzZWN0aW9uQ2FsbGJhY2suYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gc3VwcG9ydCBmb3IgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICAgIC8vIGFzc3VtZSBhbGwgaW1hZ2VzIGFyZSB2aXNpYmxlXG4gICAgICB0aGlzLl9pbWFnZVZpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy5fc3RhcnRVcGRhdGVDYW1lcmFJbnRlcnZhbCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3N0b3BJbnRlcnNlY3Rpb25PYnNlcnZlcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX2ludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zdGFydFVwZGF0ZUNhbWVyYUludGVydmFsKCk6IHZvaWQge1xuICAgIHRoaXMuX3N0b3BVcGRhdGVDYW1lcmFJbnRlcnZhbCgpO1xuICAgIHRoaXMuX3VwZGF0ZUNhbWVyYUltYWdlU3JjKCk7XG4gICAgaWYgKHRoaXMuY2FtZXJhSW1hZ2UgJiYgdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlciA9IHdpbmRvdy5zZXRJbnRlcnZhbChcbiAgICAgICAgKCkgPT4gdGhpcy5fdXBkYXRlQ2FtZXJhSW1hZ2VTcmNBdEludGVydmFsKCksXG4gICAgICAgIFVQREFURV9JTlRFUlZBTFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zdG9wVXBkYXRlQ2FtZXJhSW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2NhbWVyYVVwZGF0ZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fY2FtZXJhVXBkYXRlcik7XG4gICAgICB0aGlzLl9jYW1lcmFVcGRhdGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29uSW1hZ2VFcnJvcigpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuRXJyb3I7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9vbkltYWdlTG9hZChldjogRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuTG9hZGVkO1xuICAgIGNvbnN0IGltZ0VsID0gZXYudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgaWYgKHRoaXMuX3JhdGlvICYmIHRoaXMuX3JhdGlvLncgPiAwICYmIHRoaXMuX3JhdGlvLmggPiAwKSB7XG4gICAgICB0aGlzLl9sb2FkZWRJbWFnZVNyYyA9IGltZ0VsLnNyYztcbiAgICB9XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICB0aGlzLl9sYXN0SW1hZ2VIZWlnaHQgPSBpbWdFbC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9vblZpZGVvTG9hZChldjogRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9sb2FkU3RhdGUgPSBMb2FkU3RhdGUuTG9hZGVkO1xuICAgIGNvbnN0IHZpZGVvRWwgPSBldi5jdXJyZW50VGFyZ2V0IGFzIEhhQ2FtZXJhU3RyZWFtO1xuICAgIGF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgdGhpcy5fbGFzdEltYWdlSGVpZ2h0ID0gdmlkZW9FbC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF91cGRhdGVDYW1lcmFJbWFnZVNyY0F0SW50ZXJ2YWwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gSWYgd2UgaGl0IHRoZSBpbnRlcnZhbCBhbmQgaXQgd2FzIHN0aWxsIGxvYWRpbmdcbiAgICAvLyBpdCBtZWFucyB3ZSB0aW1lZCBvdXQgc28gd2Ugc2hvdWxkIHNob3cgdGhlIGVycm9yLlxuICAgIGlmICh0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5Mb2FkaW5nKSB7XG4gICAgICB0aGlzLl9vbkltYWdlRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUNhbWVyYUltYWdlU3JjKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF91cGRhdGVDYW1lcmFJbWFnZVNyYygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5jYW1lcmFJbWFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbWVyYVN0YXRlID0gdGhpcy5oYXNzLnN0YXRlc1t0aGlzLmNhbWVyYUltYWdlXSBhc1xuICAgICAgfCBDYW1lcmFFbnRpdHlcbiAgICAgIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFjYW1lcmFTdGF0ZSkge1xuICAgICAgdGhpcy5fb25JbWFnZUVycm9yKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudF93aWR0aCA9IHRoaXMuY2xpZW50V2lkdGggfHwgTUFYX0lNQUdFX1dJRFRIO1xuICAgIGxldCB3aWR0aCA9IE1hdGguY2VpbChlbGVtZW50X3dpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgbGV0IGhlaWdodDogbnVtYmVyO1xuICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgbm90IHJlbmRlcmVkIHlldCB3ZSBoYXZlIG5vIGhlaWdodFxuICAgIGlmICghdGhpcy5fbGFzdEltYWdlSGVpZ2h0KSB7XG4gICAgICBpZiAodGhpcy5fcmF0aW8gJiYgdGhpcy5fcmF0aW8udyA+IDAgJiYgdGhpcy5fcmF0aW8uaCA+IDApIHtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKHdpZHRoICogKHRoaXMuX3JhdGlvLmggLyB0aGlzLl9yYXRpby53KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcmF0aW8gYW5kIHdlIGRvbid0IGhhdmUgYSBoZWlnaHRcbiAgICAgICAgLy8gd2UgYXNrIGZvciAyMDAlIG9mIHdoYXQgd2UgbmVlZCBiZWNhdXNlIHRoZSBhc3BlY3RcbiAgICAgICAgLy8gcmF0aW8gbWlnaHQgcmVzdWx0IGluIGEgc21hbGxlciBpbWFnZVxuICAgICAgICB3aWR0aCAqPSAyO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwod2lkdGggKiBBU1BFQ1RfUkFUSU9fREVGQVVMVCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLl9sYXN0SW1hZ2VIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB9XG4gICAgdGhpcy5fY2FtZXJhSW1hZ2VTcmMgPSBhd2FpdCBmZXRjaFRodW1ibmFpbFVybFdpdGhDYWNoZShcbiAgICAgIHRoaXMuaGFzcyxcbiAgICAgIHRoaXMuY2FtZXJhSW1hZ2UsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgICk7XG4gICAgaWYgKHRoaXMuX2NhbWVyYUltYWdlU3JjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX29uSW1hZ2VFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgIHRyYW5zaXRpb246IGZpbHRlciAwLjJzIGxpbmVhcjtcbiAgICAgIH1cblxuICAgICAgaW1nIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5wcm9ncmVzcy1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnJhdGlvIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbyBpbWcsXG4gICAgICAucmF0aW8gZGl2IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbyBpbWcge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgICNicm9rZW5JbWFnZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IGdyZXkgdXJsKFwiL3N0YXRpYy9pbWFnZXMvaW1hZ2UtYnJva2VuLnN2Z1wiKSBjZW50ZXIvMzZweFxuICAgICAgICAgIG5vLXJlcGVhdDtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJodWktaW1hZ2VcIjogSHVpSW1hZ2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/components/hui-image.ts\n");

/***/ })

}]);