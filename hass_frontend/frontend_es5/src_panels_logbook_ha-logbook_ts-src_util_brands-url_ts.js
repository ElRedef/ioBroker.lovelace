"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_logbook_ha-logbook_ts-src_util_brands-url_ts"],{

/***/ "./src/common/array/ensure-array.ts":
/*!******************************************!*\
  !*** ./src/common/array/ensure-array.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureArray: function() { return /* binding */ ensureArray; }\n/* harmony export */ });\nfunction ensureArray(value) {\n  if (value === undefined || Array.isArray(value)) {\n    return value;\n  }\n  return [value];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2FycmF5L2Vuc3VyZS1hcnJheS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL2FycmF5L2Vuc3VyZS1hcnJheS50cz81Y2QwIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgTm9uVW5kZWZpbmVkPFQ+ID0gVCBleHRlbmRzIHVuZGVmaW5lZCA/IG5ldmVyIDogVDtcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUFycmF5KHZhbHVlOiB1bmRlZmluZWQpOiB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQXJyYXk8VD4odmFsdWU6IFQgfCBUW10pOiBOb25VbmRlZmluZWQ8VD5bXTtcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVBcnJheTxUPih2YWx1ZTogVCB8IHJlYWRvbmx5IFRbXSk6IE5vblVuZGVmaW5lZDxUPltdO1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUFycmF5KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBbdmFsdWVdO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/array/ensure-array.ts\n");

/***/ }),

/***/ "./src/components/ha-circular-progress.ts":
/*!************************************************!*\
  !*** ./src/components/ha-circular-progress.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaCircularProgress: function() { return /* binding */ HaCircularProgress; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_circular_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material/mwc-circular-progress */ \"./node_modules/@material/mwc-circular-progress/mwc-circular-progress.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\n\n\n\n\n\nvar _templateObject;\n\n\n\nvar HaCircularProgress = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_6__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.customElement)(\"ha-circular-progress\")], function (_initialize, _CircularProgress) {\n  var HaCircularProgress = /*#__PURE__*/function (_CircularProgress2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(HaCircularProgress, _CircularProgress2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HaCircularProgress);\n    function HaCircularProgress() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, HaCircularProgress);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(HaCircularProgress);\n  }(_CircularProgress);\n  return {\n    F: HaCircularProgress,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)({\n        type: Boolean\n      })],\n      key: \"active\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"alt\",\n      value: function value() {\n        return \"Loading\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_11__.property)()],\n      key: \"size\",\n      value: function value() {\n        return \"medium\";\n      }\n    }, {\n      kind: \"set\",\n      key: \"density\",\n      value:\n      // @ts-ignore\n      function density(_) {\n        // just a dummy\n      }\n    }, {\n      kind: \"get\",\n      key: \"density\",\n      value: function density() {\n        switch (this.size) {\n          case \"tiny\":\n            return -8;\n          case \"small\":\n            return -5;\n          case \"medium\":\n            return 0;\n          case \"large\":\n            return 5;\n          default:\n            return 0;\n        }\n      }\n\n      // @ts-ignore\n    }, {\n      kind: \"set\",\n      key: \"indeterminate\",\n      value: function indeterminate(_) {\n        // just a dummy\n      }\n    }, {\n      kind: \"get\",\n      key: \"indeterminate\",\n      value: function indeterminate() {\n        return this.active;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HaCircularProgress), \"styles\", this), (0,lit__WEBPACK_IMPORTED_MODULE_10__.css)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\"\\n        :host {\\n          overflow: hidden;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, _material_mwc_circular_progress__WEBPACK_IMPORTED_MODULE_9__.CircularProgress);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQVFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzcy50cz8wNjljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENpcmN1bGFyUHJvZ3Jlc3MgfSBmcm9tIFwiQG1hdGVyaWFsL213Yy1jaXJjdWxhci1wcm9ncmVzc1wiO1xuaW1wb3J0IHsgQ1NTUmVzdWx0R3JvdXAsIGNzcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtY2lyY3VsYXItcHJvZ3Jlc3NcIilcbi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBjbGFzcyBIYUNpcmN1bGFyUHJvZ3Jlc3MgZXh0ZW5kcyBDaXJjdWxhclByb2dyZXNzIHtcbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICBwdWJsaWMgYWN0aXZlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KClcbiAgcHVibGljIGFsdCA9IFwiTG9hZGluZ1wiO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHB1YmxpYyBzaXplOiBcInRpbnlcIiB8IFwic21hbGxcIiB8IFwibWVkaXVtXCIgfCBcImxhcmdlXCIgPSBcIm1lZGl1bVwiO1xuXG4gIC8vIEB0cy1pZ25vcmVcbiAgcHVibGljIHNldCBkZW5zaXR5KF8pIHtcbiAgICAvLyBqdXN0IGEgZHVtbXlcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZGVuc2l0eSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc2l6ZSkge1xuICAgICAgY2FzZSBcInRpbnlcIjpcbiAgICAgICAgcmV0dXJuIC04O1xuICAgICAgY2FzZSBcInNtYWxsXCI6XG4gICAgICAgIHJldHVybiAtNTtcbiAgICAgIGNhc2UgXCJtZWRpdW1cIjpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICBjYXNlIFwibGFyZ2VcIjpcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICAvLyBAdHMtaWdub3JlXG4gIHB1YmxpYyBzZXQgaW5kZXRlcm1pbmF0ZShfKSB7XG4gICAgLy8ganVzdCBhIGR1bW15XG4gIH1cblxuICBwdWJsaWMgZ2V0IGluZGV0ZXJtaW5hdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBzdXBlci5zdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWNpcmN1bGFyLXByb2dyZXNzXCI6IEhhQ2lyY3VsYXJQcm9ncmVzcztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-circular-progress.ts\n");

/***/ }),

/***/ "./src/data/user.ts":
/*!**************************!*\
  !*** ./src/data/user.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GROUPS: function() { return /* binding */ GROUPS; },\n/* harmony export */   SYSTEM_GROUP_ID_ADMIN: function() { return /* binding */ SYSTEM_GROUP_ID_ADMIN; },\n/* harmony export */   SYSTEM_GROUP_ID_READ_ONLY: function() { return /* binding */ SYSTEM_GROUP_ID_READ_ONLY; },\n/* harmony export */   SYSTEM_GROUP_ID_USER: function() { return /* binding */ SYSTEM_GROUP_ID_USER; },\n/* harmony export */   computeUserBadges: function() { return /* binding */ computeUserBadges; },\n/* harmony export */   computeUserInitials: function() { return /* binding */ computeUserInitials; },\n/* harmony export */   createUser: function() { return /* binding */ createUser; },\n/* harmony export */   deleteUser: function() { return /* binding */ deleteUser; },\n/* harmony export */   fetchUsers: function() { return /* binding */ fetchUsers; },\n/* harmony export */   updateUser: function() { return /* binding */ updateUser; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n\n\nvar mdiCrownCircleOutline = \"M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z\";\nvar mdiAlphaSCircleOutline = \"M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z\";\nvar mdiHomeCircleOutline = \"M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14\";\nvar mdiCancel = \"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\";\nvar SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nvar SYSTEM_GROUP_ID_USER = \"system-users\";\nvar SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\nvar GROUPS = [SYSTEM_GROUP_ID_USER, SYSTEM_GROUP_ID_ADMIN];\nvar fetchUsers = /*#__PURE__*/function () {\n  var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee(hass) {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/list\"\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function fetchUsers(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createUser = /*#__PURE__*/function () {\n  var _ref2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee2(hass, name, group_ids, local_only) {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/create\",\n            name: name,\n            group_ids: group_ids,\n            local_only: local_only\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function createUser(_x2, _x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updateUser = /*#__PURE__*/function () {\n  var _ref3 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee3(hass, userId, params) {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", hass.callWS(Object.assign(Object.assign({}, params), {}, {\n            type: \"config/auth/update\",\n            user_id: userId\n          })));\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function updateUser(_x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteUser = /*#__PURE__*/function () {\n  var _ref4 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().mark(function _callee4(hass, userId) {\n    return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/delete\",\n            user_id: userId\n          }));\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function deleteUser(_x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar computeUserInitials = function computeUserInitials(name) {\n  if (!name) {\n    return \"?\";\n  }\n  return name.trim()\n  // Split by space and take first 3 words\n  .split(\" \").slice(0, 3)\n  // Of each word, take first letter\n  .map(function (s) {\n    return s.substring(0, 1);\n  }).join(\"\");\n};\nvar OWNER_ICON = mdiCrownCircleOutline;\nvar SYSTEM_ICON = mdiAlphaSCircleOutline;\nvar LOCAL_ICON = mdiHomeCircleOutline;\nvar DISABLED_ICON = mdiCancel;\nvar computeUserBadges = function computeUserBadges(hass, user, includeSystem) {\n  var labels = [];\n  var translate = function translate(key) {\n    return hass.localize(\"ui.panel.config.users.\".concat(key));\n  };\n  if (user.is_owner) {\n    labels.push([OWNER_ICON, translate(\"is_owner\")]);\n  }\n  if (includeSystem && user.system_generated) {\n    labels.push([SYSTEM_ICON, translate(\"is_system\")]);\n  }\n  if (user.local_only) {\n    labels.push([LOCAL_ICON, translate(\"is_local\")]);\n  }\n  if (!user.is_active) {\n    labels.push([DISABLED_ICON, translate(\"is_not_active\")]);\n  }\n  return labels;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS91c2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBcUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVpBO0FBQUE7QUFBQTtBQWNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVEE7QUFBQTtBQUFBO0FBV0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFKQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS91c2VyLnRzP2VmYjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpQ3Jvd25DaXJjbGVPdXRsaW5lLFxuICBtZGlBbHBoYVNDaXJjbGVPdXRsaW5lLFxuICBtZGlIb21lQ2lyY2xlT3V0bGluZSxcbiAgbWRpQ2FuY2VsLFxufSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCwgVHJhbnNsYXRpb25EaWN0IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsIH0gZnJvbSBcIi4vYXV0aFwiO1xuXG5leHBvcnQgY29uc3QgU1lTVEVNX0dST1VQX0lEX0FETUlOID0gXCJzeXN0ZW0tYWRtaW5cIjtcbmV4cG9ydCBjb25zdCBTWVNURU1fR1JPVVBfSURfVVNFUiA9IFwic3lzdGVtLXVzZXJzXCI7XG5leHBvcnQgY29uc3QgU1lTVEVNX0dST1VQX0lEX1JFQURfT05MWSA9IFwic3lzdGVtLXJlYWQtb25seVwiO1xuXG5leHBvcnQgY29uc3QgR1JPVVBTID0gW1NZU1RFTV9HUk9VUF9JRF9VU0VSLCBTWVNURU1fR1JPVVBfSURfQURNSU5dO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgbmFtZTogc3RyaW5nO1xuICBpc19vd25lcjogYm9vbGVhbjtcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBsb2NhbF9vbmx5OiBib29sZWFuO1xuICBzeXN0ZW1fZ2VuZXJhdGVkOiBib29sZWFuO1xuICBncm91cF9pZHM6IChrZXlvZiBUcmFuc2xhdGlvbkRpY3RbXCJncm91cHNcIl0pW107XG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFsW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlclBhcmFtcyB7XG4gIG5hbWU/OiBVc2VyW1wibmFtZVwiXTtcbiAgaXNfYWN0aXZlPzogVXNlcltcImlzX2FjdGl2ZVwiXTtcbiAgZ3JvdXBfaWRzPzogVXNlcltcImdyb3VwX2lkc1wiXTtcbiAgbG9jYWxfb25seT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBmZXRjaFVzZXJzID0gYXN5bmMgKGhhc3M6IEhvbWVBc3Npc3RhbnQpID0+XG4gIGhhc3MuY2FsbFdTPFVzZXJbXT4oe1xuICAgIHR5cGU6IFwiY29uZmlnL2F1dGgvbGlzdFwiLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXIgPSBhc3luYyAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIG5hbWU6IHN0cmluZyxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gIGdyb3VwX2lkcz86IFVzZXJbXCJncm91cF9pZHNcIl0sXG4gIGxvY2FsX29ubHk/OiBib29sZWFuXG4pID0+XG4gIGhhc3MuY2FsbFdTPHsgdXNlcjogVXNlciB9Pih7XG4gICAgdHlwZTogXCJjb25maWcvYXV0aC9jcmVhdGVcIixcbiAgICBuYW1lLFxuICAgIGdyb3VwX2lkcyxcbiAgICBsb2NhbF9vbmx5LFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHVzZXJJZDogc3RyaW5nLFxuICBwYXJhbXM6IFVwZGF0ZVVzZXJQYXJhbXNcbikgPT5cbiAgaGFzcy5jYWxsV1M8eyB1c2VyOiBVc2VyIH0+KHtcbiAgICAuLi5wYXJhbXMsXG4gICAgdHlwZTogXCJjb25maWcvYXV0aC91cGRhdGVcIixcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChoYXNzOiBIb21lQXNzaXN0YW50LCB1c2VySWQ6IHN0cmluZykgPT5cbiAgaGFzcy5jYWxsV1M8dm9pZD4oe1xuICAgIHR5cGU6IFwiY29uZmlnL2F1dGgvZGVsZXRlXCIsXG4gICAgdXNlcl9pZDogdXNlcklkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVVc2VySW5pdGlhbHMgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gIGlmICghbmFtZSkge1xuICAgIHJldHVybiBcIj9cIjtcbiAgfVxuICByZXR1cm4gKFxuICAgIG5hbWVcbiAgICAgIC50cmltKClcbiAgICAgIC8vIFNwbGl0IGJ5IHNwYWNlIGFuZCB0YWtlIGZpcnN0IDMgd29yZHNcbiAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgIC5zbGljZSgwLCAzKVxuICAgICAgLy8gT2YgZWFjaCB3b3JkLCB0YWtlIGZpcnN0IGxldHRlclxuICAgICAgLm1hcCgocykgPT4gcy5zdWJzdHJpbmcoMCwgMSkpXG4gICAgICAuam9pbihcIlwiKVxuICApO1xufTtcblxuY29uc3QgT1dORVJfSUNPTiA9IG1kaUNyb3duQ2lyY2xlT3V0bGluZTtcbmNvbnN0IFNZU1RFTV9JQ09OID0gbWRpQWxwaGFTQ2lyY2xlT3V0bGluZTtcbmNvbnN0IExPQ0FMX0lDT04gPSBtZGlIb21lQ2lyY2xlT3V0bGluZTtcbmNvbnN0IERJU0FCTEVEX0lDT04gPSBtZGlDYW5jZWw7XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlVXNlckJhZGdlcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgdXNlcjogVXNlcixcbiAgaW5jbHVkZVN5c3RlbTogYm9vbGVhblxuKSA9PiB7XG4gIGNvbnN0IGxhYmVsczogW3N0cmluZywgc3RyaW5nXVtdID0gW107XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IChcbiAgICBrZXk6IEV4dHJhY3Q8XG4gICAgICBrZXlvZiBUcmFuc2xhdGlvbkRpY3RbXCJ1aVwiXVtcInBhbmVsXCJdW1wiY29uZmlnXCJdW1widXNlcnNcIl0sXG4gICAgICBgaXNfJHtzdHJpbmd9YFxuICAgID5cbiAgKSA9PiBoYXNzLmxvY2FsaXplKGB1aS5wYW5lbC5jb25maWcudXNlcnMuJHtrZXl9YCk7XG5cbiAgaWYgKHVzZXIuaXNfb3duZXIpIHtcbiAgICBsYWJlbHMucHVzaChbT1dORVJfSUNPTiwgdHJhbnNsYXRlKFwiaXNfb3duZXJcIildKTtcbiAgfVxuICBpZiAoaW5jbHVkZVN5c3RlbSAmJiB1c2VyLnN5c3RlbV9nZW5lcmF0ZWQpIHtcbiAgICBsYWJlbHMucHVzaChbU1lTVEVNX0lDT04sIHRyYW5zbGF0ZShcImlzX3N5c3RlbVwiKV0pO1xuICB9XG4gIGlmICh1c2VyLmxvY2FsX29ubHkpIHtcbiAgICBsYWJlbHMucHVzaChbTE9DQUxfSUNPTiwgdHJhbnNsYXRlKFwiaXNfbG9jYWxcIildKTtcbiAgfVxuICBpZiAoIXVzZXIuaXNfYWN0aXZlKSB7XG4gICAgbGFiZWxzLnB1c2goW0RJU0FCTEVEX0lDT04sIHRyYW5zbGF0ZShcImlzX25vdF9hY3RpdmVcIildKTtcbiAgfVxuXG4gIHJldHVybiBsYWJlbHM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/user.ts\n");

/***/ }),

/***/ "./src/panels/logbook/ha-logbook.ts":
/*!******************************************!*\
  !*** ./src/panels/logbook/ha-logbook.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaLogbook: function() { return /* binding */ HaLogbook; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createForOfIteratorHelper */ \"./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/taggedTemplateLiteral */ \"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/createSuper */ \"./node_modules/@babel/runtime/helpers/esm/createSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_util_throttle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../common/util/throttle */ \"./src/common/util/throttle.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _data_logbook__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../data/logbook */ \"./src/data/logbook.ts\");\n/* harmony import */ var _data_trace__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../data/trace */ \"./src/data/trace.ts\");\n/* harmony import */ var _data_user__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../data/user */ \"./src/data/user.ts\");\n/* harmony import */ var _ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ha-logbook-renderer */ \"./src/panels/logbook/ha-logbook-renderer.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\n\n\n\n\n\n\n\n\n\n\n\nvar findStartOfRecentTime = function findStartOfRecentTime(now, recentTime) {\n  return new Date(now.getTime() - recentTime * 1000).getTime() / 1000;\n};\nvar idsChanged = function idsChanged(oldIds, newIds) {\n  if (oldIds === undefined && newIds === undefined) {\n    return false;\n  }\n  return !oldIds || !newIds || oldIds.length !== newIds.length || !oldIds.every(function (val) {\n    return newIds.includes(val);\n  });\n};\nvar HaLogbook = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_10__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.customElement)(\"ha-logbook\")], function (_initialize, _LitElement) {\n  var HaLogbook = /*#__PURE__*/function (_LitElement2) {\n    (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(HaLogbook, _LitElement2);\n    var _super = (0,_babel_runtime_helpers_createSuper__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(HaLogbook);\n    function HaLogbook() {\n      var _this;\n      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, HaLogbook);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _initialize((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this));\n      return _this;\n    }\n    return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(HaLogbook);\n  }(_LitElement);\n  return {\n    F: HaLogbook,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)()],\n      key: \"time\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)()],\n      key: \"entityIds\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)()],\n      key: \"deviceIds\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"narrow\"\n      })],\n      key: \"narrow\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"virtualize\",\n        reflect: true\n      })],\n      key: \"virtualize\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"no-icon\"\n      })],\n      key: \"noIcon\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"no-name\"\n      })],\n      key: \"noName\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"show-indicator\"\n      })],\n      key: \"showIndicator\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean,\n        attribute: \"relative-time\"\n      })],\n      key: \"relativeTime\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.property)({\n        type: Boolean\n      })],\n      key: \"showMoreLink\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.state)()],\n      key: \"_logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.state)()],\n      key: \"_traceContexts\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.state)()],\n      key: \"_userIdToName\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_14__.state)()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_subscribed\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_liveUpdatesEnabled\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_pendingStreamMessages\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_throttleGetLogbookEntries\",\n      value: function value() {\n        var _this2 = this;\n        return (0,_common_util_throttle__WEBPACK_IMPORTED_MODULE_18__.throttle)(function () {\n          return _this2._getLogBookData();\n        }, 1000);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_16__.isComponentLoaded)(this.hass, \"logbook\")) {\n          return lit__WEBPACK_IMPORTED_MODULE_13__.nothing;\n        }\n        if (this._error) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<div class=\\\"no-entries\\\">\\n        \", \"\\n      </div>\"])), \"\".concat(this.hass.localize(\"ui.components.logbook.retrieval_error\"), \": \").concat(this._error));\n        }\n        if (this._logbookEntries === undefined) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject2 || (_templateObject2 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n        <div class=\\\"progress-wrapper\\\">\\n          <ha-circular-progress\\n            active\\n            alt=\", \"\\n          ></ha-circular-progress>\\n        </div>\\n      \"])), this.hass.localize(\"ui.common.loading\"));\n        }\n        if (this._logbookEntries.length === 0) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject3 || (_templateObject3 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"<div class=\\\"no-entries\\\">\\n        \", \"\\n      </div>\"])), this.hass.localize(\"ui.components.logbook.entries_not_found\"));\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_13__.html)(_templateObject4 || (_templateObject4 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n      <ha-logbook-renderer\\n        .hass=\", \"\\n        .narrow=\", \"\\n        .virtualize=\", \"\\n        .noIcon=\", \"\\n        .noName=\", \"\\n        .showIndicator=\", \"\\n        .relativeTime=\", \"\\n        .entries=\", \"\\n        .traceContexts=\", \"\\n        .userIdToName=\", \"\\n        @hass-logbook-live=\", \"\\n      ></ha-logbook-renderer>\\n    \"])), this.hass, this.narrow, this.virtualize, this.noIcon, this.noName, this.showIndicator, this.relativeTime, this._logbookEntries, this._traceContexts, this._userIdToName, this._handleLogbookLive);\n      }\n    }, {\n      kind: \"method\",\n      key: \"refresh\",\n      value: function () {\n        var _refresh = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().mark(function _callee() {\n          var force,\n            _args = arguments;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                force = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n                if (!(!force && (this._subscribed || this._logbookEntries === undefined))) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                this._unsubscribeSetLoading();\n                this._throttleGetLogbookEntries.cancel();\n                this._updateTraceContexts.cancel();\n                this._updateUsers.cancel();\n                if (\"range\" in this.time) {\n                  (0,_data_logbook__WEBPACK_IMPORTED_MODULE_20__.clearLogbookCache)(this.time.range[0].toISOString(), this.time.range[1].toISOString());\n                }\n                this._throttleGetLogbookEntries();\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function refresh() {\n          return _refresh.apply(this, arguments);\n        }\n        return refresh;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(HaLogbook.prototype), \"firstUpdated\", this).call(this, changedProps);\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        if (changedProps.size !== 1 || !changedProps.has(\"hass\")) {\n          return true;\n        }\n        // We only respond to hass changes if the translations changed\n        var oldHass = changedProps.get(\"hass\");\n        return !oldHass || oldHass.localize !== this.hass.localize;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        var changed = changedProps.has(\"time\");\n        for (var _i = 0, _arr = [\"entityIds\", \"deviceIds\"]; _i < _arr.length; _i++) {\n          var key = _arr[_i];\n          if (!changedProps.has(key)) {\n            continue;\n          }\n          var oldValue = changedProps.get(key);\n          var curValue = this[key];\n\n          // If they make the filter more specific we want\n          // to change the subscription since it will reduce\n          // the overhead on the backend as the event stream\n          // can be a firehose for all state events.\n          if (idsChanged(oldValue, curValue)) {\n            changed = true;\n            break;\n          }\n        }\n        if (changed) {\n          this.refresh(true);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleLogbookLive\",\n      value: function _handleLogbookLive(ev) {\n        var _this3 = this;\n        if (ev.detail.enable && !this._liveUpdatesEnabled) {\n          // Process everything we queued up while we were scrolled down\n          this._pendingStreamMessages.forEach(function (msg) {\n            return _this3._processStreamMessage(msg);\n          });\n          this._pendingStreamMessages = [];\n        }\n        this._liveUpdatesEnabled = ev.detail.enable;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_filterAlwaysEmptyResults\",\n      value: function _filterAlwaysEmptyResults() {\n        var entityIds = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_15__.ensureArray)(this.entityIds);\n        var deviceIds = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_15__.ensureArray)(this.deviceIds);\n\n        // If all specified filters are empty lists, we can return an empty list.\n        return (entityIds || deviceIds) && (!entityIds || entityIds.length === 0) && (!deviceIds || deviceIds.length === 0);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_unsubscribe\",\n      value: function _unsubscribe() {\n        if (this._subscribed) {\n          this._subscribed.then(function (unsub) {\n            return unsub ? unsub().catch(function () {\n              // The backend will cancel the subscription if\n              // we subscribe to entities that will all be\n              // filtered away\n            }) : undefined;\n          });\n          this._subscribed = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(HaLogbook.prototype), \"connectedCallback\", this).call(this);\n        if (this.hasUpdated) {\n          this._subscribeLogbookPeriod(this._calculateLogbookPeriod());\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_11__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(HaLogbook.prototype), \"disconnectedCallback\", this).call(this);\n        this._unsubscribeSetLoading();\n      }\n\n      /** Unsubscribe because we are unloading\n       * or about to resubscribe.\n       * Setting this._logbookEntries to undefined\n       * will put the page in a loading state.\n       */\n    }, {\n      kind: \"method\",\n      key: \"_unsubscribeSetLoading\",\n      value: function _unsubscribeSetLoading() {\n        this._logbookEntries = undefined;\n        this._unsubscribe();\n      }\n\n      /** Unsubscribe because there are no results.\n       * Setting this._logbookEntries to an empty\n       * list will show a no results message.\n       */\n    }, {\n      kind: \"method\",\n      key: \"_unsubscribeNoResults\",\n      value: function _unsubscribeNoResults() {\n        this._logbookEntries = [];\n        this._unsubscribe();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_calculateLogbookPeriod\",\n      value: function _calculateLogbookPeriod() {\n        var now = new Date();\n        if (\"range\" in this.time) {\n          return {\n            now: now,\n            startTime: this.time.range[0],\n            endTime: this.time.range[1],\n            purgeBeforePythonTime: undefined\n          };\n        }\n        if (\"recent\" in this.time) {\n          var purgeBeforePythonTime = findStartOfRecentTime(now, this.time.recent);\n          return {\n            now: now,\n            startTime: new Date(purgeBeforePythonTime * 1000),\n            // end streaming one year from now\n            endTime: new Date(now.getTime() + 86400 * 365 * 1000),\n            purgeBeforePythonTime: findStartOfRecentTime(now, this.time.recent)\n          };\n        }\n        throw new Error(\"Unexpected time specified\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_subscribeLogbookPeriod\",\n      value: function _subscribeLogbookPeriod(logbookPeriod) {\n        var _this4 = this;\n        if (this._subscribed) {\n          return true;\n        }\n        this._subscribed = (0,_data_logbook__WEBPACK_IMPORTED_MODULE_20__.subscribeLogbook)(this.hass, function (streamMessage) {\n          // \"recent\" means start time is a sliding window\n          // so we need to calculate an expireTime to\n          // purge old events\n          if (!_this4._subscribed) {\n            // Message came in before we had a chance to unload\n            return;\n          }\n          _this4._processOrQueueStreamMessage(streamMessage);\n        }, logbookPeriod.startTime.toISOString(), logbookPeriod.endTime.toISOString(), (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_15__.ensureArray)(this.entityIds), (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_15__.ensureArray)(this.deviceIds)).catch(function (err) {\n          _this4._subscribed = undefined;\n          _this4._error = err;\n        });\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getLogBookData\",\n      value: function () {\n        var _getLogBookData2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().mark(function _callee2() {\n          var _this$hass$user;\n          var logbookPeriod;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                this._error = undefined;\n                if (!this._filterAlwaysEmptyResults) {\n                  _context2.next = 4;\n                  break;\n                }\n                this._unsubscribeNoResults();\n                return _context2.abrupt(\"return\");\n              case 4:\n                logbookPeriod = this._calculateLogbookPeriod();\n                if (!(logbookPeriod.startTime > logbookPeriod.now)) {\n                  _context2.next = 8;\n                  break;\n                }\n                // Time Travel not yet invented\n                this._unsubscribeNoResults();\n                return _context2.abrupt(\"return\");\n              case 8:\n                this._updateUsers();\n                if ((_this$hass$user = this.hass.user) !== null && _this$hass$user !== void 0 && _this$hass$user.is_admin) {\n                  this._updateTraceContexts();\n                }\n                this._subscribeLogbookPeriod(logbookPeriod);\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _getLogBookData() {\n          return _getLogBookData2.apply(this, arguments);\n        }\n        return _getLogBookData;\n      }()\n    }, {\n      kind: \"field\",\n      key: \"_nonExpiredRecords\",\n      value: function value() {\n        var _this5 = this;\n        return function (purgeBeforePythonTime) {\n          return !_this5._logbookEntries ? [] : purgeBeforePythonTime ? _this5._logbookEntries.filter(function (entry) {\n            return entry.when > purgeBeforePythonTime;\n          }) : _this5._logbookEntries;\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_processOrQueueStreamMessage\",\n      value: function value() {\n        var _this6 = this;\n        return function (streamMessage) {\n          if (_this6._liveUpdatesEnabled) {\n            _this6._processStreamMessage(streamMessage);\n            return;\n          }\n          _this6._pendingStreamMessages.push(streamMessage);\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_processStreamMessage\",\n      value: function value() {\n        var _this7 = this;\n        return function (streamMessage) {\n          var purgeBeforePythonTime = \"recent\" in _this7.time ? findStartOfRecentTime(new Date(), _this7.time.recent) : undefined;\n          // Put newest ones on top. Reverse works in-place so\n          // make a copy first.\n          var newEntries = (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(streamMessage.events).reverse();\n          if (!_this7._logbookEntries || !_this7._logbookEntries.length) {\n            _this7._logbookEntries = newEntries;\n            return;\n          }\n          if (!newEntries.length) {\n            // Empty messages are still sent to\n            // indicate no more historical events\n            return;\n          }\n          var nonExpiredRecords = _this7._nonExpiredRecords(purgeBeforePythonTime);\n\n          // Entries are sorted in descending order with newest first.\n          if (!nonExpiredRecords.length) {\n            // We have no records left, so we can just replace the list\n            _this7._logbookEntries = newEntries;\n          } else if (newEntries[newEntries.length - 1].when >\n          // oldest new entry\n          nonExpiredRecords[0].when // newest old entry\n          ) {\n            // The new records are newer than the old records\n            // append the old records to the end of the new records\n            _this7._logbookEntries = newEntries.concat(nonExpiredRecords);\n          } else if (nonExpiredRecords[nonExpiredRecords.length - 1].when >\n          // oldest old entry\n          newEntries[0].when // newest new entry\n          ) {\n            // The new records are older than the old records\n            // append the new records to the end of the old records\n            _this7._logbookEntries = nonExpiredRecords.concat(newEntries);\n          } else {\n            // The new records are in the middle of the old records\n            // so we need to re-sort them\n            _this7._logbookEntries = nonExpiredRecords.concat(newEntries).sort(function (a, b) {\n              return b.when - a.when;\n            });\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_updateTraceContexts\",\n      value: function value() {\n        var _this8 = this;\n        return (0,_common_util_throttle__WEBPACK_IMPORTED_MODULE_18__.throttle)( /*#__PURE__*/(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().mark(function _callee3() {\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return (0,_data_trace__WEBPACK_IMPORTED_MODULE_21__.loadTraceContexts)(_this8.hass);\n              case 2:\n                _this8._traceContexts = _context3.sent;\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3);\n        })), 60000);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_updateUsers\",\n      value: function value() {\n        var _this9 = this;\n        return (0,_common_util_throttle__WEBPACK_IMPORTED_MODULE_18__.throttle)( /*#__PURE__*/(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/(0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().mark(function _callee4() {\n          var _this9$hass$user;\n          var userIdToName, userProm, _i2, _Object$values, entity, users, _iterator, _step, user;\n          return (0,_babel_runtime_helpers_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                userIdToName = {}; // Start loading users\n                userProm = ((_this9$hass$user = _this9.hass.user) === null || _this9$hass$user === void 0 ? void 0 : _this9$hass$user.is_admin) && (0,_data_user__WEBPACK_IMPORTED_MODULE_22__.fetchUsers)(_this9.hass); // Process persons\n                for (_i2 = 0, _Object$values = Object.values(_this9.hass.states); _i2 < _Object$values.length; _i2++) {\n                  entity = _Object$values[_i2];\n                  if (entity.attributes.user_id && (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_17__.computeStateDomain)(entity) === \"person\") {\n                    userIdToName[entity.attributes.user_id] = entity.attributes.friendly_name;\n                  }\n                }\n\n                // Process users\n                if (!userProm) {\n                  _context4.next = 9;\n                  break;\n                }\n                _context4.next = 6;\n                return userProm;\n              case 6:\n                users = _context4.sent;\n                _iterator = (0,_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(users);\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    user = _step.value;\n                    if (!(user.id in userIdToName)) {\n                      userIdToName[user.id] = user.name;\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              case 9:\n                _this9._userIdToName = userIdToName;\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4);\n        })), 60000);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_13__.css)(_templateObject5 || (_templateObject5 = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\"\\n        :host {\\n          display: block;\\n        }\\n\\n        :host([virtualize]) {\\n          height: 100%;\\n        }\\n\\n        .no-entries {\\n          text-align: center;\\n          padding: 16px;\\n          color: var(--secondary-text-color);\\n        }\\n\\n        .progress-wrapper {\\n          display: flex;\\n          justify-content: center;\\n          height: 100%;\\n          align-items: center;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_13__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvZ2Jvb2svaGEtbG9nYm9vay50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBU0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQVFBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUtBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQXdCQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb2dib29rL2hhLWxvZ2Jvb2sudHM/YTgxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIGh0bWwsIExpdEVsZW1lbnQsIFByb3BlcnR5VmFsdWVzLCBub3RoaW5nIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBlbnN1cmVBcnJheSB9IGZyb20gXCIuLi8uLi9jb21tb24vYXJyYXkvZW5zdXJlLWFycmF5XCI7XG5pbXBvcnQgeyBpc0NvbXBvbmVudExvYWRlZCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29uZmlnL2lzX2NvbXBvbmVudF9sb2FkZWRcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfZG9tYWluXCI7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gXCIuLi8uLi9jb21tb24vdXRpbC90aHJvdHRsZVwiO1xuaW1wb3J0IFwiLi4vLi4vY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzc1wiO1xuaW1wb3J0IHtcbiAgY2xlYXJMb2dib29rQ2FjaGUsXG4gIExvZ2Jvb2tFbnRyeSxcbiAgTG9nYm9va1N0cmVhbU1lc3NhZ2UsXG4gIHN1YnNjcmliZUxvZ2Jvb2ssXG59IGZyb20gXCIuLi8uLi9kYXRhL2xvZ2Jvb2tcIjtcbmltcG9ydCB7IGxvYWRUcmFjZUNvbnRleHRzLCBUcmFjZUNvbnRleHRzIH0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCB7IGZldGNoVXNlcnMgfSBmcm9tIFwiLi4vLi4vZGF0YS91c2VyXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWxvZ2Jvb2stcmVuZGVyZXJcIjtcblxuaW50ZXJmYWNlIExvZ2Jvb2tUaW1lUGVyaW9kIHtcbiAgbm93OiBEYXRlO1xuICBzdGFydFRpbWU6IERhdGU7XG4gIGVuZFRpbWU6IERhdGU7XG4gIHB1cmdlQmVmb3JlUHl0aG9uVGltZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBmaW5kU3RhcnRPZlJlY2VudFRpbWUgPSAobm93OiBEYXRlLCByZWNlbnRUaW1lOiBudW1iZXIpID0+XG4gIG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSByZWNlbnRUaW1lICogMTAwMCkuZ2V0VGltZSgpIC8gMTAwMDtcblxuY29uc3QgaWRzQ2hhbmdlZCA9IChvbGRJZHM/OiBzdHJpbmdbXSwgbmV3SWRzPzogc3RyaW5nW10pID0+IHtcbiAgaWYgKG9sZElkcyA9PT0gdW5kZWZpbmVkICYmIG5ld0lkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgIW9sZElkcyB8fFxuICAgICFuZXdJZHMgfHxcbiAgICBvbGRJZHMubGVuZ3RoICE9PSBuZXdJZHMubGVuZ3RoIHx8XG4gICAgIW9sZElkcy5ldmVyeSgodmFsKSA9PiBuZXdJZHMuaW5jbHVkZXModmFsKSlcbiAgKTtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtbG9nYm9va1wiKVxuZXhwb3J0IGNsYXNzIEhhTG9nYm9vayBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgdGltZSE6XG4gICAgfCB7IHJhbmdlOiBbRGF0ZSwgRGF0ZV0gfVxuICAgIHwge1xuICAgICAgICAvLyBTZWNvbmRzXG4gICAgICAgIHJlY2VudDogbnVtYmVyO1xuICAgICAgfTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZW50aXR5SWRzPzogc3RyaW5nW107XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGRldmljZUlkcz86IHN0cmluZ1tdO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJuYXJyb3dcIiB9KVxuICBwdWJsaWMgbmFycm93ID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcInZpcnR1YWxpemVcIiwgcmVmbGVjdDogdHJ1ZSB9KVxuICBwdWJsaWMgdmlydHVhbGl6ZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJuby1pY29uXCIgfSlcbiAgcHVibGljIG5vSWNvbiA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJuby1uYW1lXCIgfSlcbiAgcHVibGljIG5vTmFtZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJzaG93LWluZGljYXRvclwiIH0pXG4gIHB1YmxpYyBzaG93SW5kaWNhdG9yID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcInJlbGF0aXZlLXRpbWVcIiB9KVxuICBwdWJsaWMgcmVsYXRpdmVUaW1lID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgc2hvd01vcmVMaW5rID0gdHJ1ZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9sb2dib29rRW50cmllcz86IExvZ2Jvb2tFbnRyeVtdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3RyYWNlQ29udGV4dHM6IFRyYWNlQ29udGV4dHMgPSB7fTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF91c2VySWRUb05hbWUgPSB7fTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lcnJvcj86IHN0cmluZztcblxuICBwcml2YXRlIF9zdWJzY3JpYmVkPzogUHJvbWlzZTwoKCkgPT4gUHJvbWlzZTx2b2lkPikgfCB2b2lkPjtcblxuICBwcml2YXRlIF9saXZlVXBkYXRlc0VuYWJsZWQgPSB0cnVlO1xuXG4gIHByaXZhdGUgX3BlbmRpbmdTdHJlYW1NZXNzYWdlczogTG9nYm9va1N0cmVhbU1lc3NhZ2VbXSA9IFtdO1xuXG4gIHByaXZhdGUgX3Rocm90dGxlR2V0TG9nYm9va0VudHJpZXMgPSB0aHJvdHRsZShcbiAgICAoKSA9PiB0aGlzLl9nZXRMb2dCb29rRGF0YSgpLFxuICAgIDEwMDBcbiAgKTtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzLCBcImxvZ2Jvb2tcIikpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm5vLWVudHJpZXNcIj5cbiAgICAgICAgJHtgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLmxvZ2Jvb2sucmV0cmlldmFsX2Vycm9yXCIpfTogJHtcbiAgICAgICAgICB0aGlzLl9lcnJvclxuICAgICAgICB9YH1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xvZ2Jvb2tFbnRyaWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3Mtd3JhcHBlclwiPlxuICAgICAgICAgIDxoYS1jaXJjdWxhci1wcm9ncmVzc1xuICAgICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgICBhbHQ9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24ubG9hZGluZ1wiKX1cbiAgICAgICAgICA+PC9oYS1jaXJjdWxhci1wcm9ncmVzcz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9sb2dib29rRW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJuby1lbnRyaWVzXCI+XG4gICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5sb2dib29rLmVudHJpZXNfbm90X2ZvdW5kXCIpfVxuICAgICAgPC9kaXY+YDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1sb2dib29rLXJlbmRlcmVyXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgIC52aXJ0dWFsaXplPSR7dGhpcy52aXJ0dWFsaXplfVxuICAgICAgICAubm9JY29uPSR7dGhpcy5ub0ljb259XG4gICAgICAgIC5ub05hbWU9JHt0aGlzLm5vTmFtZX1cbiAgICAgICAgLnNob3dJbmRpY2F0b3I9JHt0aGlzLnNob3dJbmRpY2F0b3J9XG4gICAgICAgIC5yZWxhdGl2ZVRpbWU9JHt0aGlzLnJlbGF0aXZlVGltZX1cbiAgICAgICAgLmVudHJpZXM9JHt0aGlzLl9sb2dib29rRW50cmllc31cbiAgICAgICAgLnRyYWNlQ29udGV4dHM9JHt0aGlzLl90cmFjZUNvbnRleHRzfVxuICAgICAgICAudXNlcklkVG9OYW1lPSR7dGhpcy5fdXNlcklkVG9OYW1lfVxuICAgICAgICBAaGFzcy1sb2dib29rLWxpdmU9JHt0aGlzLl9oYW5kbGVMb2dib29rTGl2ZX1cbiAgICAgID48L2hhLWxvZ2Jvb2stcmVuZGVyZXI+XG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoKGZvcmNlID0gZmFsc2UpIHtcbiAgICBpZiAoIWZvcmNlICYmICh0aGlzLl9zdWJzY3JpYmVkIHx8IHRoaXMuX2xvZ2Jvb2tFbnRyaWVzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdW5zdWJzY3JpYmVTZXRMb2FkaW5nKCk7XG4gICAgdGhpcy5fdGhyb3R0bGVHZXRMb2dib29rRW50cmllcy5jYW5jZWwoKTtcbiAgICB0aGlzLl91cGRhdGVUcmFjZUNvbnRleHRzLmNhbmNlbCgpO1xuICAgIHRoaXMuX3VwZGF0ZVVzZXJzLmNhbmNlbCgpO1xuXG4gICAgaWYgKFwicmFuZ2VcIiBpbiB0aGlzLnRpbWUpIHtcbiAgICAgIGNsZWFyTG9nYm9va0NhY2hlKFxuICAgICAgICB0aGlzLnRpbWUucmFuZ2VbMF0udG9JU09TdHJpbmcoKSxcbiAgICAgICAgdGhpcy50aW1lLnJhbmdlWzFdLnRvSVNPU3RyaW5nKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGhyb3R0bGVHZXRMb2dib29rRW50cmllcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICBpZiAoY2hhbmdlZFByb3BzLnNpemUgIT09IDEgfHwgIWNoYW5nZWRQcm9wcy5oYXMoXCJoYXNzXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gV2Ugb25seSByZXNwb25kIHRvIGhhc3MgY2hhbmdlcyBpZiB0aGUgdHJhbnNsYXRpb25zIGNoYW5nZWRcbiAgICBjb25zdCBvbGRIYXNzID0gY2hhbmdlZFByb3BzLmdldChcImhhc3NcIikgYXMgSG9tZUFzc2lzdGFudCB8IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gIW9sZEhhc3MgfHwgb2xkSGFzcy5sb2NhbGl6ZSAhPT0gdGhpcy5oYXNzLmxvY2FsaXplO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIGxldCBjaGFuZ2VkID0gY2hhbmdlZFByb3BzLmhhcyhcInRpbWVcIik7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbXCJlbnRpdHlJZHNcIiwgXCJkZXZpY2VJZHNcIl0pIHtcbiAgICAgIGlmICghY2hhbmdlZFByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IGNoYW5nZWRQcm9wcy5nZXQoa2V5KSBhcyBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IGN1clZhbHVlID0gdGhpc1trZXldIGFzIHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gICAgICAvLyBJZiB0aGV5IG1ha2UgdGhlIGZpbHRlciBtb3JlIHNwZWNpZmljIHdlIHdhbnRcbiAgICAgIC8vIHRvIGNoYW5nZSB0aGUgc3Vic2NyaXB0aW9uIHNpbmNlIGl0IHdpbGwgcmVkdWNlXG4gICAgICAvLyB0aGUgb3ZlcmhlYWQgb24gdGhlIGJhY2tlbmQgYXMgdGhlIGV2ZW50IHN0cmVhbVxuICAgICAgLy8gY2FuIGJlIGEgZmlyZWhvc2UgZm9yIGFsbCBzdGF0ZSBldmVudHMuXG4gICAgICBpZiAoaWRzQ2hhbmdlZChvbGRWYWx1ZSwgY3VyVmFsdWUpKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZUxvZ2Jvb2tMaXZlKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGlmIChldi5kZXRhaWwuZW5hYmxlICYmICF0aGlzLl9saXZlVXBkYXRlc0VuYWJsZWQpIHtcbiAgICAgIC8vIFByb2Nlc3MgZXZlcnl0aGluZyB3ZSBxdWV1ZWQgdXAgd2hpbGUgd2Ugd2VyZSBzY3JvbGxlZCBkb3duXG4gICAgICB0aGlzLl9wZW5kaW5nU3RyZWFtTWVzc2FnZXMuZm9yRWFjaCgobXNnKSA9PlxuICAgICAgICB0aGlzLl9wcm9jZXNzU3RyZWFtTWVzc2FnZShtc2cpXG4gICAgICApO1xuICAgICAgdGhpcy5fcGVuZGluZ1N0cmVhbU1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIHRoaXMuX2xpdmVVcGRhdGVzRW5hYmxlZCA9IGV2LmRldGFpbC5lbmFibGU7XG4gIH1cblxuICBwcml2YXRlIGdldCBfZmlsdGVyQWx3YXlzRW1wdHlSZXN1bHRzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVudGl0eUlkcyA9IGVuc3VyZUFycmF5KHRoaXMuZW50aXR5SWRzKTtcbiAgICBjb25zdCBkZXZpY2VJZHMgPSBlbnN1cmVBcnJheSh0aGlzLmRldmljZUlkcyk7XG5cbiAgICAvLyBJZiBhbGwgc3BlY2lmaWVkIGZpbHRlcnMgYXJlIGVtcHR5IGxpc3RzLCB3ZSBjYW4gcmV0dXJuIGFuIGVtcHR5IGxpc3QuXG4gICAgcmV0dXJuIChcbiAgICAgIChlbnRpdHlJZHMgfHwgZGV2aWNlSWRzKSAmJlxuICAgICAgKCFlbnRpdHlJZHMgfHwgZW50aXR5SWRzLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAgICghZGV2aWNlSWRzIHx8IGRldmljZUlkcy5sZW5ndGggPT09IDApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3Vuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVkKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVkLnRoZW4oKHVuc3ViKSA9PlxuICAgICAgICB1bnN1YlxuICAgICAgICAgID8gdW5zdWIoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRoZSBiYWNrZW5kIHdpbGwgY2FuY2VsIHRoZSBzdWJzY3JpcHRpb24gaWZcbiAgICAgICAgICAgICAgLy8gd2Ugc3Vic2NyaWJlIHRvIGVudGl0aWVzIHRoYXQgd2lsbCBhbGwgYmVcbiAgICAgICAgICAgICAgLy8gZmlsdGVyZWQgYXdheVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N1YnNjcmliZWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlTG9nYm9va1BlcmlvZCh0aGlzLl9jYWxjdWxhdGVMb2dib29rUGVyaW9kKCkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX3Vuc3Vic2NyaWJlU2V0TG9hZGluZygpO1xuICB9XG5cbiAgLyoqIFVuc3Vic2NyaWJlIGJlY2F1c2Ugd2UgYXJlIHVubG9hZGluZ1xuICAgKiBvciBhYm91dCB0byByZXN1YnNjcmliZS5cbiAgICogU2V0dGluZyB0aGlzLl9sb2dib29rRW50cmllcyB0byB1bmRlZmluZWRcbiAgICogd2lsbCBwdXQgdGhlIHBhZ2UgaW4gYSBsb2FkaW5nIHN0YXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBfdW5zdWJzY3JpYmVTZXRMb2FkaW5nKCkge1xuICAgIHRoaXMuX2xvZ2Jvb2tFbnRyaWVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gIH1cblxuICAvKiogVW5zdWJzY3JpYmUgYmVjYXVzZSB0aGVyZSBhcmUgbm8gcmVzdWx0cy5cbiAgICogU2V0dGluZyB0aGlzLl9sb2dib29rRW50cmllcyB0byBhbiBlbXB0eVxuICAgKiBsaXN0IHdpbGwgc2hvdyBhIG5vIHJlc3VsdHMgbWVzc2FnZS5cbiAgICovXG4gIHByaXZhdGUgX3Vuc3Vic2NyaWJlTm9SZXN1bHRzKCkge1xuICAgIHRoaXMuX2xvZ2Jvb2tFbnRyaWVzID0gW107XG4gICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NhbGN1bGF0ZUxvZ2Jvb2tQZXJpb2QoKSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBpZiAoXCJyYW5nZVwiIGluIHRoaXMudGltZSkge1xuICAgICAgcmV0dXJuIDxMb2dib29rVGltZVBlcmlvZD57XG4gICAgICAgIG5vdzogbm93LFxuICAgICAgICBzdGFydFRpbWU6IHRoaXMudGltZS5yYW5nZVswXSxcbiAgICAgICAgZW5kVGltZTogdGhpcy50aW1lLnJhbmdlWzFdLFxuICAgICAgICBwdXJnZUJlZm9yZVB5dGhvblRpbWU6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChcInJlY2VudFwiIGluIHRoaXMudGltZSkge1xuICAgICAgY29uc3QgcHVyZ2VCZWZvcmVQeXRob25UaW1lID0gZmluZFN0YXJ0T2ZSZWNlbnRUaW1lKFxuICAgICAgICBub3csXG4gICAgICAgIHRoaXMudGltZS5yZWNlbnRcbiAgICAgICk7XG4gICAgICByZXR1cm4gPExvZ2Jvb2tUaW1lUGVyaW9kPntcbiAgICAgICAgbm93OiBub3csXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUocHVyZ2VCZWZvcmVQeXRob25UaW1lICogMTAwMCksXG4gICAgICAgIC8vIGVuZCBzdHJlYW1pbmcgb25lIHllYXIgZnJvbSBub3dcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUobm93LmdldFRpbWUoKSArIDg2NDAwICogMzY1ICogMTAwMCksXG4gICAgICAgIHB1cmdlQmVmb3JlUHl0aG9uVGltZTogZmluZFN0YXJ0T2ZSZWNlbnRUaW1lKG5vdywgdGhpcy50aW1lLnJlY2VudCksXG4gICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHRpbWUgc3BlY2lmaWVkXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3Vic2NyaWJlTG9nYm9va1BlcmlvZChsb2dib29rUGVyaW9kOiBMb2dib29rVGltZVBlcmlvZCkge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fc3Vic2NyaWJlZCA9IHN1YnNjcmliZUxvZ2Jvb2soXG4gICAgICB0aGlzLmhhc3MsXG4gICAgICAoc3RyZWFtTWVzc2FnZSkgPT4ge1xuICAgICAgICAvLyBcInJlY2VudFwiIG1lYW5zIHN0YXJ0IHRpbWUgaXMgYSBzbGlkaW5nIHdpbmRvd1xuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSBhbiBleHBpcmVUaW1lIHRvXG4gICAgICAgIC8vIHB1cmdlIG9sZCBldmVudHNcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgLy8gTWVzc2FnZSBjYW1lIGluIGJlZm9yZSB3ZSBoYWQgYSBjaGFuY2UgdG8gdW5sb2FkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NPclF1ZXVlU3RyZWFtTWVzc2FnZShzdHJlYW1NZXNzYWdlKTtcbiAgICAgIH0sXG4gICAgICBsb2dib29rUGVyaW9kLnN0YXJ0VGltZS50b0lTT1N0cmluZygpLFxuICAgICAgbG9nYm9va1BlcmlvZC5lbmRUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICBlbnN1cmVBcnJheSh0aGlzLmVudGl0eUlkcyksXG4gICAgICBlbnN1cmVBcnJheSh0aGlzLmRldmljZUlkcylcbiAgICApLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9lcnJvciA9IGVycjtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2dldExvZ0Jvb2tEYXRhKCkge1xuICAgIHRoaXMuX2Vycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRoaXMuX2ZpbHRlckFsd2F5c0VtcHR5UmVzdWx0cykge1xuICAgICAgdGhpcy5fdW5zdWJzY3JpYmVOb1Jlc3VsdHMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2dib29rUGVyaW9kID0gdGhpcy5fY2FsY3VsYXRlTG9nYm9va1BlcmlvZCgpO1xuXG4gICAgaWYgKGxvZ2Jvb2tQZXJpb2Quc3RhcnRUaW1lID4gbG9nYm9va1BlcmlvZC5ub3cpIHtcbiAgICAgIC8vIFRpbWUgVHJhdmVsIG5vdCB5ZXQgaW52ZW50ZWRcbiAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlTm9SZXN1bHRzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlVXNlcnMoKTtcbiAgICBpZiAodGhpcy5oYXNzLnVzZXI/LmlzX2FkbWluKSB7XG4gICAgICB0aGlzLl91cGRhdGVUcmFjZUNvbnRleHRzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3Vic2NyaWJlTG9nYm9va1BlcmlvZChsb2dib29rUGVyaW9kKTtcbiAgfVxuXG4gIHByaXZhdGUgX25vbkV4cGlyZWRSZWNvcmRzID0gKHB1cmdlQmVmb3JlUHl0aG9uVGltZTogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PlxuICAgICF0aGlzLl9sb2dib29rRW50cmllc1xuICAgICAgPyBbXVxuICAgICAgOiBwdXJnZUJlZm9yZVB5dGhvblRpbWVcbiAgICAgID8gdGhpcy5fbG9nYm9va0VudHJpZXMuZmlsdGVyKFxuICAgICAgICAgIChlbnRyeSkgPT4gZW50cnkud2hlbiA+IHB1cmdlQmVmb3JlUHl0aG9uVGltZSFcbiAgICAgICAgKVxuICAgICAgOiB0aGlzLl9sb2dib29rRW50cmllcztcblxuICBwcml2YXRlIF9wcm9jZXNzT3JRdWV1ZVN0cmVhbU1lc3NhZ2UgPSAoXG4gICAgc3RyZWFtTWVzc2FnZTogTG9nYm9va1N0cmVhbU1lc3NhZ2VcbiAgKSA9PiB7XG4gICAgaWYgKHRoaXMuX2xpdmVVcGRhdGVzRW5hYmxlZCkge1xuICAgICAgdGhpcy5fcHJvY2Vzc1N0cmVhbU1lc3NhZ2Uoc3RyZWFtTWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BlbmRpbmdTdHJlYW1NZXNzYWdlcy5wdXNoKHN0cmVhbU1lc3NhZ2UpO1xuICB9O1xuXG4gIHByaXZhdGUgX3Byb2Nlc3NTdHJlYW1NZXNzYWdlID0gKHN0cmVhbU1lc3NhZ2U6IExvZ2Jvb2tTdHJlYW1NZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgcHVyZ2VCZWZvcmVQeXRob25UaW1lID1cbiAgICAgIFwicmVjZW50XCIgaW4gdGhpcy50aW1lXG4gICAgICAgID8gZmluZFN0YXJ0T2ZSZWNlbnRUaW1lKG5ldyBEYXRlKCksIHRoaXMudGltZS5yZWNlbnQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIC8vIFB1dCBuZXdlc3Qgb25lcyBvbiB0b3AuIFJldmVyc2Ugd29ya3MgaW4tcGxhY2Ugc29cbiAgICAvLyBtYWtlIGEgY29weSBmaXJzdC5cbiAgICBjb25zdCBuZXdFbnRyaWVzID0gWy4uLnN0cmVhbU1lc3NhZ2UuZXZlbnRzXS5yZXZlcnNlKCk7XG4gICAgaWYgKCF0aGlzLl9sb2dib29rRW50cmllcyB8fCAhdGhpcy5fbG9nYm9va0VudHJpZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9sb2dib29rRW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbmV3RW50cmllcy5sZW5ndGgpIHtcbiAgICAgIC8vIEVtcHR5IG1lc3NhZ2VzIGFyZSBzdGlsbCBzZW50IHRvXG4gICAgICAvLyBpbmRpY2F0ZSBubyBtb3JlIGhpc3RvcmljYWwgZXZlbnRzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vbkV4cGlyZWRSZWNvcmRzID0gdGhpcy5fbm9uRXhwaXJlZFJlY29yZHMocHVyZ2VCZWZvcmVQeXRob25UaW1lKTtcblxuICAgIC8vIEVudHJpZXMgYXJlIHNvcnRlZCBpbiBkZXNjZW5kaW5nIG9yZGVyIHdpdGggbmV3ZXN0IGZpcnN0LlxuICAgIGlmICghbm9uRXhwaXJlZFJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAvLyBXZSBoYXZlIG5vIHJlY29yZHMgbGVmdCwgc28gd2UgY2FuIGp1c3QgcmVwbGFjZSB0aGUgbGlzdFxuICAgICAgdGhpcy5fbG9nYm9va0VudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBuZXdFbnRyaWVzW25ld0VudHJpZXMubGVuZ3RoIC0gMV0ud2hlbiA+IC8vIG9sZGVzdCBuZXcgZW50cnlcbiAgICAgIG5vbkV4cGlyZWRSZWNvcmRzWzBdLndoZW4gLy8gbmV3ZXN0IG9sZCBlbnRyeVxuICAgICkge1xuICAgICAgLy8gVGhlIG5ldyByZWNvcmRzIGFyZSBuZXdlciB0aGFuIHRoZSBvbGQgcmVjb3Jkc1xuICAgICAgLy8gYXBwZW5kIHRoZSBvbGQgcmVjb3JkcyB0byB0aGUgZW5kIG9mIHRoZSBuZXcgcmVjb3Jkc1xuICAgICAgdGhpcy5fbG9nYm9va0VudHJpZXMgPSBuZXdFbnRyaWVzLmNvbmNhdChub25FeHBpcmVkUmVjb3Jkcyk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG5vbkV4cGlyZWRSZWNvcmRzW25vbkV4cGlyZWRSZWNvcmRzLmxlbmd0aCAtIDFdLndoZW4gPiAvLyBvbGRlc3Qgb2xkIGVudHJ5XG4gICAgICBuZXdFbnRyaWVzWzBdLndoZW4gLy8gbmV3ZXN0IG5ldyBlbnRyeVxuICAgICkge1xuICAgICAgLy8gVGhlIG5ldyByZWNvcmRzIGFyZSBvbGRlciB0aGFuIHRoZSBvbGQgcmVjb3Jkc1xuICAgICAgLy8gYXBwZW5kIHRoZSBuZXcgcmVjb3JkcyB0byB0aGUgZW5kIG9mIHRoZSBvbGQgcmVjb3Jkc1xuICAgICAgdGhpcy5fbG9nYm9va0VudHJpZXMgPSBub25FeHBpcmVkUmVjb3Jkcy5jb25jYXQobmV3RW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBuZXcgcmVjb3JkcyBhcmUgaW4gdGhlIG1pZGRsZSBvZiB0aGUgb2xkIHJlY29yZHNcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gcmUtc29ydCB0aGVtXG4gICAgICB0aGlzLl9sb2dib29rRW50cmllcyA9IG5vbkV4cGlyZWRSZWNvcmRzXG4gICAgICAgIC5jb25jYXQobmV3RW50cmllcylcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIud2hlbiAtIGEud2hlbik7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgX3VwZGF0ZVRyYWNlQ29udGV4dHMgPSB0aHJvdHRsZShhc3luYyAoKSA9PiB7XG4gICAgdGhpcy5fdHJhY2VDb250ZXh0cyA9IGF3YWl0IGxvYWRUcmFjZUNvbnRleHRzKHRoaXMuaGFzcyk7XG4gIH0sIDYwMDAwKTtcblxuICBwcml2YXRlIF91cGRhdGVVc2VycyA9IHRocm90dGxlKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VySWRUb05hbWUgPSB7fTtcblxuICAgIC8vIFN0YXJ0IGxvYWRpbmcgdXNlcnNcbiAgICBjb25zdCB1c2VyUHJvbSA9IHRoaXMuaGFzcy51c2VyPy5pc19hZG1pbiAmJiBmZXRjaFVzZXJzKHRoaXMuaGFzcyk7XG5cbiAgICAvLyBQcm9jZXNzIHBlcnNvbnNcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBPYmplY3QudmFsdWVzKHRoaXMuaGFzcy5zdGF0ZXMpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVudGl0eS5hdHRyaWJ1dGVzLnVzZXJfaWQgJiZcbiAgICAgICAgY29tcHV0ZVN0YXRlRG9tYWluKGVudGl0eSkgPT09IFwicGVyc29uXCJcbiAgICAgICkge1xuICAgICAgICB1c2VySWRUb05hbWVbZW50aXR5LmF0dHJpYnV0ZXMudXNlcl9pZF0gPVxuICAgICAgICAgIGVudGl0eS5hdHRyaWJ1dGVzLmZyaWVuZGx5X25hbWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyB1c2Vyc1xuICAgIGlmICh1c2VyUHJvbSkge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCB1c2VyUHJvbTtcbiAgICAgIGZvciAoY29uc3QgdXNlciBvZiB1c2Vycykge1xuICAgICAgICBpZiAoISh1c2VyLmlkIGluIHVzZXJJZFRvTmFtZSkpIHtcbiAgICAgICAgICB1c2VySWRUb05hbWVbdXNlci5pZF0gPSB1c2VyLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl91c2VySWRUb05hbWUgPSB1c2VySWRUb05hbWU7XG4gIH0sIDYwMDAwKTtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgY3NzYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdChbdmlydHVhbGl6ZV0pIHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICAubm8tZW50cmllcyB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wcm9ncmVzcy13cmFwcGVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWxvZ2Jvb2tcIjogSGFMb2dib29rO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/logbook/ha-logbook.ts\n");

/***/ }),

/***/ "./src/util/brands-url.ts":
/*!********************************!*\
  !*** ./src/util/brands-url.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   brandsUrl: function() { return /* binding */ brandsUrl; },\n/* harmony export */   extractDomainFromBrandUrl: function() { return /* binding */ extractDomainFromBrandUrl; },\n/* harmony export */   hardwareBrandsUrl: function() { return /* binding */ hardwareBrandsUrl; },\n/* harmony export */   isBrandUrl: function() { return /* binding */ isBrandUrl; }\n/* harmony export */ });\nvar brandsUrl = function brandsUrl(options) {\n  return \"https://brands.home-assistant.io/\".concat(options.brand ? \"brands/\" : \"\").concat(options.useFallback ? \"_/\" : \"\").concat(options.domain, \"/\").concat(options.darkOptimized ? \"dark_\" : \"\").concat(options.type, \".png\");\n};\nvar hardwareBrandsUrl = function hardwareBrandsUrl(options) {\n  return \"https://brands.home-assistant.io/hardware/\".concat(options.category, \"/\").concat(options.darkOptimized ? \"dark_\" : \"\").concat(options.manufacturer).concat(options.model ? \"_\".concat(options.model) : \"\", \".png\");\n};\nvar extractDomainFromBrandUrl = function extractDomainFromBrandUrl(url) {\n  return url.split(\"/\")[4];\n};\nvar isBrandUrl = function isBrandUrl(thumbnail) {\n  return thumbnail.startsWith(\"https://brands.home-assistant.io/\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbC9icmFuZHMtdXJsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFlQTtBQUFBO0FBSUE7QUFHQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy91dGlsL2JyYW5kcy11cmwudHM/YjI5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIEJyYW5kc09wdGlvbnMge1xuICBkb21haW46IHN0cmluZztcbiAgdHlwZTogXCJpY29uXCIgfCBcImxvZ29cIiB8IFwiaWNvbkAyeFwiIHwgXCJsb2dvQDJ4XCI7XG4gIHVzZUZhbGxiYWNrPzogYm9vbGVhbjtcbiAgZGFya09wdGltaXplZD86IGJvb2xlYW47XG4gIGJyYW5kPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYXJkd2FyZUJyYW5kc09wdGlvbnMge1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBtb2RlbD86IHN0cmluZztcbiAgbWFudWZhY3R1cmVyOiBzdHJpbmc7XG4gIGRhcmtPcHRpbWl6ZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgYnJhbmRzVXJsID0gKG9wdGlvbnM6IEJyYW5kc09wdGlvbnMpOiBzdHJpbmcgPT5cbiAgYGh0dHBzOi8vYnJhbmRzLmhvbWUtYXNzaXN0YW50LmlvLyR7b3B0aW9ucy5icmFuZCA/IFwiYnJhbmRzL1wiIDogXCJcIn0ke1xuICAgIG9wdGlvbnMudXNlRmFsbGJhY2sgPyBcIl8vXCIgOiBcIlwiXG4gIH0ke29wdGlvbnMuZG9tYWlufS8ke29wdGlvbnMuZGFya09wdGltaXplZCA/IFwiZGFya19cIiA6IFwiXCJ9JHtcbiAgICBvcHRpb25zLnR5cGVcbiAgfS5wbmdgO1xuXG5leHBvcnQgY29uc3QgaGFyZHdhcmVCcmFuZHNVcmwgPSAob3B0aW9uczogSGFyZHdhcmVCcmFuZHNPcHRpb25zKTogc3RyaW5nID0+XG4gIGBodHRwczovL2JyYW5kcy5ob21lLWFzc2lzdGFudC5pby9oYXJkd2FyZS8ke29wdGlvbnMuY2F0ZWdvcnl9LyR7XG4gICAgb3B0aW9ucy5kYXJrT3B0aW1pemVkID8gXCJkYXJrX1wiIDogXCJcIlxuICB9JHtvcHRpb25zLm1hbnVmYWN0dXJlcn0ke29wdGlvbnMubW9kZWwgPyBgXyR7b3B0aW9ucy5tb2RlbH1gIDogXCJcIn0ucG5nYDtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3REb21haW5Gcm9tQnJhbmRVcmwgPSAodXJsOiBzdHJpbmcpID0+IHVybC5zcGxpdChcIi9cIilbNF07XG5cbmV4cG9ydCBjb25zdCBpc0JyYW5kVXJsID0gKHRodW1ibmFpbDogc3RyaW5nIHwgXCJcIik6IGJvb2xlYW4gPT5cbiAgdGh1bWJuYWlsLnN0YXJ0c1dpdGgoXCJodHRwczovL2JyYW5kcy5ob21lLWFzc2lzdGFudC5pby9cIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/util/brands-url.ts\n");

/***/ })

}]);