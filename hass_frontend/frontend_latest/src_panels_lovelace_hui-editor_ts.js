"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_hui-editor_ts"],{

/***/ "./src/components/ha-top-app-bar-fixed.ts":
/*!************************************************!*\
  !*** ./src/components/ha-top-app-bar-fixed.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTopAppBarFixed: () => (/* binding */ HaTopAppBarFixed)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_mwc_top_app_bar_fixed_mwc_top_app_bar_fixed_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-top-app-bar-fixed/mwc-top-app-bar-fixed-base */ \"./node_modules/@material/mwc-top-app-bar-fixed/mwc-top-app-bar-fixed-base.js\");\n/* harmony import */ var _material_mwc_top_app_bar_mwc_top_app_bar_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-top-app-bar/mwc-top-app-bar.css */ \"./node_modules/@material/mwc-top-app-bar/mwc-top-app-bar.css.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\n\nlet HaTopAppBarFixed = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-top-app-bar-fixed\")], function (_initialize, _TopAppBarFixedBase) {\n  class HaTopAppBarFixed extends _TopAppBarFixedBase {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTopAppBarFixed,\n    d: [{\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value() {\n        return [_material_mwc_top_app_bar_mwc_top_app_bar_css__WEBPACK_IMPORTED_MODULE_2__.styles, lit__WEBPACK_IMPORTED_MODULE_3__.css`\n      .mdc-top-app-bar__row {\n        height: var(--header-height);\n        border-bottom: var(--app-header-border-bottom);\n      }\n      .mdc-top-app-bar--fixed-adjust {\n        padding-top: var(--header-height);\n      }\n      .mdc-top-app-bar {\n        --mdc-typography-headline6-font-weight: 400;\n        color: var(--app-header-text-color, var(--mdc-theme-on-primary, #fff));\n        background-color: var(\n          --app-header-background-color,\n          var(--mdc-theme-primary)\n        );\n      }\n    `];\n      }\n    }]\n  };\n}, _material_mwc_top_app_bar_fixed_mwc_top_app_bar_fixed_base__WEBPACK_IMPORTED_MODULE_1__.TopAppBarFixedBase);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS10b3AtYXBwLWJhci1maXhlZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFxQkE7QUFBQTtBQUFBO0FBckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2hhLXRvcC1hcHAtYmFyLWZpeGVkLnRzP2MwNWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9wQXBwQmFyRml4ZWRCYXNlIH0gZnJvbSBcIkBtYXRlcmlhbC9td2MtdG9wLWFwcC1iYXItZml4ZWQvbXdjLXRvcC1hcHAtYmFyLWZpeGVkLWJhc2VcIjtcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyL213Yy10b3AtYXBwLWJhci5jc3NcIjtcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS10b3AtYXBwLWJhci1maXhlZFwiKVxuZXhwb3J0IGNsYXNzIEhhVG9wQXBwQmFyRml4ZWQgZXh0ZW5kcyBUb3BBcHBCYXJGaXhlZEJhc2Uge1xuICBzdGF0aWMgb3ZlcnJpZGUgc3R5bGVzID0gW1xuICAgIHN0eWxlcyxcbiAgICBjc3NgXG4gICAgICAubWRjLXRvcC1hcHAtYmFyX19yb3cge1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWhlYWRlci1oZWlnaHQpO1xuICAgICAgICBib3JkZXItYm90dG9tOiB2YXIoLS1hcHAtaGVhZGVyLWJvcmRlci1ib3R0b20pO1xuICAgICAgfVxuICAgICAgLm1kYy10b3AtYXBwLWJhci0tZml4ZWQtYWRqdXN0IHtcbiAgICAgICAgcGFkZGluZy10b3A6IHZhcigtLWhlYWRlci1oZWlnaHQpO1xuICAgICAgfVxuICAgICAgLm1kYy10b3AtYXBwLWJhciB7XG4gICAgICAgIC0tbWRjLXR5cG9ncmFwaHktaGVhZGxpbmU2LWZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1hcHAtaGVhZGVyLXRleHQtY29sb3IsIHZhcigtLW1kYy10aGVtZS1vbi1wcmltYXJ5LCAjZmZmKSk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgICAgICAtLWFwcC1oZWFkZXItYmFja2dyb3VuZC1jb2xvcixcbiAgICAgICAgICB2YXIoLS1tZGMtdGhlbWUtcHJpbWFyeSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICBgLFxuICBdO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtdG9wLWFwcC1iYXItZml4ZWRcIjogSGFUb3BBcHBCYXJGaXhlZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-top-app-bar-fixed.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/hui-editor.ts":
/*!*******************************************!*\
  !*** ./src/panels/lovelace/hui-editor.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _codemirror_commands__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @codemirror/commands */ \"./node_modules/@codemirror/commands/dist/index.js\");\n/* harmony import */ var _material_mwc_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! superstruct */ \"./node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _common_util_deep_equal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/util/deep-equal */ \"./src/common/util/deep-equal.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_code_editor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_toast__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../util/toast */ \"./src/util/toast.ts\");\n/* harmony import */ var _components_ha_top_app_bar_fixed__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../components/ha-top-app-bar-fixed */ \"./src/components/ha-top-app-bar-fixed.ts\");\n\n\n\n\n\nconst mdiClose = \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst lovelaceStruct = (0,superstruct__WEBPACK_IMPORTED_MODULE_16__.type)({\n  title: (0,superstruct__WEBPACK_IMPORTED_MODULE_16__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_16__.string)()),\n  views: (0,superstruct__WEBPACK_IMPORTED_MODULE_16__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_16__.object)())\n});\nlet LovelaceFullConfigEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.customElement)(\"hui-editor\")], function (_initialize, _LitElement) {\n  class LovelaceFullConfigEditor extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: LovelaceFullConfigEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.property)({\n        attribute: false\n      })],\n      key: \"lovelace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.property)()],\n      key: \"closeEditor\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.state)()],\n      key: \"_saving\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_6__.state)()],\n      key: \"_changed\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_5__.html`\n      <ha-top-app-bar-fixed>\n        <ha-icon-button\n          slot=\"navigationIcon\"\n          .path=${mdiClose}\n          @click=${this._closeEditor}\n          .label=${this.hass.localize(\"ui.common.close\")}\n        ></ha-icon-button>\n        <div slot=\"title\">\n          ${this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.header\")}\n        </div>\n        <div\n          slot=\"actionItems\"\n          class=\"save-button\n              ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_7__.classMap)({\n          saved: this._saving === false || this._changed === true\n        })}\"\n        >\n          ${this._changed ? this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.unsaved_changes\") : this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.saved\")}\n        </div>\n        <mwc-button\n          raised\n          slot=\"actionItems\"\n          @click=${this._handleSave}\n          .disabled=${!this._changed}\n          >${this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.save\")}</mwc-button\n        >\n        <div class=\"content\">\n          <ha-code-editor\n            mode=\"yaml\"\n            autofocus\n            autocomplete-entities\n            autocomplete-icons\n            .hass=${this.hass}\n            @value-changed=${this._yamlChanged}\n            @editor-save=${this._handleSave}\n            dir=\"ltr\"\n          >\n          </ha-code-editor>\n        </div>\n      </ha-top-app-bar-fixed>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(LovelaceFullConfigEditor.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this.yamlEditor.value = (0,js_yaml__WEBPACK_IMPORTED_MODULE_4__.dump)(this.lovelace.rawConfig);\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        const oldLovelace = changedProps.get(\"lovelace\");\n        if (!this._saving && oldLovelace && this.lovelace && oldLovelace.rawConfig !== this.lovelace.rawConfig && !(0,_common_util_deep_equal__WEBPACK_IMPORTED_MODULE_8__.deepEqual)(oldLovelace.rawConfig, this.lovelace.rawConfig)) {\n          (0,_util_toast__WEBPACK_IMPORTED_MODULE_14__.showToast)(this, {\n            message: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.lovelace_changed\"),\n            action: {\n              action: () => {\n                this.yamlEditor.value = (0,js_yaml__WEBPACK_IMPORTED_MODULE_4__.dump)(this.lovelace.rawConfig);\n              },\n              text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.reload\")\n            },\n            duration: 0,\n            dismissable: false\n          });\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_13__.haStyle, lit__WEBPACK_IMPORTED_MODULE_5__.css`\n        :host {\n          --code-mirror-height: 100%;\n          --app-header-background-color: var(\n            --app-header-edit-background-color,\n            #455a64\n          );\n          --app-header-text-color: var(--app-header-edit-text-color, #fff);\n        }\n\n        mwc-button[disabled] {\n          background-color: var(--mdc-theme-on-primary);\n          border-radius: 4px;\n        }\n\n        .content {\n          height: calc(100vh - var(--header-height));\n        }\n\n        .comments {\n          font-size: 16px;\n        }\n\n        .save-button {\n          opacity: 0;\n          font-size: 14px;\n          padding: 0px 10px;\n        }\n\n        .saved {\n          opacity: 1;\n        }\n      `];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_yamlChanged\",\n      value: function _yamlChanged() {\n        this._changed = (0,_codemirror_commands__WEBPACK_IMPORTED_MODULE_17__.undoDepth)(this.yamlEditor.codemirror.state) > 0;\n        if (this._changed && !window.onbeforeunload) {\n          window.onbeforeunload = () => true;\n        } else if (!this._changed && window.onbeforeunload) {\n          window.onbeforeunload = null;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_closeEditor\",\n      value: async function _closeEditor() {\n        if (this._changed && !(await (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showConfirmationDialog)(this, {\n          text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.confirm_unsaved_changes\"),\n          dismissText: this.hass.localize(\"ui.common.stay\"),\n          confirmText: this.hass.localize(\"ui.common.leave\")\n        }))) {\n          return;\n        }\n        window.onbeforeunload = null;\n        if (this.closeEditor) {\n          this.closeEditor();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_removeConfig\",\n      value: async function _removeConfig() {\n        try {\n          await this.lovelace.deleteConfig();\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.error_remove\", \"error\", err)\n          });\n        }\n        window.onbeforeunload = null;\n        if (this.closeEditor) {\n          this.closeEditor();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleSave\",\n      value: async function _handleSave() {\n        this._saving = true;\n        const value = this.yamlEditor.value;\n        if (!value) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showConfirmationDialog)(this, {\n            title: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.confirm_remove_config_title\"),\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.confirm_remove_config_text\"),\n            confirmText: this.hass.localize(\"ui.common.remove\"),\n            dismissText: this.hass.localize(\"ui.common.cancel\"),\n            confirm: () => this._removeConfig()\n          });\n          return;\n        }\n        if (this.yamlEditor.hasComments) {\n          if (!confirm(this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.confirm_unsaved_comments\"))) {\n            return;\n          }\n        }\n        let config;\n        try {\n          config = (0,js_yaml__WEBPACK_IMPORTED_MODULE_4__.load)(value);\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.error_parse_yaml\", \"error\", err)\n          });\n          this._saving = false;\n          return;\n        }\n        try {\n          (0,superstruct__WEBPACK_IMPORTED_MODULE_16__.assert)(config, lovelaceStruct);\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.error_invalid_config\", \"error\", err)\n          });\n          return;\n        }\n        // @ts-ignore\n        if (config.resources) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.resources_moved\")\n          });\n        }\n        try {\n          await this.lovelace.saveConfig(config);\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_12__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.lovelace.editor.raw_editor.error_save_yaml\", \"error\", err)\n          });\n        }\n        window.onbeforeunload = null;\n        this._changed = false;\n        this._saving = false;\n      }\n    }, {\n      kind: \"get\",\n      key: \"yamlEditor\",\n      value: function yamlEditor() {\n        return this.shadowRoot.querySelector(\"ha-code-editor\");\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_5__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2h1aS1lZGl0b3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF5UUE7QUFBQTtBQUFBO0FBelFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9odWktZWRpdG9yLnRzP2E0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5kb0RlcHRoIH0gZnJvbSBcIkBjb2RlbWlycm9yL2NvbW1hbmRzXCI7XG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWJ1dHRvblwiO1xuaW1wb3J0IHsgbWRpQ2xvc2UgfSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHsgZHVtcCwgbG9hZCB9IGZyb20gXCJqcy15YW1sXCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBQcm9wZXJ0eVZhbHVlcyxcbiAgVGVtcGxhdGVSZXN1bHQsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBhcnJheSwgYXNzZXJ0LCBvYmplY3QsIG9wdGlvbmFsLCBzdHJpbmcsIHR5cGUgfSBmcm9tIFwic3VwZXJzdHJ1Y3RcIjtcbmltcG9ydCB7IGRlZXBFcXVhbCB9IGZyb20gXCIuLi8uLi9jb21tb24vdXRpbC9kZWVwLWVxdWFsXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWNpcmN1bGFyLXByb2dyZXNzXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWNvZGUtZWRpdG9yXCI7XG5pbXBvcnQgdHlwZSB7IEhhQ29kZUVkaXRvciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2hhLWNvZGUtZWRpdG9yXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgdHlwZSB7IExvdmVsYWNlQ29uZmlnIH0gZnJvbSBcIi4uLy4uL2RhdGEvbG92ZWxhY2VcIjtcbmltcG9ydCB7XG4gIHNob3dBbGVydERpYWxvZyxcbiAgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyxcbn0gZnJvbSBcIi4uLy4uL2RpYWxvZ3MvZ2VuZXJpYy9zaG93LWRpYWxvZy1ib3hcIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBzaG93VG9hc3QgfSBmcm9tIFwiLi4vLi4vdXRpbC90b2FzdFwiO1xuaW1wb3J0IHR5cGUgeyBMb3ZlbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLXRvcC1hcHAtYmFyLWZpeGVkXCI7XG5cbmNvbnN0IGxvdmVsYWNlU3RydWN0ID0gdHlwZSh7XG4gIHRpdGxlOiBvcHRpb25hbChzdHJpbmcoKSksXG4gIHZpZXdzOiBhcnJheShvYmplY3QoKSksXG59KTtcblxuQGN1c3RvbUVsZW1lbnQoXCJodWktZWRpdG9yXCIpXG5jbGFzcyBMb3ZlbGFjZUZ1bGxDb25maWdFZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbG92ZWxhY2U/OiBMb3ZlbGFjZTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgY2xvc2VFZGl0b3I/OiAoKSA9PiB2b2lkO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3NhdmluZz86IGJvb2xlYW47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2hhbmdlZD86IGJvb2xlYW47XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB8IHZvaWQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhLXRvcC1hcHAtYmFyLWZpeGVkPlxuICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICBzbG90PVwibmF2aWdhdGlvbkljb25cIlxuICAgICAgICAgIC5wYXRoPSR7bWRpQ2xvc2V9XG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5fY2xvc2VFZGl0b3J9XG4gICAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5jbG9zZVwiKX1cbiAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgIDxkaXYgc2xvdD1cInRpdGxlXCI+XG4gICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IuaGVhZGVyXCIpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHNsb3Q9XCJhY3Rpb25JdGVtc1wiXG4gICAgICAgICAgY2xhc3M9XCJzYXZlLWJ1dHRvblxuICAgICAgICAgICAgICAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgIHNhdmVkOiB0aGlzLl9zYXZpbmchID09PSBmYWxzZSB8fCB0aGlzLl9jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgICAgIH0pfVwiXG4gICAgICAgID5cbiAgICAgICAgICAke3RoaXMuX2NoYW5nZWRcbiAgICAgICAgICAgID8gdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5yYXdfZWRpdG9yLnVuc2F2ZWRfY2hhbmdlc1wiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5yYXdfZWRpdG9yLnNhdmVkXCIpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPG13Yy1idXR0b25cbiAgICAgICAgICByYWlzZWRcbiAgICAgICAgICBzbG90PVwiYWN0aW9uSXRlbXNcIlxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2hhbmRsZVNhdmV9XG4gICAgICAgICAgLmRpc2FibGVkPSR7IXRoaXMuX2NoYW5nZWR9XG4gICAgICAgICAgPiR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3Iuc2F2ZVwiXG4gICAgICAgICAgKX08L213Yy1idXR0b25cbiAgICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxoYS1jb2RlLWVkaXRvclxuICAgICAgICAgICAgbW9kZT1cInlhbWxcIlxuICAgICAgICAgICAgYXV0b2ZvY3VzXG4gICAgICAgICAgICBhdXRvY29tcGxldGUtZW50aXRpZXNcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZS1pY29uc1xuICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3lhbWxDaGFuZ2VkfVxuICAgICAgICAgICAgQGVkaXRvci1zYXZlPSR7dGhpcy5faGFuZGxlU2F2ZX1cbiAgICAgICAgICAgIGRpcj1cImx0clwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvaGEtY29kZS1lZGl0b3I+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYS10b3AtYXBwLWJhci1maXhlZD5cbiAgICBgO1xuICB9XG5cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy55YW1sRWRpdG9yLnZhbHVlID0gZHVtcCh0aGlzLmxvdmVsYWNlIS5yYXdDb25maWcpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGNvbnN0IG9sZExvdmVsYWNlID0gY2hhbmdlZFByb3BzLmdldChcImxvdmVsYWNlXCIpIGFzIExvdmVsYWNlIHwgdW5kZWZpbmVkO1xuICAgIGlmIChcbiAgICAgICF0aGlzLl9zYXZpbmcgJiZcbiAgICAgIG9sZExvdmVsYWNlICYmXG4gICAgICB0aGlzLmxvdmVsYWNlICYmXG4gICAgICBvbGRMb3ZlbGFjZS5yYXdDb25maWcgIT09IHRoaXMubG92ZWxhY2UucmF3Q29uZmlnICYmXG4gICAgICAhZGVlcEVxdWFsKG9sZExvdmVsYWNlLnJhd0NvbmZpZywgdGhpcy5sb3ZlbGFjZS5yYXdDb25maWcpXG4gICAgKSB7XG4gICAgICBzaG93VG9hc3QodGhpcywge1xuICAgICAgICBtZXNzYWdlOiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IubG92ZWxhY2VfY2hhbmdlZFwiXG4gICAgICAgICksXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy55YW1sRWRpdG9yLnZhbHVlID0gZHVtcCh0aGlzLmxvdmVsYWNlIS5yYXdDb25maWcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IucmVsb2FkXCJcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgZGlzbWlzc2FibGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgLS1jb2RlLW1pcnJvci1oZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgLS1hcHAtaGVhZGVyLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgICAgICAgIC0tYXBwLWhlYWRlci1lZGl0LWJhY2tncm91bmQtY29sb3IsXG4gICAgICAgICAgICAjNDU1YTY0XG4gICAgICAgICAgKTtcbiAgICAgICAgICAtLWFwcC1oZWFkZXItdGV4dC1jb2xvcjogdmFyKC0tYXBwLWhlYWRlci1lZGl0LXRleHQtY29sb3IsICNmZmYpO1xuICAgICAgICB9XG5cbiAgICAgICAgbXdjLWJ1dHRvbltkaXNhYmxlZF0ge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1kYy10aGVtZS1vbi1wcmltYXJ5KTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gdmFyKC0taGVhZGVyLWhlaWdodCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbW1lbnRzIHtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc2F2ZS1idXR0b24ge1xuICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDBweCAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnNhdmVkIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIF95YW1sQ2hhbmdlZCgpIHtcbiAgICB0aGlzLl9jaGFuZ2VkID0gdW5kb0RlcHRoKHRoaXMueWFtbEVkaXRvci5jb2RlbWlycm9yIS5zdGF0ZSkgPiAwO1xuICAgIGlmICh0aGlzLl9jaGFuZ2VkICYmICF3aW5kb3cub25iZWZvcmV1bmxvYWQpIHtcbiAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHRydWU7XG4gICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlZCAmJiB3aW5kb3cub25iZWZvcmV1bmxvYWQpIHtcbiAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfY2xvc2VFZGl0b3IoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5fY2hhbmdlZCAmJlxuICAgICAgIShhd2FpdCBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IuY29uZmlybV91bnNhdmVkX2NoYW5nZXNcIlxuICAgICAgICApLFxuICAgICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5zdGF5XCIpLFxuICAgICAgICBjb25maXJtVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5sZWF2ZVwiKSxcbiAgICAgIH0pKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG51bGw7XG4gICAgaWYgKHRoaXMuY2xvc2VFZGl0b3IpIHtcbiAgICAgIHRoaXMuY2xvc2VFZGl0b3IoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9yZW1vdmVDb25maWcoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMubG92ZWxhY2UhLmRlbGV0ZUNvbmZpZygpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IucmF3X2VkaXRvci5lcnJvcl9yZW1vdmVcIixcbiAgICAgICAgICBcImVycm9yXCIsXG4gICAgICAgICAgZXJyXG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICB9XG4gICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gbnVsbDtcbiAgICBpZiAodGhpcy5jbG9zZUVkaXRvcikge1xuICAgICAgdGhpcy5jbG9zZUVkaXRvcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2hhbmRsZVNhdmUoKSB7XG4gICAgdGhpcy5fc2F2aW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy55YW1sRWRpdG9yLnZhbHVlO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IucmF3X2VkaXRvci5jb25maXJtX3JlbW92ZV9jb25maWdfdGl0bGVcIlxuICAgICAgICApLFxuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IucmF3X2VkaXRvci5jb25maXJtX3JlbW92ZV9jb25maWdfdGV4dFwiXG4gICAgICAgICksXG4gICAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24ucmVtb3ZlXCIpLFxuICAgICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tbW9uLmNhbmNlbFwiKSxcbiAgICAgICAgY29uZmlybTogKCkgPT4gdGhpcy5fcmVtb3ZlQ29uZmlnKCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy55YW1sRWRpdG9yLmhhc0NvbW1lbnRzKSB7XG4gICAgICBpZiAoXG4gICAgICAgICFjb25maXJtKFxuICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IuY29uZmlybV91bnNhdmVkX2NvbW1lbnRzXCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNvbmZpZzogTG92ZWxhY2VDb25maWc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbmZpZyA9IGxvYWQodmFsdWUpIGFzIExvdmVsYWNlQ29uZmlnO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IucmF3X2VkaXRvci5lcnJvcl9wYXJzZV95YW1sXCIsXG4gICAgICAgICAgXCJlcnJvclwiLFxuICAgICAgICAgIGVyclxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9zYXZpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGFzc2VydChjb25maWcsIGxvdmVsYWNlU3RydWN0KTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLnJhd19lZGl0b3IuZXJyb3JfaW52YWxpZF9jb25maWdcIixcbiAgICAgICAgICBcImVycm9yXCIsXG4gICAgICAgICAgZXJyXG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChjb25maWcucmVzb3VyY2VzKSB7XG4gICAgICBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IucmF3X2VkaXRvci5yZXNvdXJjZXNfbW92ZWRcIlxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmxvdmVsYWNlIS5zYXZlQ29uZmlnKGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRleHQ6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5yYXdfZWRpdG9yLmVycm9yX3NhdmVfeWFtbFwiLFxuICAgICAgICAgIFwiZXJyb3JcIixcbiAgICAgICAgICBlcnJcbiAgICAgICAgKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBudWxsO1xuICAgIHRoaXMuX2NoYW5nZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9zYXZpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IHlhbWxFZGl0b3IoKTogSGFDb2RlRWRpdG9yIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiaGEtY29kZS1lZGl0b3JcIikhIGFzIEhhQ29kZUVkaXRvcjtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLWVkaXRvclwiOiBMb3ZlbGFjZUZ1bGxDb25maWdFZGl0b3I7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/hui-editor.ts\n");

/***/ })

}]);