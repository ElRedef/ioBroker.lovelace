"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_components_ha-service-control_ts"],{

/***/ "./src/components/ha-service-control.ts":
/*!**********************************************!*\
  !*** ./src/components/ha-service-control.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaServiceControl: () => (/* binding */ HaServiceControl)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_compute_object_id__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/entity/compute_object_id */ \"./src/common/entity/compute_object_id.ts\");\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _data_integration__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/integration */ \"./src/data/integration.ts\");\n/* harmony import */ var _data_selector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/selector */ \"./src/data/selector.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _ha_checkbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ha-checkbox */ \"./src/components/ha-checkbox.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _ha_selector_ha_selector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ha-selector/ha-selector */ \"./src/components/ha-selector/ha-selector.ts\");\n/* harmony import */ var _ha_service_picker__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ha-service-picker */ \"./src/components/ha-service-picker.ts\");\n/* harmony import */ var _ha_settings_row__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ha-settings-row */ \"./src/components/ha-settings-row.ts\");\n/* harmony import */ var _ha_yaml_editor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ha-yaml-editor */ \"./src/components/ha-yaml-editor.ts\");\n\nconst mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst attributeFilter = (values, attribute) => {\n  if (typeof attribute === \"object\") {\n    if (Array.isArray(attribute)) {\n      return attribute.some(item => values.includes(item));\n    }\n    return false;\n  }\n  return values.includes(attribute);\n};\nconst showOptionalToggle = field => field.selector && !field.required && !(\"boolean\" in field.selector && field.default);\nlet HaServiceControl = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-service-control\")], function (_initialize, _LitElement) {\n  class HaServiceControl extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaServiceControl,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"showAdvanced\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_checkedKeys\",\n      value() {\n        return new Set();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_manifest\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.query)(\"ha-yaml-editor\")],\n      key: \"_yamlEditor\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProperties) {\n        var _this$value, _this$value2, _this$value3, _this$value5, _this$value5$data, _this$value6, _this$value6$data, _this$value7, _this$value7$data, _this$value8, _this$_value;\n        if (!changedProperties.has(\"value\")) {\n          return;\n        }\n        const oldValue = changedProperties.get(\"value\");\n        if ((oldValue === null || oldValue === void 0 ? void 0 : oldValue.service) !== ((_this$value = this.value) === null || _this$value === void 0 ? void 0 : _this$value.service)) {\n          this._checkedKeys = new Set();\n        }\n        const serviceData = this._getServiceInfo((_this$value2 = this.value) === null || _this$value2 === void 0 ? void 0 : _this$value2.service, this.hass.services);\n\n        // Fetch the manifest if we have a service selected and the service domain changed.\n        // If no service is selected, clear the manifest.\n        if ((_this$value3 = this.value) !== null && _this$value3 !== void 0 && _this$value3.service) {\n          if (!(oldValue !== null && oldValue !== void 0 && oldValue.service) || (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(this.value.service) !== (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(oldValue.service)) {\n            var _this$value4;\n            this._fetchManifest((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)((_this$value4 = this.value) === null || _this$value4 === void 0 ? void 0 : _this$value4.service));\n          }\n        } else {\n          this._manifest = undefined;\n        }\n        if (serviceData && \"target\" in serviceData && ((_this$value5 = this.value) !== null && _this$value5 !== void 0 && (_this$value5$data = _this$value5.data) !== null && _this$value5$data !== void 0 && _this$value5$data.entity_id || (_this$value6 = this.value) !== null && _this$value6 !== void 0 && (_this$value6$data = _this$value6.data) !== null && _this$value6$data !== void 0 && _this$value6$data.area_id || (_this$value7 = this.value) !== null && _this$value7 !== void 0 && (_this$value7$data = _this$value7.data) !== null && _this$value7$data !== void 0 && _this$value7$data.device_id)) {\n          var _this$value$target, _this$value$target2, _this$value$target3;\n          const target = {\n            ...this.value.target\n          };\n          if (this.value.data.entity_id && !((_this$value$target = this.value.target) !== null && _this$value$target !== void 0 && _this$value$target.entity_id)) {\n            target.entity_id = this.value.data.entity_id;\n          }\n          if (this.value.data.area_id && !((_this$value$target2 = this.value.target) !== null && _this$value$target2 !== void 0 && _this$value$target2.area_id)) {\n            target.area_id = this.value.data.area_id;\n          }\n          if (this.value.data.device_id && !((_this$value$target3 = this.value.target) !== null && _this$value$target3 !== void 0 && _this$value$target3.device_id)) {\n            target.device_id = this.value.data.device_id;\n          }\n          this._value = {\n            ...this.value,\n            target,\n            data: {\n              ...this.value.data\n            }\n          };\n          delete this._value.data.entity_id;\n          delete this._value.data.device_id;\n          delete this._value.data.area_id;\n        } else {\n          this._value = this.value;\n        }\n        if ((oldValue === null || oldValue === void 0 ? void 0 : oldValue.service) !== ((_this$value8 = this.value) === null || _this$value8 === void 0 ? void 0 : _this$value8.service)) {\n          let updatedDefaultValue = false;\n          if (this._value && serviceData) {\n            const loadDefaults = this.value && !(\"data\" in this.value);\n            // Set mandatory bools without a default value to false\n            if (!this._value.data) {\n              this._value.data = {};\n            }\n            serviceData.fields.forEach(field => {\n              if (field.selector && field.required && field.default === undefined && \"boolean\" in field.selector && this._value.data[field.key] === undefined) {\n                updatedDefaultValue = true;\n                this._value.data[field.key] = false;\n              }\n              if (loadDefaults && field.selector && field.default !== undefined && this._value.data[field.key] === undefined) {\n                updatedDefaultValue = true;\n                this._value.data[field.key] = field.default;\n              }\n            });\n          }\n          if (updatedDefaultValue) {\n            (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n              value: {\n                ...this._value\n              }\n            });\n          }\n        }\n        if ((_this$_value = this._value) !== null && _this$_value !== void 0 && _this$_value.data) {\n          const yamlEditor = this._yamlEditor;\n          if (yamlEditor && yamlEditor.value !== this._value.data) {\n            yamlEditor.setValue(this._value.data);\n          }\n        }\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getServiceInfo\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_17__[\"default\"])((service, serviceDomains) => {\n          if (!service || !serviceDomains) {\n            return undefined;\n          }\n          const domain = (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_5__.computeDomain)(service);\n          const serviceName = (0,_common_entity_compute_object_id__WEBPACK_IMPORTED_MODULE_6__.computeObjectId)(service);\n          if (!(domain in serviceDomains)) {\n            return undefined;\n          }\n          if (!(serviceName in serviceDomains[domain])) {\n            return undefined;\n          }\n          const fields = Object.entries(serviceDomains[domain][serviceName].fields).map(([key, value]) => ({\n            key,\n            ...value,\n            selector: value.selector\n          }));\n          return {\n            ...serviceDomains[domain][serviceName],\n            fields,\n            hasSelector: fields.length ? fields.filter(field => field.selector).map(field => field.key) : []\n          };\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_filterFields\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_17__[\"default\"])((serviceData, value) => {\n          var _serviceData$fields;\n          return serviceData === null || serviceData === void 0 ? void 0 : (_serviceData$fields = serviceData.fields) === null || _serviceData$fields === void 0 ? void 0 : _serviceData$fields.filter(field => !field.filter || this._filterField(serviceData.target, field.filter, value));\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_filterField\",\n      value: function _filterField(target, filter, value) {\n        var _value$target, _value$data, _value$target2, _value$data2, _value$target3, _value$data3;\n        const targetSelector = target ? {\n          target\n        } : {\n          target: {}\n        };\n        const targetEntities = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__.ensureArray)((value === null || value === void 0 ? void 0 : (_value$target = value.target) === null || _value$target === void 0 ? void 0 : _value$target.entity_id) || (value === null || value === void 0 ? void 0 : (_value$data = value.data) === null || _value$data === void 0 ? void 0 : _value$data.entity_id)) || [];\n        const targetDevices = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__.ensureArray)((value === null || value === void 0 ? void 0 : (_value$target2 = value.target) === null || _value$target2 === void 0 ? void 0 : _value$target2.device_id) || (value === null || value === void 0 ? void 0 : (_value$data2 = value.data) === null || _value$data2 === void 0 ? void 0 : _value$data2.device_id)) || [];\n        const targetAreas = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__.ensureArray)((value === null || value === void 0 ? void 0 : (_value$target3 = value.target) === null || _value$target3 === void 0 ? void 0 : _value$target3.area_id) || (value === null || value === void 0 ? void 0 : (_value$data3 = value.data) === null || _value$data3 === void 0 ? void 0 : _value$data3.area_id));\n        if (targetAreas) {\n          targetAreas.forEach(areaId => {\n            const expanded = (0,_data_selector__WEBPACK_IMPORTED_MODULE_9__.expandAreaTarget)(this.hass, areaId, this.hass.devices, this.hass.entities, targetSelector);\n            targetEntities.push(...expanded.entities);\n            targetDevices.push(...expanded.devices);\n          });\n        }\n        if (targetDevices.length) {\n          targetDevices.forEach(deviceId => {\n            targetEntities.push(...(0,_data_selector__WEBPACK_IMPORTED_MODULE_9__.expandDeviceTarget)(this.hass, deviceId, this.hass.entities, targetSelector).entities);\n          });\n        }\n        if (!targetEntities.length) {\n          return false;\n        }\n        if (targetEntities.some(entityId => {\n          var _supported_features;\n          const entityState = this.hass.states[entityId];\n          if (!entityState) {\n            return false;\n          }\n          if ((_supported_features = filter.supported_features) !== null && _supported_features !== void 0 && _supported_features.some(feature => (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_7__.supportsFeature)(entityState, feature))) {\n            return true;\n          }\n          if (filter.attribute && Object.entries(filter.attribute).some(([attribute, values]) => attribute in entityState.attributes && attributeFilter(values, entityState.attributes[attribute]))) {\n            return true;\n          }\n          return false;\n        })) {\n          return true;\n        }\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_value2, _this$_value3, _this$_value4, _this$_value5, _this$_value6, _this$_value6$data, _this$_value7;\n        const serviceData = this._getServiceInfo((_this$_value2 = this._value) === null || _this$_value2 === void 0 ? void 0 : _this$_value2.service, this.hass.services);\n        const shouldRenderServiceDataYaml = (serviceData === null || serviceData === void 0 ? void 0 : serviceData.fields.length) && !serviceData.hasSelector.length || serviceData && Object.keys(((_this$_value3 = this._value) === null || _this$_value3 === void 0 ? void 0 : _this$_value3.data) || {}).some(key => !serviceData.hasSelector.includes(key));\n        const entityId = shouldRenderServiceDataYaml && (serviceData === null || serviceData === void 0 ? void 0 : serviceData.fields.find(field => field.key === \"entity_id\"));\n        const hasOptional = Boolean(!shouldRenderServiceDataYaml && (serviceData === null || serviceData === void 0 ? void 0 : serviceData.fields.some(field => showOptionalToggle(field))));\n        const filteredFields = this._filterFields(serviceData, this._value);\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-service-picker\n        .hass=${this.hass}\n        .value=${(_this$_value4 = this._value) === null || _this$_value4 === void 0 ? void 0 : _this$_value4.service}\n        .disabled=${this.disabled}\n        @value-changed=${this._serviceChanged}\n      ></ha-service-picker>\n      <div class=\"description\">\n        ${serviceData !== null && serviceData !== void 0 && serviceData.description ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<p>${serviceData === null || serviceData === void 0 ? void 0 : serviceData.description}</p>` : \"\"}\n        ${this._manifest ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <a\n              href=${this._manifest.is_built_in ? (0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_10__.documentationUrl)(this.hass, `/integrations/${this._manifest.domain}`) : this._manifest.documentation}\n              title=${this.hass.localize(\"ui.components.service-control.integration_doc\")}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <ha-icon-button\n                .path=${mdiHelpCircle}\n                class=\"help-icon\"\n              ></ha-icon-button>\n            </a>` : \"\"}\n      </div>\n      ${serviceData && \"target\" in serviceData ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-settings-row .narrow=${this.narrow}>\n            ${hasOptional ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<div slot=\"prefix\" class=\"checkbox-spacer\"></div>` : \"\"}\n            <span slot=\"heading\"\n              >${this.hass.localize(\"ui.components.service-control.target\")}</span\n            >\n            <span slot=\"description\"\n              >${this.hass.localize(\"ui.components.service-control.target_description\")}</span\n            ><ha-selector\n              .hass=${this.hass}\n              .selector=${serviceData.target ? {\n          target: serviceData.target\n        } : {\n          target: {}\n        }}\n              .disabled=${this.disabled}\n              @value-changed=${this._targetChanged}\n              .value=${(_this$_value5 = this._value) === null || _this$_value5 === void 0 ? void 0 : _this$_value5.target}\n            ></ha-selector\n          ></ha-settings-row>` : entityId ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-entity-picker\n            .hass=${this.hass}\n            .disabled=${this.disabled}\n            .value=${(_this$_value6 = this._value) === null || _this$_value6 === void 0 ? void 0 : (_this$_value6$data = _this$_value6.data) === null || _this$_value6$data === void 0 ? void 0 : _this$_value6$data.entity_id}\n            .label=${entityId.description}\n            @value-changed=${this._entityPicked}\n            allow-custom-entity\n          ></ha-entity-picker>` : \"\"}\n      ${shouldRenderServiceDataYaml ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-yaml-editor\n            .hass=${this.hass}\n            .label=${this.hass.localize(\"ui.components.service-control.data\")}\n            .name=${\"data\"}\n            .readOnly=${this.disabled}\n            .defaultValue=${(_this$_value7 = this._value) === null || _this$_value7 === void 0 ? void 0 : _this$_value7.data}\n            @value-changed=${this._dataChanged}\n          ></ha-yaml-editor>` : filteredFields === null || filteredFields === void 0 ? void 0 : filteredFields.map(dataField => {\n          var _this$_value8, _this$_value9, _this$_value10, _this$_value11;\n          const showOptional = showOptionalToggle(dataField);\n          return dataField.selector && (!dataField.advanced || this.showAdvanced || (_this$_value8 = this._value) !== null && _this$_value8 !== void 0 && _this$_value8.data && this._value.data[dataField.key] !== undefined) ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-settings-row .narrow=${this.narrow}>\n                  ${!showOptional ? hasOptional ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<div slot=\"prefix\" class=\"checkbox-spacer\"></div>` : \"\" : lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-checkbox\n                        .key=${dataField.key}\n                        .checked=${this._checkedKeys.has(dataField.key) || ((_this$_value9 = this._value) === null || _this$_value9 === void 0 ? void 0 : _this$_value9.data) && this._value.data[dataField.key] !== undefined}\n                        .disabled=${this.disabled}\n                        @change=${this._checkboxChanged}\n                        slot=\"prefix\"\n                      ></ha-checkbox>`}\n                  <span slot=\"heading\">${dataField.name || dataField.key}</span>\n                  <span slot=\"description\">${dataField === null || dataField === void 0 ? void 0 : dataField.description}</span>\n                  <ha-selector\n                    .disabled=${this.disabled || showOptional && !this._checkedKeys.has(dataField.key) && (!((_this$_value10 = this._value) !== null && _this$_value10 !== void 0 && _this$_value10.data) || this._value.data[dataField.key] === undefined)}\n                    .hass=${this.hass}\n                    .selector=${dataField.selector}\n                    .key=${dataField.key}\n                    @value-changed=${this._serviceDataChanged}\n                    .value=${(_this$_value11 = this._value) !== null && _this$_value11 !== void 0 && _this$_value11.data ? this._value.data[dataField.key] : undefined}\n                    .placeholder=${dataField.default}\n                  ></ha-selector>\n                </ha-settings-row>` : \"\";\n        })}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_checkboxChanged\",\n      value: function _checkboxChanged(ev) {\n        const checked = ev.currentTarget.checked;\n        const key = ev.currentTarget.key;\n        let data;\n        if (checked) {\n          var _this$_getServiceInfo, _this$_value12;\n          this._checkedKeys.add(key);\n          const field = (_this$_getServiceInfo = this._getServiceInfo((_this$_value12 = this._value) === null || _this$_value12 === void 0 ? void 0 : _this$_value12.service, this.hass.services)) === null || _this$_getServiceInfo === void 0 ? void 0 : _this$_getServiceInfo.fields.find(_field => _field.key === key);\n          let defaultValue = field === null || field === void 0 ? void 0 : field.default;\n          if (defaultValue == null && field !== null && field !== void 0 && field.selector && \"constant\" in field.selector) {\n            var _field$selector$const;\n            defaultValue = (_field$selector$const = field.selector.constant) === null || _field$selector$const === void 0 ? void 0 : _field$selector$const.value;\n          }\n          if (defaultValue != null) {\n            var _this$_value13;\n            data = {\n              ...((_this$_value13 = this._value) === null || _this$_value13 === void 0 ? void 0 : _this$_value13.data),\n              [key]: defaultValue\n            };\n          }\n        } else {\n          var _this$_value14;\n          this._checkedKeys.delete(key);\n          data = {\n            ...((_this$_value14 = this._value) === null || _this$_value14 === void 0 ? void 0 : _this$_value14.data)\n          };\n          delete data[key];\n        }\n        if (data) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n            value: {\n              ...this._value,\n              data\n            }\n          });\n        }\n        this.requestUpdate(\"_checkedKeys\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_serviceChanged\",\n      value: function _serviceChanged(ev) {\n        var _this$_value15;\n        ev.stopPropagation();\n        if (ev.detail.value === ((_this$_value15 = this._value) === null || _this$_value15 === void 0 ? void 0 : _this$_value15.service)) {\n          return;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n          value: {\n            service: ev.detail.value || \"\"\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entityPicked\",\n      value: function _entityPicked(ev) {\n        var _this$_value16, _this$_value16$data, _this$_value17;\n        ev.stopPropagation();\n        const newValue = ev.detail.value;\n        if (((_this$_value16 = this._value) === null || _this$_value16 === void 0 ? void 0 : (_this$_value16$data = _this$_value16.data) === null || _this$_value16$data === void 0 ? void 0 : _this$_value16$data.entity_id) === newValue) {\n          return;\n        }\n        let value;\n        if (!newValue && (_this$_value17 = this._value) !== null && _this$_value17 !== void 0 && _this$_value17.data) {\n          value = {\n            ...this._value\n          };\n          delete value.data.entity_id;\n        } else {\n          var _this$_value18;\n          value = {\n            ...this._value,\n            data: {\n              ...((_this$_value18 = this._value) === null || _this$_value18 === void 0 ? void 0 : _this$_value18.data),\n              entity_id: ev.detail.value\n            }\n          };\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n          value\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_targetChanged\",\n      value: function _targetChanged(ev) {\n        var _this$_value19;\n        ev.stopPropagation();\n        const newValue = ev.detail.value;\n        if (((_this$_value19 = this._value) === null || _this$_value19 === void 0 ? void 0 : _this$_value19.target) === newValue) {\n          return;\n        }\n        let value;\n        if (!newValue) {\n          value = {\n            ...this._value\n          };\n          delete value.target;\n        } else {\n          value = {\n            ...this._value,\n            target: ev.detail.value\n          };\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n          value\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_serviceDataChanged\",\n      value: function _serviceDataChanged(ev) {\n        var _this$_value20, _this$_value20$data, _this$_value21, _this$_value21$data, _this$_value22;\n        ev.stopPropagation();\n        const key = ev.currentTarget.key;\n        const value = ev.detail.value;\n        if (((_this$_value20 = this._value) === null || _this$_value20 === void 0 ? void 0 : (_this$_value20$data = _this$_value20.data) === null || _this$_value20$data === void 0 ? void 0 : _this$_value20$data[key]) === value || !((_this$_value21 = this._value) !== null && _this$_value21 !== void 0 && (_this$_value21$data = _this$_value21.data) !== null && _this$_value21$data !== void 0 && _this$_value21$data[key]) && (value === \"\" || value === undefined)) {\n          return;\n        }\n        const data = {\n          ...((_this$_value22 = this._value) === null || _this$_value22 === void 0 ? void 0 : _this$_value22.data),\n          [key]: value\n        };\n        if (value === \"\" || value === undefined) {\n          delete data[key];\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this._value,\n            data\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_dataChanged\",\n      value: function _dataChanged(ev) {\n        ev.stopPropagation();\n        if (!ev.detail.isValid) {\n          return;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this._value,\n            data: ev.detail.value\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchManifest\",\n      value: async function _fetchManifest(integration) {\n        this._manifest = undefined;\n        try {\n          this._manifest = await (0,_data_integration__WEBPACK_IMPORTED_MODULE_8__.fetchIntegrationManifest)(this.hass, integration);\n        } catch (err) {\n          // Ignore if loading manifest fails. Probably bad JSON in manifest\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      ha-settings-row {\n        padding: var(--service-control-padding, 0 16px);\n      }\n      ha-settings-row {\n        --paper-time-input-justify-content: flex-end;\n        --settings-row-content-width: 100%;\n        --settings-row-prefix-display: contents;\n        border-top: var(\n          --service-control-items-border-top,\n          1px solid var(--divider-color)\n        );\n      }\n      ha-service-picker,\n      ha-entity-picker,\n      ha-yaml-editor {\n        display: block;\n        margin: var(--service-control-padding, 0 16px);\n      }\n      ha-yaml-editor {\n        padding: 16px 0;\n      }\n      p {\n        margin: var(--service-control-padding, 0 16px);\n        padding: 16px 0;\n      }\n      .checkbox-spacer {\n        width: 32px;\n      }\n      ha-checkbox {\n        margin-left: -16px;\n      }\n      .help-icon {\n        color: var(--secondary-text-color);\n      }\n      .description {\n        justify-content: space-between;\n        display: flex;\n        align-items: center;\n        padding-right: 2px;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1zZXJ2aWNlLWNvbnRyb2wudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBdUJBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQThqQkE7QUFBQTtBQUFBO0FBOWpCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUtBO0FBT0E7QUFJQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFNQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2hhLXNlcnZpY2UtY29udHJvbC50cz9lNmFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1kaUhlbHBDaXJjbGUgfSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHtcbiAgSGFzc1NlcnZpY2UsXG4gIEhhc3NTZXJ2aWNlcyxcbiAgSGFzc1NlcnZpY2VUYXJnZXQsXG59IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IGNzcywgQ1NTUmVzdWx0R3JvdXAsIGh0bWwsIExpdEVsZW1lbnQsIFByb3BlcnR5VmFsdWVzIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSBcIm1lbW9pemUtb25lXCI7XG5pbXBvcnQgeyBlbnN1cmVBcnJheSB9IGZyb20gXCIuLi9jb21tb24vYXJyYXkvZW5zdXJlLWFycmF5XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBjb21wdXRlRG9tYWluIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9kb21haW5cIjtcbmltcG9ydCB7IGNvbXB1dGVPYmplY3RJZCB9IGZyb20gXCIuLi9jb21tb24vZW50aXR5L2NvbXB1dGVfb2JqZWN0X2lkXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ZlYXR1cmUgfSBmcm9tIFwiLi4vY29tbW9uL2VudGl0eS9zdXBwb3J0cy1mZWF0dXJlXCI7XG5pbXBvcnQge1xuICBmZXRjaEludGVncmF0aW9uTWFuaWZlc3QsXG4gIEludGVncmF0aW9uTWFuaWZlc3QsXG59IGZyb20gXCIuLi9kYXRhL2ludGVncmF0aW9uXCI7XG5pbXBvcnQge1xuICBleHBhbmRBcmVhVGFyZ2V0LFxuICBleHBhbmREZXZpY2VUYXJnZXQsXG4gIFNlbGVjdG9yLFxufSBmcm9tIFwiLi4vZGF0YS9zZWxlY3RvclwiO1xuaW1wb3J0IHsgVmFsdWVDaGFuZ2VkRXZlbnQsIEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGRvY3VtZW50YXRpb25VcmwgfSBmcm9tIFwiLi4vdXRpbC9kb2N1bWVudGF0aW9uLXVybFwiO1xuaW1wb3J0IFwiLi9oYS1jaGVja2JveFwiO1xuaW1wb3J0IFwiLi9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IFwiLi9oYS1zZWxlY3Rvci9oYS1zZWxlY3RvclwiO1xuaW1wb3J0IFwiLi9oYS1zZXJ2aWNlLXBpY2tlclwiO1xuaW1wb3J0IFwiLi9oYS1zZXR0aW5ncy1yb3dcIjtcbmltcG9ydCBcIi4vaGEteWFtbC1lZGl0b3JcIjtcbmltcG9ydCB0eXBlIHsgSGFZYW1sRWRpdG9yIH0gZnJvbSBcIi4vaGEteWFtbC1lZGl0b3JcIjtcblxuY29uc3QgYXR0cmlidXRlRmlsdGVyID0gKHZhbHVlczogYW55W10sIGF0dHJpYnV0ZTogYW55KSA9PiB7XG4gIGlmICh0eXBlb2YgYXR0cmlidXRlID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRlKSkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5zb21lKChpdGVtKSA9PiB2YWx1ZXMuaW5jbHVkZXMoaXRlbSkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlcy5pbmNsdWRlcyhhdHRyaWJ1dGUpO1xufTtcblxuY29uc3Qgc2hvd09wdGlvbmFsVG9nZ2xlID0gKGZpZWxkKSA9PlxuICBmaWVsZC5zZWxlY3RvciAmJlxuICAhZmllbGQucmVxdWlyZWQgJiZcbiAgIShcImJvb2xlYW5cIiBpbiBmaWVsZC5zZWxlY3RvciAmJiBmaWVsZC5kZWZhdWx0KTtcblxuaW50ZXJmYWNlIEV4dEhhc3NTZXJ2aWNlIGV4dGVuZHMgT21pdDxIYXNzU2VydmljZSwgXCJmaWVsZHNcIj4ge1xuICBmaWVsZHM6IHtcbiAgICBrZXk6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIGFkdmFuY2VkPzogYm9vbGVhbjtcbiAgICBkZWZhdWx0PzogYW55O1xuICAgIGV4YW1wbGU/OiBhbnk7XG4gICAgZmlsdGVyPzoge1xuICAgICAgc3VwcG9ydGVkX2ZlYXR1cmVzPzogbnVtYmVyW107XG4gICAgICBhdHRyaWJ1dGU/OiBSZWNvcmQ8c3RyaW5nLCBhbnlbXT47XG4gICAgfTtcbiAgICBzZWxlY3Rvcj86IFNlbGVjdG9yO1xuICB9W107XG4gIGhhc1NlbGVjdG9yOiBzdHJpbmdbXTtcbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1zZXJ2aWNlLWNvbnRyb2xcIilcbmV4cG9ydCBjbGFzcyBIYVNlcnZpY2VDb250cm9sIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHZhbHVlPzoge1xuICAgIHNlcnZpY2U6IHN0cmluZztcbiAgICB0YXJnZXQ/OiBIYXNzU2VydmljZVRhcmdldDtcbiAgICBkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgfTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBkaXNhYmxlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgc2hvd0FkdmFuY2VkPzogYm9vbGVhbjtcblxuICBAc3RhdGUoKSBwcml2YXRlIF92YWx1ZSE6IHRoaXNbXCJ2YWx1ZVwiXTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jaGVja2VkS2V5cyA9IG5ldyBTZXQoKTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9tYW5pZmVzdD86IEludGVncmF0aW9uTWFuaWZlc3Q7XG5cbiAgQHF1ZXJ5KFwiaGEteWFtbC1lZGl0b3JcIikgcHJpdmF0ZSBfeWFtbEVkaXRvcj86IEhhWWFtbEVkaXRvcjtcblxuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pIHtcbiAgICBpZiAoIWNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInZhbHVlXCIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY2hhbmdlZFByb3BlcnRpZXMuZ2V0KFwidmFsdWVcIikgYXNcbiAgICAgIHwgdW5kZWZpbmVkXG4gICAgICB8IHRoaXNbXCJ2YWx1ZVwiXTtcblxuICAgIGlmIChvbGRWYWx1ZT8uc2VydmljZSAhPT0gdGhpcy52YWx1ZT8uc2VydmljZSkge1xuICAgICAgdGhpcy5fY2hlY2tlZEtleXMgPSBuZXcgU2V0KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmljZURhdGEgPSB0aGlzLl9nZXRTZXJ2aWNlSW5mbyhcbiAgICAgIHRoaXMudmFsdWU/LnNlcnZpY2UsXG4gICAgICB0aGlzLmhhc3Muc2VydmljZXNcbiAgICApO1xuXG4gICAgLy8gRmV0Y2ggdGhlIG1hbmlmZXN0IGlmIHdlIGhhdmUgYSBzZXJ2aWNlIHNlbGVjdGVkIGFuZCB0aGUgc2VydmljZSBkb21haW4gY2hhbmdlZC5cbiAgICAvLyBJZiBubyBzZXJ2aWNlIGlzIHNlbGVjdGVkLCBjbGVhciB0aGUgbWFuaWZlc3QuXG4gICAgaWYgKHRoaXMudmFsdWU/LnNlcnZpY2UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIW9sZFZhbHVlPy5zZXJ2aWNlIHx8XG4gICAgICAgIGNvbXB1dGVEb21haW4odGhpcy52YWx1ZS5zZXJ2aWNlKSAhPT0gY29tcHV0ZURvbWFpbihvbGRWYWx1ZS5zZXJ2aWNlKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2ZldGNoTWFuaWZlc3QoY29tcHV0ZURvbWFpbih0aGlzLnZhbHVlPy5zZXJ2aWNlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21hbmlmZXN0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHNlcnZpY2VEYXRhICYmXG4gICAgICBcInRhcmdldFwiIGluIHNlcnZpY2VEYXRhICYmXG4gICAgICAodGhpcy52YWx1ZT8uZGF0YT8uZW50aXR5X2lkIHx8XG4gICAgICAgIHRoaXMudmFsdWU/LmRhdGE/LmFyZWFfaWQgfHxcbiAgICAgICAgdGhpcy52YWx1ZT8uZGF0YT8uZGV2aWNlX2lkKVxuICAgICkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0ge1xuICAgICAgICAuLi50aGlzLnZhbHVlLnRhcmdldCxcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlLmRhdGEuZW50aXR5X2lkICYmICF0aGlzLnZhbHVlLnRhcmdldD8uZW50aXR5X2lkKSB7XG4gICAgICAgIHRhcmdldC5lbnRpdHlfaWQgPSB0aGlzLnZhbHVlLmRhdGEuZW50aXR5X2lkO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmFsdWUuZGF0YS5hcmVhX2lkICYmICF0aGlzLnZhbHVlLnRhcmdldD8uYXJlYV9pZCkge1xuICAgICAgICB0YXJnZXQuYXJlYV9pZCA9IHRoaXMudmFsdWUuZGF0YS5hcmVhX2lkO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmFsdWUuZGF0YS5kZXZpY2VfaWQgJiYgIXRoaXMudmFsdWUudGFyZ2V0Py5kZXZpY2VfaWQpIHtcbiAgICAgICAgdGFyZ2V0LmRldmljZV9pZCA9IHRoaXMudmFsdWUuZGF0YS5kZXZpY2VfaWQ7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3ZhbHVlID0ge1xuICAgICAgICAuLi50aGlzLnZhbHVlLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGRhdGE6IHsgLi4udGhpcy52YWx1ZS5kYXRhIH0sXG4gICAgICB9O1xuXG4gICAgICBkZWxldGUgdGhpcy5fdmFsdWUuZGF0YSEuZW50aXR5X2lkO1xuICAgICAgZGVsZXRlIHRoaXMuX3ZhbHVlLmRhdGEhLmRldmljZV9pZDtcbiAgICAgIGRlbGV0ZSB0aGlzLl92YWx1ZS5kYXRhIS5hcmVhX2lkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKG9sZFZhbHVlPy5zZXJ2aWNlICE9PSB0aGlzLnZhbHVlPy5zZXJ2aWNlKSB7XG4gICAgICBsZXQgdXBkYXRlZERlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlICYmIHNlcnZpY2VEYXRhKSB7XG4gICAgICAgIGNvbnN0IGxvYWREZWZhdWx0cyA9IHRoaXMudmFsdWUgJiYgIShcImRhdGFcIiBpbiB0aGlzLnZhbHVlKTtcbiAgICAgICAgLy8gU2V0IG1hbmRhdG9yeSBib29scyB3aXRob3V0IGEgZGVmYXVsdCB2YWx1ZSB0byBmYWxzZVxuICAgICAgICBpZiAoIXRoaXMuX3ZhbHVlLmRhdGEpIHtcbiAgICAgICAgICB0aGlzLl92YWx1ZS5kYXRhID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc2VydmljZURhdGEuZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmllbGQuc2VsZWN0b3IgJiZcbiAgICAgICAgICAgIGZpZWxkLnJlcXVpcmVkICYmXG4gICAgICAgICAgICBmaWVsZC5kZWZhdWx0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIFwiYm9vbGVhblwiIGluIGZpZWxkLnNlbGVjdG9yICYmXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSEuZGF0YSFbZmllbGQua2V5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB1cGRhdGVkRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlIS5kYXRhIVtmaWVsZC5rZXldID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGxvYWREZWZhdWx0cyAmJlxuICAgICAgICAgICAgZmllbGQuc2VsZWN0b3IgJiZcbiAgICAgICAgICAgIGZpZWxkLmRlZmF1bHQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5fdmFsdWUhLmRhdGEhW2ZpZWxkLmtleV0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdXBkYXRlZERlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSEuZGF0YSFbZmllbGQua2V5XSA9IGZpZWxkLmRlZmF1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAuLi50aGlzLl92YWx1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdmFsdWU/LmRhdGEpIHtcbiAgICAgIGNvbnN0IHlhbWxFZGl0b3IgPSB0aGlzLl95YW1sRWRpdG9yO1xuICAgICAgaWYgKHlhbWxFZGl0b3IgJiYgeWFtbEVkaXRvci52YWx1ZSAhPT0gdGhpcy5fdmFsdWUuZGF0YSkge1xuICAgICAgICB5YW1sRWRpdG9yLnNldFZhbHVlKHRoaXMuX3ZhbHVlLmRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dldFNlcnZpY2VJbmZvID0gbWVtb2l6ZU9uZShcbiAgICAoXG4gICAgICBzZXJ2aWNlPzogc3RyaW5nLFxuICAgICAgc2VydmljZURvbWFpbnM/OiBIYXNzU2VydmljZXNcbiAgICApOiBFeHRIYXNzU2VydmljZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICBpZiAoIXNlcnZpY2UgfHwgIXNlcnZpY2VEb21haW5zKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjb25zdCBkb21haW4gPSBjb21wdXRlRG9tYWluKHNlcnZpY2UpO1xuICAgICAgY29uc3Qgc2VydmljZU5hbWUgPSBjb21wdXRlT2JqZWN0SWQoc2VydmljZSk7XG4gICAgICBpZiAoIShkb21haW4gaW4gc2VydmljZURvbWFpbnMpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIShzZXJ2aWNlTmFtZSBpbiBzZXJ2aWNlRG9tYWluc1tkb21haW5dKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3QuZW50cmllcyhcbiAgICAgICAgc2VydmljZURvbWFpbnNbZG9tYWluXVtzZXJ2aWNlTmFtZV0uZmllbGRzXG4gICAgICApLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xuICAgICAgICBrZXksXG4gICAgICAgIC4uLnZhbHVlLFxuICAgICAgICBzZWxlY3RvcjogdmFsdWUuc2VsZWN0b3IgYXMgU2VsZWN0b3IgfCB1bmRlZmluZWQsXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXJ2aWNlRG9tYWluc1tkb21haW5dW3NlcnZpY2VOYW1lXSxcbiAgICAgICAgZmllbGRzLFxuICAgICAgICBoYXNTZWxlY3RvcjogZmllbGRzLmxlbmd0aFxuICAgICAgICAgID8gZmllbGRzLmZpbHRlcigoZmllbGQpID0+IGZpZWxkLnNlbGVjdG9yKS5tYXAoKGZpZWxkKSA9PiBmaWVsZC5rZXkpXG4gICAgICAgICAgOiBbXSxcbiAgICAgIH07XG4gICAgfVxuICApO1xuXG4gIHByaXZhdGUgX2ZpbHRlckZpZWxkcyA9IG1lbW9pemVPbmUoXG4gICAgKHNlcnZpY2VEYXRhOiBFeHRIYXNzU2VydmljZSB8IHVuZGVmaW5lZCwgdmFsdWU6IHRoaXNbXCJ2YWx1ZVwiXSkgPT5cbiAgICAgIHNlcnZpY2VEYXRhPy5maWVsZHM/LmZpbHRlcihcbiAgICAgICAgKGZpZWxkKSA9PlxuICAgICAgICAgICFmaWVsZC5maWx0ZXIgfHxcbiAgICAgICAgICB0aGlzLl9maWx0ZXJGaWVsZChzZXJ2aWNlRGF0YS50YXJnZXQsIGZpZWxkLmZpbHRlciwgdmFsdWUpXG4gICAgICApXG4gICk7XG5cbiAgcHJpdmF0ZSBfZmlsdGVyRmllbGQoXG4gICAgdGFyZ2V0OiBFeHRIYXNzU2VydmljZVtcInRhcmdldFwiXSxcbiAgICBmaWx0ZXI6IEV4dEhhc3NTZXJ2aWNlW1wiZmllbGRzXCJdW251bWJlcl1bXCJmaWx0ZXJcIl0sXG4gICAgdmFsdWU6IHRoaXNbXCJ2YWx1ZVwiXVxuICApIHtcbiAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHRhcmdldCA/IHsgdGFyZ2V0IH0gOiB7IHRhcmdldDoge30gfTtcbiAgICBjb25zdCB0YXJnZXRFbnRpdGllcyA9XG4gICAgICBlbnN1cmVBcnJheSh2YWx1ZT8udGFyZ2V0Py5lbnRpdHlfaWQgfHwgdmFsdWU/LmRhdGE/LmVudGl0eV9pZCkgfHwgW107XG4gICAgY29uc3QgdGFyZ2V0RGV2aWNlcyA9XG4gICAgICBlbnN1cmVBcnJheSh2YWx1ZT8udGFyZ2V0Py5kZXZpY2VfaWQgfHwgdmFsdWU/LmRhdGE/LmRldmljZV9pZCkgfHwgW107XG4gICAgY29uc3QgdGFyZ2V0QXJlYXMgPSBlbnN1cmVBcnJheShcbiAgICAgIHZhbHVlPy50YXJnZXQ/LmFyZWFfaWQgfHwgdmFsdWU/LmRhdGE/LmFyZWFfaWRcbiAgICApO1xuICAgIGlmICh0YXJnZXRBcmVhcykge1xuICAgICAgdGFyZ2V0QXJlYXMuZm9yRWFjaCgoYXJlYUlkKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4cGFuZGVkID0gZXhwYW5kQXJlYVRhcmdldChcbiAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgYXJlYUlkLFxuICAgICAgICAgIHRoaXMuaGFzcy5kZXZpY2VzLFxuICAgICAgICAgIHRoaXMuaGFzcy5lbnRpdGllcyxcbiAgICAgICAgICB0YXJnZXRTZWxlY3RvclxuICAgICAgICApO1xuICAgICAgICB0YXJnZXRFbnRpdGllcy5wdXNoKC4uLmV4cGFuZGVkLmVudGl0aWVzKTtcbiAgICAgICAgdGFyZ2V0RGV2aWNlcy5wdXNoKC4uLmV4cGFuZGVkLmRldmljZXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0YXJnZXREZXZpY2VzLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0RGV2aWNlcy5mb3JFYWNoKChkZXZpY2VJZCkgPT4ge1xuICAgICAgICB0YXJnZXRFbnRpdGllcy5wdXNoKFxuICAgICAgICAgIC4uLmV4cGFuZERldmljZVRhcmdldChcbiAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgIGRldmljZUlkLFxuICAgICAgICAgICAgdGhpcy5oYXNzLmVudGl0aWVzLFxuICAgICAgICAgICAgdGFyZ2V0U2VsZWN0b3JcbiAgICAgICAgICApLmVudGl0aWVzXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCF0YXJnZXRFbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGFyZ2V0RW50aXRpZXMuc29tZSgoZW50aXR5SWQpID0+IHtcbiAgICAgICAgY29uc3QgZW50aXR5U3RhdGUgPSB0aGlzLmhhc3Muc3RhdGVzW2VudGl0eUlkXTtcbiAgICAgICAgaWYgKCFlbnRpdHlTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlsdGVyIS5zdXBwb3J0ZWRfZmVhdHVyZXM/LnNvbWUoKGZlYXR1cmUpID0+XG4gICAgICAgICAgICBzdXBwb3J0c0ZlYXR1cmUoZW50aXR5U3RhdGUsIGZlYXR1cmUpXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlsdGVyIS5hdHRyaWJ1dGUgJiZcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhmaWx0ZXIhLmF0dHJpYnV0ZSkuc29tZShcbiAgICAgICAgICAgIChbYXR0cmlidXRlLCB2YWx1ZXNdKSA9PlxuICAgICAgICAgICAgICBhdHRyaWJ1dGUgaW4gZW50aXR5U3RhdGUuYXR0cmlidXRlcyAmJlxuICAgICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXIodmFsdWVzLCBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VydmljZURhdGEgPSB0aGlzLl9nZXRTZXJ2aWNlSW5mbyhcbiAgICAgIHRoaXMuX3ZhbHVlPy5zZXJ2aWNlLFxuICAgICAgdGhpcy5oYXNzLnNlcnZpY2VzXG4gICAgKTtcblxuICAgIGNvbnN0IHNob3VsZFJlbmRlclNlcnZpY2VEYXRhWWFtbCA9XG4gICAgICAoc2VydmljZURhdGE/LmZpZWxkcy5sZW5ndGggJiYgIXNlcnZpY2VEYXRhLmhhc1NlbGVjdG9yLmxlbmd0aCkgfHxcbiAgICAgIChzZXJ2aWNlRGF0YSAmJlxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZT8uZGF0YSB8fCB7fSkuc29tZShcbiAgICAgICAgICAoa2V5KSA9PiAhc2VydmljZURhdGEhLmhhc1NlbGVjdG9yLmluY2x1ZGVzKGtleSlcbiAgICAgICAgKSk7XG5cbiAgICBjb25zdCBlbnRpdHlJZCA9XG4gICAgICBzaG91bGRSZW5kZXJTZXJ2aWNlRGF0YVlhbWwgJiZcbiAgICAgIHNlcnZpY2VEYXRhPy5maWVsZHMuZmluZCgoZmllbGQpID0+IGZpZWxkLmtleSA9PT0gXCJlbnRpdHlfaWRcIik7XG5cbiAgICBjb25zdCBoYXNPcHRpb25hbCA9IEJvb2xlYW4oXG4gICAgICAhc2hvdWxkUmVuZGVyU2VydmljZURhdGFZYW1sICYmXG4gICAgICAgIHNlcnZpY2VEYXRhPy5maWVsZHMuc29tZSgoZmllbGQpID0+IHNob3dPcHRpb25hbFRvZ2dsZShmaWVsZCkpXG4gICAgKTtcblxuICAgIGNvbnN0IGZpbHRlcmVkRmllbGRzID0gdGhpcy5fZmlsdGVyRmllbGRzKHNlcnZpY2VEYXRhLCB0aGlzLl92YWx1ZSk7XG5cbiAgICByZXR1cm4gaHRtbGA8aGEtc2VydmljZS1waWNrZXJcbiAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgIC52YWx1ZT0ke3RoaXMuX3ZhbHVlPy5zZXJ2aWNlfVxuICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3NlcnZpY2VDaGFuZ2VkfVxuICAgICAgPjwvaGEtc2VydmljZS1waWNrZXI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgJHtzZXJ2aWNlRGF0YT8uZGVzY3JpcHRpb25cbiAgICAgICAgICA/IGh0bWxgPHA+JHtzZXJ2aWNlRGF0YT8uZGVzY3JpcHRpb259PC9wPmBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICR7dGhpcy5fbWFuaWZlc3RcbiAgICAgICAgICA/IGh0bWxgIDxhXG4gICAgICAgICAgICAgIGhyZWY9JHt0aGlzLl9tYW5pZmVzdC5pc19idWlsdF9pblxuICAgICAgICAgICAgICAgID8gZG9jdW1lbnRhdGlvblVybChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICAgICAgICBgL2ludGVncmF0aW9ucy8ke3RoaXMuX21hbmlmZXN0LmRvbWFpbn1gXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiB0aGlzLl9tYW5pZmVzdC5kb2N1bWVudGF0aW9ufVxuICAgICAgICAgICAgICB0aXRsZT0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLmNvbXBvbmVudHMuc2VydmljZS1jb250cm9sLmludGVncmF0aW9uX2RvY1wiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAucGF0aD0ke21kaUhlbHBDaXJjbGV9XG4gICAgICAgICAgICAgICAgY2xhc3M9XCJoZWxwLWljb25cIlxuICAgICAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgIDwvYT5gXG4gICAgICAgICAgOiBcIlwifVxuICAgICAgPC9kaXY+XG4gICAgICAke3NlcnZpY2VEYXRhICYmIFwidGFyZ2V0XCIgaW4gc2VydmljZURhdGFcbiAgICAgICAgPyBodG1sYDxoYS1zZXR0aW5ncy1yb3cgLm5hcnJvdz0ke3RoaXMubmFycm93fT5cbiAgICAgICAgICAgICR7aGFzT3B0aW9uYWxcbiAgICAgICAgICAgICAgPyBodG1sYDxkaXYgc2xvdD1cInByZWZpeFwiIGNsYXNzPVwiY2hlY2tib3gtc3BhY2VyXCI+PC9kaXY+YFxuICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICA8c3BhbiBzbG90PVwiaGVhZGluZ1wiXG4gICAgICAgICAgICAgID4ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLmNvbXBvbmVudHMuc2VydmljZS1jb250cm9sLnRhcmdldFwiXG4gICAgICAgICAgICAgICl9PC9zcGFuXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBzbG90PVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICA+JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLnNlcnZpY2UtY29udHJvbC50YXJnZXRfZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICApfTwvc3BhblxuICAgICAgICAgICAgPjxoYS1zZWxlY3RvclxuICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgLnNlbGVjdG9yPSR7c2VydmljZURhdGEudGFyZ2V0XG4gICAgICAgICAgICAgICAgPyB7IHRhcmdldDogc2VydmljZURhdGEudGFyZ2V0IH1cbiAgICAgICAgICAgICAgICA6IHsgdGFyZ2V0OiB7fSB9fVxuICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3RhcmdldENoYW5nZWR9XG4gICAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMuX3ZhbHVlPy50YXJnZXR9XG4gICAgICAgICAgICA+PC9oYS1zZWxlY3RvclxuICAgICAgICAgID48L2hhLXNldHRpbmdzLXJvdz5gXG4gICAgICAgIDogZW50aXR5SWRcbiAgICAgICAgPyBodG1sYDxoYS1lbnRpdHktcGlja2VyXG4gICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9XG4gICAgICAgICAgICAudmFsdWU9JHt0aGlzLl92YWx1ZT8uZGF0YT8uZW50aXR5X2lkfVxuICAgICAgICAgICAgLmxhYmVsPSR7ZW50aXR5SWQuZGVzY3JpcHRpb259XG4gICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2VudGl0eVBpY2tlZH1cbiAgICAgICAgICAgIGFsbG93LWN1c3RvbS1lbnRpdHlcbiAgICAgICAgICA+PC9oYS1lbnRpdHktcGlja2VyPmBcbiAgICAgICAgOiBcIlwifVxuICAgICAgJHtzaG91bGRSZW5kZXJTZXJ2aWNlRGF0YVlhbWxcbiAgICAgICAgPyBodG1sYDxoYS15YW1sLWVkaXRvclxuICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLnNlcnZpY2UtY29udHJvbC5kYXRhXCIpfVxuICAgICAgICAgICAgLm5hbWU9JHtcImRhdGFcIn1cbiAgICAgICAgICAgIC5yZWFkT25seT0ke3RoaXMuZGlzYWJsZWR9XG4gICAgICAgICAgICAuZGVmYXVsdFZhbHVlPSR7dGhpcy5fdmFsdWU/LmRhdGF9XG4gICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2RhdGFDaGFuZ2VkfVxuICAgICAgICAgID48L2hhLXlhbWwtZWRpdG9yPmBcbiAgICAgICAgOiBmaWx0ZXJlZEZpZWxkcz8ubWFwKChkYXRhRmllbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNob3dPcHRpb25hbCA9IHNob3dPcHRpb25hbFRvZ2dsZShkYXRhRmllbGQpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFGaWVsZC5zZWxlY3RvciAmJlxuICAgICAgICAgICAgICAoIWRhdGFGaWVsZC5hZHZhbmNlZCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FkdmFuY2VkIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuX3ZhbHVlPy5kYXRhICYmXG4gICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5kYXRhW2RhdGFGaWVsZC5rZXldICE9PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgICA/IGh0bWxgPGhhLXNldHRpbmdzLXJvdyAubmFycm93PSR7dGhpcy5uYXJyb3d9PlxuICAgICAgICAgICAgICAgICAgJHshc2hvd09wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgID8gaGFzT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPGRpdiBzbG90PVwicHJlZml4XCIgY2xhc3M9XCJjaGVja2JveC1zcGFjZXJcIj48L2Rpdj5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIDogaHRtbGA8aGEtY2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5rZXk9JHtkYXRhRmllbGQua2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoZWNrZWQ9JHt0aGlzLl9jaGVja2VkS2V5cy5oYXMoZGF0YUZpZWxkLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl92YWx1ZT8uZGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5kYXRhW2RhdGFGaWVsZC5rZXldICE9PSB1bmRlZmluZWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9JHt0aGlzLl9jaGVja2JveENoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwicHJlZml4XCJcbiAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1jaGVja2JveD5gfVxuICAgICAgICAgICAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRpbmdcIj4ke2RhdGFGaWVsZC5uYW1lIHx8IGRhdGFGaWVsZC5rZXl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gc2xvdD1cImRlc2NyaXB0aW9uXCI+JHtkYXRhRmllbGQ/LmRlc2NyaXB0aW9ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxoYS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkIHx8XG4gICAgICAgICAgICAgICAgICAgIChzaG93T3B0aW9uYWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fY2hlY2tlZEtleXMuaGFzKGRhdGFGaWVsZC5rZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCF0aGlzLl92YWx1ZT8uZGF0YSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuZGF0YVtkYXRhRmllbGQua2V5XSA9PT0gdW5kZWZpbmVkKSl9XG4gICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0b3I9JHtkYXRhRmllbGQuc2VsZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgIC5rZXk9JHtkYXRhRmllbGQua2V5fVxuICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3NlcnZpY2VEYXRhQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7dGhpcy5fdmFsdWU/LmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX3ZhbHVlLmRhdGFbZGF0YUZpZWxkLmtleV1cbiAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgLnBsYWNlaG9sZGVyPSR7ZGF0YUZpZWxkLmRlZmF1bHR9XG4gICAgICAgICAgICAgICAgICA+PC9oYS1zZWxlY3Rvcj5cbiAgICAgICAgICAgICAgICA8L2hhLXNldHRpbmdzLXJvdz5gXG4gICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgICB9KX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2hlY2tib3hDaGFuZ2VkKGV2KSB7XG4gICAgY29uc3QgY2hlY2tlZCA9IGV2LmN1cnJlbnRUYXJnZXQuY2hlY2tlZDtcbiAgICBjb25zdCBrZXkgPSBldi5jdXJyZW50VGFyZ2V0LmtleTtcbiAgICBsZXQgZGF0YTtcblxuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICB0aGlzLl9jaGVja2VkS2V5cy5hZGQoa2V5KTtcbiAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5fZ2V0U2VydmljZUluZm8oXG4gICAgICAgIHRoaXMuX3ZhbHVlPy5zZXJ2aWNlLFxuICAgICAgICB0aGlzLmhhc3Muc2VydmljZXNcbiAgICAgICk/LmZpZWxkcy5maW5kKChfZmllbGQpID0+IF9maWVsZC5rZXkgPT09IGtleSk7XG5cbiAgICAgIGxldCBkZWZhdWx0VmFsdWUgPSBmaWVsZD8uZGVmYXVsdDtcblxuICAgICAgaWYgKFxuICAgICAgICBkZWZhdWx0VmFsdWUgPT0gbnVsbCAmJlxuICAgICAgICBmaWVsZD8uc2VsZWN0b3IgJiZcbiAgICAgICAgXCJjb25zdGFudFwiIGluIGZpZWxkLnNlbGVjdG9yXG4gICAgICApIHtcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gZmllbGQuc2VsZWN0b3IuY29uc3RhbnQ/LnZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAuLi50aGlzLl92YWx1ZT8uZGF0YSxcbiAgICAgICAgICBba2V5XTogZGVmYXVsdFZhbHVlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jaGVja2VkS2V5cy5kZWxldGUoa2V5KTtcbiAgICAgIGRhdGEgPSB7IC4uLnRoaXMuX3ZhbHVlPy5kYXRhIH07XG4gICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgIH1cbiAgICBpZiAoZGF0YSkge1xuICAgICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgLi4udGhpcy5fdmFsdWUsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoXCJfY2hlY2tlZEtleXNcIik7XG4gIH1cblxuICBwcml2YXRlIF9zZXJ2aWNlQ2hhbmdlZChldjogVmFsdWVDaGFuZ2VkRXZlbnQ8c3RyaW5nPikge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChldi5kZXRhaWwudmFsdWUgPT09IHRoaXMuX3ZhbHVlPy5zZXJ2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHsgc2VydmljZTogZXYuZGV0YWlsLnZhbHVlIHx8IFwiXCIgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2VudGl0eVBpY2tlZChldjogQ3VzdG9tRXZlbnQpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICBpZiAodGhpcy5fdmFsdWU/LmRhdGE/LmVudGl0eV9pZCA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICghbmV3VmFsdWUgJiYgdGhpcy5fdmFsdWU/LmRhdGEpIHtcbiAgICAgIHZhbHVlID0geyAuLi50aGlzLl92YWx1ZSB9O1xuICAgICAgZGVsZXRlIHZhbHVlLmRhdGEuZW50aXR5X2lkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHtcbiAgICAgICAgLi4udGhpcy5fdmFsdWUsXG4gICAgICAgIGRhdGE6IHsgLi4udGhpcy5fdmFsdWU/LmRhdGEsIGVudGl0eV9pZDogZXYuZGV0YWlsLnZhbHVlIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfdGFyZ2V0Q2hhbmdlZChldjogQ3VzdG9tRXZlbnQpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICBpZiAodGhpcy5fdmFsdWU/LnRhcmdldCA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICghbmV3VmFsdWUpIHtcbiAgICAgIHZhbHVlID0geyAuLi50aGlzLl92YWx1ZSB9O1xuICAgICAgZGVsZXRlIHZhbHVlLnRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSB7IC4uLnRoaXMuX3ZhbHVlLCB0YXJnZXQ6IGV2LmRldGFpbC52YWx1ZSB9O1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2VydmljZURhdGFDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGtleSA9IChldi5jdXJyZW50VGFyZ2V0IGFzIGFueSkua2V5O1xuICAgIGNvbnN0IHZhbHVlID0gZXYuZGV0YWlsLnZhbHVlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuX3ZhbHVlPy5kYXRhPy5ba2V5XSA9PT0gdmFsdWUgfHxcbiAgICAgICghdGhpcy5fdmFsdWU/LmRhdGE/LltrZXldICYmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0geyAuLi50aGlzLl92YWx1ZT8uZGF0YSwgW2tleV06IHZhbHVlIH07XG5cbiAgICBpZiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG5cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC4uLnRoaXMuX3ZhbHVlLFxuICAgICAgICBkYXRhLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2RhdGFDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghZXYuZGV0YWlsLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICAuLi50aGlzLl92YWx1ZSxcbiAgICAgICAgZGF0YTogZXYuZGV0YWlsLnZhbHVlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2ZldGNoTWFuaWZlc3QoaW50ZWdyYXRpb246IHN0cmluZykge1xuICAgIHRoaXMuX21hbmlmZXN0ID0gdW5kZWZpbmVkO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9tYW5pZmVzdCA9IGF3YWl0IGZldGNoSW50ZWdyYXRpb25NYW5pZmVzdCh0aGlzLmhhc3MsIGludGVncmF0aW9uKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgLy8gSWdub3JlIGlmIGxvYWRpbmcgbWFuaWZlc3QgZmFpbHMuIFByb2JhYmx5IGJhZCBKU09OIGluIG1hbmlmZXN0XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBoYS1zZXR0aW5ncy1yb3cge1xuICAgICAgICBwYWRkaW5nOiB2YXIoLS1zZXJ2aWNlLWNvbnRyb2wtcGFkZGluZywgMCAxNnB4KTtcbiAgICAgIH1cbiAgICAgIGhhLXNldHRpbmdzLXJvdyB7XG4gICAgICAgIC0tcGFwZXItdGltZS1pbnB1dC1qdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAtLXNldHRpbmdzLXJvdy1jb250ZW50LXdpZHRoOiAxMDAlO1xuICAgICAgICAtLXNldHRpbmdzLXJvdy1wcmVmaXgtZGlzcGxheTogY29udGVudHM7XG4gICAgICAgIGJvcmRlci10b3A6IHZhcihcbiAgICAgICAgICAtLXNlcnZpY2UtY29udHJvbC1pdGVtcy1ib3JkZXItdG9wLFxuICAgICAgICAgIDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaGEtc2VydmljZS1waWNrZXIsXG4gICAgICBoYS1lbnRpdHktcGlja2VyLFxuICAgICAgaGEteWFtbC1lZGl0b3Ige1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgbWFyZ2luOiB2YXIoLS1zZXJ2aWNlLWNvbnRyb2wtcGFkZGluZywgMCAxNnB4KTtcbiAgICAgIH1cbiAgICAgIGhhLXlhbWwtZWRpdG9yIHtcbiAgICAgICAgcGFkZGluZzogMTZweCAwO1xuICAgICAgfVxuICAgICAgcCB7XG4gICAgICAgIG1hcmdpbjogdmFyKC0tc2VydmljZS1jb250cm9sLXBhZGRpbmcsIDAgMTZweCk7XG4gICAgICAgIHBhZGRpbmc6IDE2cHggMDtcbiAgICAgIH1cbiAgICAgIC5jaGVja2JveC1zcGFjZXIge1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgIH1cbiAgICAgIGhhLWNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IC0xNnB4O1xuICAgICAgfVxuICAgICAgLmhlbHAtaWNvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG4gICAgICAuZGVzY3JpcHRpb24ge1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDJweDtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1zZXJ2aWNlLWNvbnRyb2xcIjogSGFTZXJ2aWNlQ29udHJvbDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-service-control.ts\n");

/***/ }),

/***/ "./src/components/ha-service-picker.ts":
/*!*********************************************!*\
  !*** ./src/components/ha-service-picker.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _data_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/integration */ \"./src/data/integration.ts\");\n/* harmony import */ var _ha_combo_box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ha-combo-box */ \"./src/components/ha-combo-box.ts\");\n\n\n\n\n\n\n\nconst rowRenderer = item => lit__WEBPACK_IMPORTED_MODULE_1__.html`<mwc-list-item twoline>\n  <span>${item.name}</span>\n  <span slot=\"secondary\"\n    >${item.name === item.service ? \"\" : item.service}</span\n  >\n</mwc-list-item>`;\nlet HaServicePicker = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-service-picker\")], function (_initialize, _LitElement) {\n  class HaServicePicker extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaServicePicker,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_filter\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <ha-combo-box\n        .hass=${this.hass}\n        .label=${this.hass.localize(\"ui.components.service-picker.service\")}\n        .filteredItems=${this._filteredServices(this.hass.localize, this.hass.services, this._filter)}\n        .value=${this.value}\n        .disabled=${this.disabled}\n        .renderer=${rowRenderer}\n        item-value-path=\"service\"\n        item-label-path=\"name\"\n        allow-custom-value\n        @filter-changed=${this._filterChanged}\n        @value-changed=${this._valueChanged}\n      ></ha-combo-box>\n    `;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_services\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((localize, services) => {\n          if (!services) {\n            return [];\n          }\n          const result = [];\n          Object.keys(services).sort().forEach(domain => {\n            const services_keys = Object.keys(services[domain]).sort();\n            for (const service of services_keys) {\n              result.push({\n                service: `${domain}.${service}`,\n                name: `${(0,_data_integration__WEBPACK_IMPORTED_MODULE_4__.domainToName)(localize, domain)}: ${services[domain][service].name || service}`\n              });\n            }\n          });\n          return result;\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_filteredServices\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((localize, services, filter) => {\n          if (!services) {\n            return [];\n          }\n          const processedServices = this._services(localize, services);\n          if (!filter) {\n            return processedServices;\n          }\n          return processedServices.filter(service => {\n            var _service$name;\n            return service.service.toLowerCase().includes(filter) || ((_service$name = service.name) === null || _service$name === void 0 ? void 0 : _service$name.toLowerCase().includes(filter));\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_filterChanged\",\n      value: function _filterChanged(ev) {\n        this._filter = ev.detail.value.toLowerCase();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        this.value = ev.detail.value;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"change\");\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__.fireEvent)(this, \"value-changed\", {\n          value: this.value\n        });\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1zZXJ2aWNlLXBpY2tlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUE4RkE7QUFBQTtBQUFBO0FBOUZBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2hhLXNlcnZpY2UtcGlja2VyLnRzPzc2OTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IENvbWJvQm94TGl0UmVuZGVyZXIgfSBmcm9tIFwiQHZhYWRpbi9jb21iby1ib3gvbGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgTG9jYWxpemVGdW5jIH0gZnJvbSBcIi4uL2NvbW1vbi90cmFuc2xhdGlvbnMvbG9jYWxpemVcIjtcbmltcG9ydCB7IGRvbWFpblRvTmFtZSB9IGZyb20gXCIuLi9kYXRhL2ludGVncmF0aW9uXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWNvbWJvLWJveFwiO1xuXG5jb25zdCByb3dSZW5kZXJlcjogQ29tYm9Cb3hMaXRSZW5kZXJlcjx7IHNlcnZpY2U6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+ID0gKFxuICBpdGVtXG4pID0+IGh0bWxgPG13Yy1saXN0LWl0ZW0gdHdvbGluZT5cbiAgPHNwYW4+JHtpdGVtLm5hbWV9PC9zcGFuPlxuICA8c3BhbiBzbG90PVwic2Vjb25kYXJ5XCJcbiAgICA+JHtpdGVtLm5hbWUgPT09IGl0ZW0uc2VydmljZSA/IFwiXCIgOiBpdGVtLnNlcnZpY2V9PC9zcGFuXG4gID5cbjwvbXdjLWxpc3QtaXRlbT5gO1xuXG5AY3VzdG9tRWxlbWVudChcImhhLXNlcnZpY2UtcGlja2VyXCIpXG5jbGFzcyBIYVNlcnZpY2VQaWNrZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgdmFsdWU/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZmlsdGVyPzogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtY29tYm8tYm94XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLnNlcnZpY2UtcGlja2VyLnNlcnZpY2VcIil9XG4gICAgICAgIC5maWx0ZXJlZEl0ZW1zPSR7dGhpcy5fZmlsdGVyZWRTZXJ2aWNlcyhcbiAgICAgICAgICB0aGlzLmhhc3MubG9jYWxpemUsXG4gICAgICAgICAgdGhpcy5oYXNzLnNlcnZpY2VzLFxuICAgICAgICAgIHRoaXMuX2ZpbHRlclxuICAgICAgICApfVxuICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICAucmVuZGVyZXI9JHtyb3dSZW5kZXJlcn1cbiAgICAgICAgaXRlbS12YWx1ZS1wYXRoPVwic2VydmljZVwiXG4gICAgICAgIGl0ZW0tbGFiZWwtcGF0aD1cIm5hbWVcIlxuICAgICAgICBhbGxvdy1jdXN0b20tdmFsdWVcbiAgICAgICAgQGZpbHRlci1jaGFuZ2VkPSR7dGhpcy5fZmlsdGVyQ2hhbmdlZH1cbiAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl92YWx1ZUNoYW5nZWR9XG4gICAgICA+PC9oYS1jb21iby1ib3g+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3NlcnZpY2VzID0gbWVtb2l6ZU9uZShcbiAgICAoXG4gICAgICBsb2NhbGl6ZTogTG9jYWxpemVGdW5jLFxuICAgICAgc2VydmljZXM6IEhvbWVBc3Npc3RhbnRbXCJzZXJ2aWNlc1wiXVxuICAgICk6IHtcbiAgICAgIHNlcnZpY2U6IHN0cmluZztcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICB9W10gPT4ge1xuICAgICAgaWYgKCFzZXJ2aWNlcykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQ6IHsgc2VydmljZTogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfVtdID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKHNlcnZpY2VzKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5mb3JFYWNoKChkb21haW4pID0+IHtcbiAgICAgICAgICBjb25zdCBzZXJ2aWNlc19rZXlzID0gT2JqZWN0LmtleXMoc2VydmljZXNbZG9tYWluXSkuc29ydCgpO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBzZXJ2aWNlIG9mIHNlcnZpY2VzX2tleXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgc2VydmljZTogYCR7ZG9tYWlufS4ke3NlcnZpY2V9YCxcbiAgICAgICAgICAgICAgbmFtZTogYCR7ZG9tYWluVG9OYW1lKGxvY2FsaXplLCBkb21haW4pfTogJHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc1tkb21haW5dW3NlcnZpY2VdLm5hbWUgfHwgc2VydmljZVxuICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICApO1xuXG4gIHByaXZhdGUgX2ZpbHRlcmVkU2VydmljZXMgPSBtZW1vaXplT25lKFxuICAgIChcbiAgICAgIGxvY2FsaXplOiBMb2NhbGl6ZUZ1bmMsXG4gICAgICBzZXJ2aWNlczogSG9tZUFzc2lzdGFudFtcInNlcnZpY2VzXCJdLFxuICAgICAgZmlsdGVyPzogc3RyaW5nXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIXNlcnZpY2VzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb2Nlc3NlZFNlcnZpY2VzID0gdGhpcy5fc2VydmljZXMobG9jYWxpemUsIHNlcnZpY2VzKTtcblxuICAgICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZFNlcnZpY2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2Nlc3NlZFNlcnZpY2VzLmZpbHRlcihcbiAgICAgICAgKHNlcnZpY2UpID0+XG4gICAgICAgICAgc2VydmljZS5zZXJ2aWNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyKSB8fFxuICAgICAgICAgIHNlcnZpY2UubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpXG4gICAgICApO1xuICAgIH1cbiAgKTtcblxuICBwcml2YXRlIF9maWx0ZXJDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIHRoaXMuX2ZpbHRlciA9IGV2LmRldGFpbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfdmFsdWVDaGFuZ2VkKGV2KSB7XG4gICAgdGhpcy52YWx1ZSA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJjaGFuZ2VcIik7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7IHZhbHVlOiB0aGlzLnZhbHVlIH0pO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1zZXJ2aWNlLXBpY2tlclwiOiBIYVNlcnZpY2VQaWNrZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ha-service-picker.ts\n");

/***/ }),

/***/ "./src/components/ha-settings-row.ts":
/*!*******************************************!*\
  !*** ./src/components/ha-settings-row.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaSettingsRow: () => (/* binding */ HaSettingsRow)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\nlet HaSettingsRow = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-settings-row\")], function (_initialize, _LitElement) {\n  class HaSettingsRow extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaSettingsRow,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"three-line\"\n      })],\n      key: \"threeLine\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <div class=\"prefix-wrap\">\n        <slot name=\"prefix\"></slot>\n        <div\n          class=\"body\"\n          ?two-line=${!this.threeLine}\n          ?three-line=${this.threeLine}\n        >\n          <slot name=\"heading\"></slot>\n          <div class=\"secondary\"><slot name=\"description\"></slot></div>\n        </div>\n      </div>\n      <div class=\"content\"><slot></slot></div>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      :host {\n        display: flex;\n        padding: 0 16px;\n        align-content: normal;\n        align-self: auto;\n        align-items: center;\n      }\n      .body {\n        padding: 8px 16px 8px 0;\n        overflow: hidden;\n        display: var(--layout-vertical_-_display);\n        flex-direction: var(--layout-vertical_-_flex-direction);\n        justify-content: var(--layout-center-justified_-_justify-content);\n        flex: var(--layout-flex_-_flex);\n        flex-basis: var(--layout-flex_-_flex-basis);\n      }\n      .body[three-line] {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n      .body > * {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .body > .secondary {\n        display: block;\n        padding-top: 4px;\n        font-family: var(\n          --mdc-typography-body2-font-family,\n          var(--mdc-typography-font-family, Roboto, sans-serif)\n        );\n        -webkit-font-smoothing: antialiased;\n        font-size: var(--mdc-typography-body2-font-size, 0.875rem);\n        font-weight: var(--mdc-typography-body2-font-weight, 400);\n        line-height: normal;\n        color: var(--secondary-text-color);\n      }\n      .body[two-line] {\n        min-height: calc(\n          var(--paper-item-body-two-line-min-height, 72px) - 16px\n        );\n        flex: 1;\n      }\n      .content {\n        display: contents;\n      }\n      :host(:not([narrow])) .content {\n        display: var(--settings-row-content-display, flex);\n        justify-content: flex-end;\n        flex: 1;\n        padding: 16px 0;\n      }\n      .content ::slotted(*) {\n        width: var(--settings-row-content-width);\n      }\n      :host([narrow]) {\n        align-items: normal;\n        flex-direction: column;\n        border-top: 1px solid var(--divider-color);\n        padding-bottom: 8px;\n      }\n      ::slotted(ha-switch) {\n        padding: 16px 0;\n      }\n      .secondary {\n        white-space: normal;\n      }\n      .prefix-wrap {\n        display: var(--settings-row-prefix-display);\n      }\n      :host([narrow]) .prefix-wrap {\n        display: flex;\n        align-items: center;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1zZXR0aW5ncy1yb3cudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBcUdBO0FBQUE7QUFBQTtBQXJHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1zZXR0aW5ncy1yb3cudHM/M2YyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtc2V0dGluZ3Mtcm93XCIpXG5leHBvcnQgY2xhc3MgSGFTZXR0aW5nc1JvdyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyBuYXJyb3chOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJ0aHJlZS1saW5lXCIgfSlcbiAgcHVibGljIHRocmVlTGluZSA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInByZWZpeC13cmFwXCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJwcmVmaXhcIj48L3Nsb3Q+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cImJvZHlcIlxuICAgICAgICAgID90d28tbGluZT0keyF0aGlzLnRocmVlTGluZX1cbiAgICAgICAgICA/dGhyZWUtbGluZT0ke3RoaXMudGhyZWVMaW5lfVxuICAgICAgICA+XG4gICAgICAgICAgPHNsb3QgbmFtZT1cImhlYWRpbmdcIj48L3Nsb3Q+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY29uZGFyeVwiPjxzbG90IG5hbWU9XCJkZXNjcmlwdGlvblwiPjwvc2xvdD48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+PHNsb3Q+PC9zbG90PjwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgcGFkZGluZzogMCAxNnB4O1xuICAgICAgICBhbGlnbi1jb250ZW50OiBub3JtYWw7XG4gICAgICAgIGFsaWduLXNlbGY6IGF1dG87XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAuYm9keSB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4IDhweCAwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBkaXNwbGF5OiB2YXIoLS1sYXlvdXQtdmVydGljYWxfLV9kaXNwbGF5KTtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHZhcigtLWxheW91dC12ZXJ0aWNhbF8tX2ZsZXgtZGlyZWN0aW9uKTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiB2YXIoLS1sYXlvdXQtY2VudGVyLWp1c3RpZmllZF8tX2p1c3RpZnktY29udGVudCk7XG4gICAgICAgIGZsZXg6IHZhcigtLWxheW91dC1mbGV4Xy1fZmxleCk7XG4gICAgICAgIGZsZXgtYmFzaXM6IHZhcigtLWxheW91dC1mbGV4Xy1fZmxleC1iYXNpcyk7XG4gICAgICB9XG4gICAgICAuYm9keVt0aHJlZS1saW5lXSB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IHZhcigtLXBhcGVyLWl0ZW0tYm9keS10aHJlZS1saW5lLW1pbi1oZWlnaHQsIDg4cHgpO1xuICAgICAgfVxuICAgICAgLmJvZHkgPiAqIHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICB9XG4gICAgICAuYm9keSA+IC5zZWNvbmRhcnkge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZy10b3A6IDRweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcihcbiAgICAgICAgICAtLW1kYy10eXBvZ3JhcGh5LWJvZHkyLWZvbnQtZmFtaWx5LFxuICAgICAgICAgIHZhcigtLW1kYy10eXBvZ3JhcGh5LWZvbnQtZmFtaWx5LCBSb2JvdG8sIHNhbnMtc2VyaWYpXG4gICAgICAgICk7XG4gICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgICBmb250LXNpemU6IHZhcigtLW1kYy10eXBvZ3JhcGh5LWJvZHkyLWZvbnQtc2l6ZSwgMC44NzVyZW0pO1xuICAgICAgICBmb250LXdlaWdodDogdmFyKC0tbWRjLXR5cG9ncmFwaHktYm9keTItZm9udC13ZWlnaHQsIDQwMCk7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG4gICAgICAuYm9keVt0d28tbGluZV0ge1xuICAgICAgICBtaW4taGVpZ2h0OiBjYWxjKFxuICAgICAgICAgIHZhcigtLXBhcGVyLWl0ZW0tYm9keS10d28tbGluZS1taW4taGVpZ2h0LCA3MnB4KSAtIDE2cHhcbiAgICAgICAgKTtcbiAgICAgICAgZmxleDogMTtcbiAgICAgIH1cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgZGlzcGxheTogY29udGVudHM7XG4gICAgICB9XG4gICAgICA6aG9zdCg6bm90KFtuYXJyb3ddKSkgLmNvbnRlbnQge1xuICAgICAgICBkaXNwbGF5OiB2YXIoLS1zZXR0aW5ncy1yb3ctY29udGVudC1kaXNwbGF5LCBmbGV4KTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgcGFkZGluZzogMTZweCAwO1xuICAgICAgfVxuICAgICAgLmNvbnRlbnQgOjpzbG90dGVkKCopIHtcbiAgICAgICAgd2lkdGg6IHZhcigtLXNldHRpbmdzLXJvdy1jb250ZW50LXdpZHRoKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFtuYXJyb3ddKSB7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBub3JtYWw7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICAgIH1cbiAgICAgIDo6c2xvdHRlZChoYS1zd2l0Y2gpIHtcbiAgICAgICAgcGFkZGluZzogMTZweCAwO1xuICAgICAgfVxuICAgICAgLnNlY29uZGFyeSB7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgICB9XG4gICAgICAucHJlZml4LXdyYXAge1xuICAgICAgICBkaXNwbGF5OiB2YXIoLS1zZXR0aW5ncy1yb3ctcHJlZml4LWRpc3BsYXkpO1xuICAgICAgfVxuICAgICAgOmhvc3QoW25hcnJvd10pIC5wcmVmaXgtd3JhcCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXNldHRpbmdzLXJvd1wiOiBIYVNldHRpbmdzUm93O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-settings-row.ts\n");

/***/ }),

/***/ "./src/components/ha-yaml-editor.ts":
/*!******************************************!*\
  !*** ./src/components/ha-yaml-editor.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaYamlEditor: () => (/* binding */ HaYamlEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n\n\n\n\n\n\n\n\nconst isEmpty = obj => {\n  if (typeof obj !== \"object\") {\n    return false;\n  }\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      return false;\n    }\n  }\n  return true;\n};\nlet HaYamlEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.customElement)(\"ha-yaml-editor\")], function (_initialize, _LitElement) {\n  class HaYamlEditor extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaYamlEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"yamlSchema\",\n      value() {\n        return js_yaml__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SCHEMA;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"defaultValue\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"isValid\",\n      value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"autoUpdate\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"readOnly\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"required\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_yaml\",\n      value() {\n        return \"\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"setValue\",\n      value: function setValue(value) {\n        try {\n          this._yaml = value && !isEmpty(value) ? (0,js_yaml__WEBPACK_IMPORTED_MODULE_3__.dump)(value, {\n            schema: this.yamlSchema,\n            quotingType: '\"',\n            noRefs: true\n          }) : \"\";\n        } catch (err) {\n          // eslint-disable-next-line no-console\n          console.error(err, value);\n          alert(`There was an error converting to YAML: ${err}`);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated() {\n        if (this.defaultValue) {\n          this.setValue(this.defaultValue);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProperties) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaYamlEditor.prototype), \"willUpdate\", this).call(this, changedProperties);\n        if (this.autoUpdate && changedProperties.has(\"value\")) {\n          this.setValue(this.value);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (this._yaml === undefined) {\n          return lit__WEBPACK_IMPORTED_MODULE_4__.nothing;\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_4__.html`\n      ${this.label ? lit__WEBPACK_IMPORTED_MODULE_4__.html`<p>${this.label}${this.required ? \" *\" : \"\"}</p>` : \"\"}\n      <ha-code-editor\n        .hass=${this.hass}\n        .value=${this._yaml}\n        .readOnly=${this.readOnly}\n        mode=\"yaml\"\n        autocomplete-entities\n        autocomplete-icons\n        .error=${this.isValid === false}\n        @value-changed=${this._onChange}\n        dir=\"ltr\"\n      ></ha-code-editor>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onChange\",\n      value: function _onChange(ev) {\n        ev.stopPropagation();\n        this._yaml = ev.detail.value;\n        let parsed;\n        let isValid = true;\n        if (this._yaml) {\n          try {\n            parsed = (0,js_yaml__WEBPACK_IMPORTED_MODULE_3__.load)(this._yaml, {\n              schema: this.yamlSchema\n            });\n          } catch (err) {\n            // Invalid YAML\n            isValid = false;\n          }\n        } else {\n          parsed = {};\n        }\n        this.value = parsed;\n        this.isValid = isValid;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"value-changed\", {\n          value: parsed,\n          isValid\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"yaml\",\n      value: function yaml() {\n        return this._yaml;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_4__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS15YW1sLWVkaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQW1HQTtBQUFBO0FBQUE7QUFuR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2hhLXlhbWwtZWRpdG9yLnRzPzc0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREVGQVVMVF9TQ0hFTUEsIGR1bXAsIGxvYWQsIFNjaGVtYSB9IGZyb20gXCJqcy15YW1sXCI7XG5pbXBvcnQgeyBodG1sLCBMaXRFbGVtZW50LCBub3RoaW5nLCBQcm9wZXJ0eVZhbHVlcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWNvZGUtZWRpdG9yXCI7XG5cbmNvbnN0IGlzRW1wdHkgPSAob2JqOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IGJvb2xlYW4gPT4ge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEteWFtbC1lZGl0b3JcIilcbmV4cG9ydCBjbGFzcyBIYVlhbWxFZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHZhbHVlPzogYW55O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHlhbWxTY2hlbWE6IFNjaGVtYSA9IERFRkFVTFRfU0NIRU1BO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBkZWZhdWx0VmFsdWU/OiBhbnk7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGlzVmFsaWQgPSB0cnVlO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBsYWJlbD86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBhdXRvVXBkYXRlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgcmVhZE9ubHkgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyByZXF1aXJlZCA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3lhbWwgPSBcIlwiO1xuXG4gIHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZSk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl95YW1sID1cbiAgICAgICAgdmFsdWUgJiYgIWlzRW1wdHkodmFsdWUpXG4gICAgICAgICAgPyBkdW1wKHZhbHVlLCB7XG4gICAgICAgICAgICAgIHNjaGVtYTogdGhpcy55YW1sU2NoZW1hLFxuICAgICAgICAgICAgICBxdW90aW5nVHlwZTogJ1wiJyxcbiAgICAgICAgICAgICAgbm9SZWZzOiB0cnVlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IFwiXCI7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKGVyciwgdmFsdWUpO1xuICAgICAgYWxlcnQoYFRoZXJlIHdhcyBhbiBlcnJvciBjb252ZXJ0aW5nIHRvIFlBTUw6ICR7ZXJyfWApO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGVmYXVsdFZhbHVlKSB7XG4gICAgICB0aGlzLnNldFZhbHVlKHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pOiB2b2lkIHtcbiAgICBzdXBlci53aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInZhbHVlXCIpKSB7XG4gICAgICB0aGlzLnNldFZhbHVlKHRoaXMudmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuX3lhbWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLmxhYmVsXG4gICAgICAgID8gaHRtbGA8cD4ke3RoaXMubGFiZWx9JHt0aGlzLnJlcXVpcmVkID8gXCIgKlwiIDogXCJcIn08L3A+YFxuICAgICAgICA6IFwiXCJ9XG4gICAgICA8aGEtY29kZS1lZGl0b3JcbiAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgIC52YWx1ZT0ke3RoaXMuX3lhbWx9XG4gICAgICAgIC5yZWFkT25seT0ke3RoaXMucmVhZE9ubHl9XG4gICAgICAgIG1vZGU9XCJ5YW1sXCJcbiAgICAgICAgYXV0b2NvbXBsZXRlLWVudGl0aWVzXG4gICAgICAgIGF1dG9jb21wbGV0ZS1pY29uc1xuICAgICAgICAuZXJyb3I9JHt0aGlzLmlzVmFsaWQgPT09IGZhbHNlfVxuICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX29uQ2hhbmdlfVxuICAgICAgICBkaXI9XCJsdHJcIlxuICAgICAgPjwvaGEtY29kZS1lZGl0b3I+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX29uQ2hhbmdlKGV2OiBDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuX3lhbWwgPSBldi5kZXRhaWwudmFsdWU7XG4gICAgbGV0IHBhcnNlZDtcbiAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5feWFtbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFyc2VkID0gbG9hZCh0aGlzLl95YW1sLCB7IHNjaGVtYTogdGhpcy55YW1sU2NoZW1hIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgLy8gSW52YWxpZCBZQU1MXG4gICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkID0ge307XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHBhcnNlZDtcbiAgICB0aGlzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuXG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7IHZhbHVlOiBwYXJzZWQsIGlzVmFsaWQgfSBhcyBhbnkpO1xuICB9XG5cbiAgZ2V0IHlhbWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3lhbWw7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXlhbWwtZWRpdG9yXCI6IEhhWWFtbEVkaXRvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-yaml-editor.ts\n");

/***/ }),

/***/ "./src/util/documentation-url.ts":
/*!***************************************!*\
  !*** ./src/util/documentation-url.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   documentationUrl: () => (/* binding */ documentationUrl)\n/* harmony export */ });\nconst documentationUrl = (hass, path) => {\n  // IoB Help Link:\n  return `https://www.iobroker.net/#${hass.language ? hass.language.split(\"-\")[0] || \"en\" : \"en\"}/adapters/adapterref/iobroker.lovelace/README.md`;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbC9kb2N1bWVudGF0aW9uLXVybC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy91dGlsL2RvY3VtZW50YXRpb24tdXJsLnRzPzA3YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZG9jdW1lbnRhdGlvblVybCA9IChoYXNzOiBIb21lQXNzaXN0YW50LCBwYXRoOiBzdHJpbmcpID0+IHtcbiAgLy8gSW9CIEhlbHAgTGluazpcbiAgcmV0dXJuIGBodHRwczovL3d3dy5pb2Jyb2tlci5uZXQvIyR7XG4gICAgaGFzcyEubGFuZ3VhZ2UgPyBoYXNzIS5sYW5ndWFnZS5zcGxpdChcIi1cIilbMF0gfHwgXCJlblwiIDogXCJlblwiXG4gIH0vYWRhcHRlcnMvYWRhcHRlcnJlZi9pb2Jyb2tlci5sb3ZlbGFjZS9SRUFETUUubWRgO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/util/documentation-url.ts\n");

/***/ })

}]);