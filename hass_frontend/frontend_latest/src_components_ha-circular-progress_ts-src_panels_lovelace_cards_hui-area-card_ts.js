"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_components_ha-circular-progress_ts-src_panels_lovelace_cards_hui-area-card_ts"],{

/***/ "./src/common/util/subscribe-one.ts":
/*!******************************************!*\
  !*** ./src/common/util/subscribe-one.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribeOne: () => (/* binding */ subscribeOne)\n/* harmony export */ });\nconst subscribeOne = async (conn, subscribe) => new Promise(resolve => {\n  const unsub = subscribe(conn, items => {\n    unsub();\n    resolve(items);\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvc3Vic2NyaWJlLW9uZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL3V0aWwvc3Vic2NyaWJlLW9uZS50cz9lOTEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24sIFVuc3Vic2NyaWJlRnVuYyB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZU9uZSA9IGFzeW5jIDxUPihcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgc3Vic2NyaWJlOiAoXG4gICAgY29ubjI6IENvbm5lY3Rpb24sXG4gICAgb25DaGFuZ2U6IChpdGVtczogVCkgPT4gdm9pZFxuICApID0+IFVuc3Vic2NyaWJlRnVuY1xuKSA9PlxuICBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IHVuc3ViID0gc3Vic2NyaWJlKGNvbm4sIChpdGVtcykgPT4ge1xuICAgICAgdW5zdWIoKTtcbiAgICAgIHJlc29sdmUoaXRlbXMpO1xuICAgIH0pO1xuICB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/util/subscribe-one.ts\n");

/***/ }),

/***/ "./src/components/ha-circular-progress.ts":
/*!************************************************!*\
  !*** ./src/components/ha-circular-progress.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaCircularProgress: () => (/* binding */ HaCircularProgress)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_circular_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/mwc-circular-progress */ \"./node_modules/@material/mwc-circular-progress/mwc-circular-progress.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\n\n\nlet HaCircularProgress = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.customElement)(\"ha-circular-progress\")], function (_initialize, _CircularProgress) {\n  class HaCircularProgress extends _CircularProgress {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaCircularProgress,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"active\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"alt\",\n      value() {\n        return \"Loading\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"size\",\n      value() {\n        return \"medium\";\n      }\n    }, {\n      kind: \"set\",\n      key: \"density\",\n      value:\n      // @ts-ignore\n      function density(_) {\n        // just a dummy\n      }\n    }, {\n      kind: \"get\",\n      key: \"density\",\n      value: function density() {\n        switch (this.size) {\n          case \"tiny\":\n            return -8;\n          case \"small\":\n            return -5;\n          case \"medium\":\n            return 0;\n          case \"large\":\n            return 5;\n          default:\n            return 0;\n        }\n      }\n\n      // @ts-ignore\n    }, {\n      kind: \"set\",\n      key: \"indeterminate\",\n      value: function indeterminate(_) {\n        // just a dummy\n      }\n    }, {\n      kind: \"get\",\n      key: \"indeterminate\",\n      value: function indeterminate() {\n        return this.active;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaCircularProgress), \"styles\", this), lit__WEBPACK_IMPORTED_MODULE_4__.css`\n        :host {\n          overflow: hidden;\n        }\n      `];\n      }\n    }]\n  };\n}, _material_mwc_circular_progress__WEBPACK_IMPORTED_MODULE_3__.CircularProgress);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBaURBO0FBQUE7QUFBQTtBQWpEQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1jaXJjdWxhci1wcm9ncmVzcy50cz8wNjljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENpcmN1bGFyUHJvZ3Jlc3MgfSBmcm9tIFwiQG1hdGVyaWFsL213Yy1jaXJjdWxhci1wcm9ncmVzc1wiO1xuaW1wb3J0IHsgQ1NTUmVzdWx0R3JvdXAsIGNzcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtY2lyY3VsYXItcHJvZ3Jlc3NcIilcbi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBjbGFzcyBIYUNpcmN1bGFyUHJvZ3Jlc3MgZXh0ZW5kcyBDaXJjdWxhclByb2dyZXNzIHtcbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICBwdWJsaWMgYWN0aXZlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KClcbiAgcHVibGljIGFsdCA9IFwiTG9hZGluZ1wiO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHB1YmxpYyBzaXplOiBcInRpbnlcIiB8IFwic21hbGxcIiB8IFwibWVkaXVtXCIgfCBcImxhcmdlXCIgPSBcIm1lZGl1bVwiO1xuXG4gIC8vIEB0cy1pZ25vcmVcbiAgcHVibGljIHNldCBkZW5zaXR5KF8pIHtcbiAgICAvLyBqdXN0IGEgZHVtbXlcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZGVuc2l0eSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc2l6ZSkge1xuICAgICAgY2FzZSBcInRpbnlcIjpcbiAgICAgICAgcmV0dXJuIC04O1xuICAgICAgY2FzZSBcInNtYWxsXCI6XG4gICAgICAgIHJldHVybiAtNTtcbiAgICAgIGNhc2UgXCJtZWRpdW1cIjpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICBjYXNlIFwibGFyZ2VcIjpcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICAvLyBAdHMtaWdub3JlXG4gIHB1YmxpYyBzZXQgaW5kZXRlcm1pbmF0ZShfKSB7XG4gICAgLy8ganVzdCBhIGR1bW15XG4gIH1cblxuICBwdWJsaWMgZ2V0IGluZGV0ZXJtaW5hdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBzdXBlci5zdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWNpcmN1bGFyLXByb2dyZXNzXCI6IEhhQ2lyY3VsYXJQcm9ncmVzcztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ha-circular-progress.ts\n");

/***/ }),

/***/ "./src/mixins/subscribe-mixin.ts":
/*!***************************************!*\
  !*** ./src/mixins/subscribe-mixin.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SubscribeMixin: () => (/* binding */ SubscribeMixin)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\nconst SubscribeMixin = superClass => {\n  let SubscribeClass = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null, function (_initialize, _superClass) {\n    class SubscribeClass extends _superClass {\n      constructor(...args) {\n        super(...args);\n        _initialize(this);\n      }\n    }\n    return {\n      F: SubscribeClass,\n      d: [{\n        kind: \"field\",\n        decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n          attribute: false\n        })],\n        key: \"hass\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"hassSubscribeRequiredHostProps\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"__unsubs\",\n        value: void 0\n      }, {\n        kind: \"method\",\n        key: \"connectedCallback\",\n        value:\n        // we wait with subscribing till these properties are set on the host element\n\n        function connectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"connectedCallback\", this).call(this);\n          this.__checkSubscribed();\n        }\n      }, {\n        kind: \"method\",\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"disconnectedCallback\", this).call(this);\n          if (this.__unsubs) {\n            while (this.__unsubs.length) {\n              const unsub = this.__unsubs.pop();\n              if (unsub instanceof Promise) {\n                unsub.then(unsubFunc => unsubFunc());\n              } else {\n                unsub();\n              }\n            }\n            this.__unsubs = undefined;\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"updated\",\n        value: function updated(changedProps) {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"updated\", this).call(this, changedProps);\n          if (changedProps.has(\"hass\")) {\n            this.__checkSubscribed();\n            return;\n          }\n          if (!this.hassSubscribeRequiredHostProps) {\n            return;\n          }\n          for (const key of changedProps.keys()) {\n            if (this.hassSubscribeRequiredHostProps.includes(key)) {\n              this.__checkSubscribed();\n              return;\n            }\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"hassSubscribe\",\n        value: function hassSubscribe() {\n          return [];\n        }\n      }, {\n        kind: \"method\",\n        key: \"__checkSubscribed\",\n        value: function __checkSubscribed() {\n          var _this$hassSubscribeRe;\n          if (this.__unsubs !== undefined || !this.isConnected || this.hass === undefined || (_this$hassSubscribeRe = this.hassSubscribeRequiredHostProps) !== null && _this$hassSubscribeRe !== void 0 && _this$hassSubscribeRe.some(prop => this[prop] === undefined)) {\n            return;\n          }\n          this.__unsubs = this.hassSubscribe();\n        }\n      }]\n    };\n  }, superClass);\n  return SubscribeClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWl4aW5zL3N1YnNjcmliZS1taXhpbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnRUE7QUFBQTtBQUFBO0FBaEVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9taXhpbnMvc3Vic2NyaWJlLW1peGluLnRzP2Y1YjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIFJlYWN0aXZlRWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciwgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc3NTdWJzY3JpYmVFbGVtZW50IHtcbiAgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFN1YnNjcmliZU1peGluID0gPFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxSZWFjdGl2ZUVsZW1lbnQ+PihcbiAgc3VwZXJDbGFzczogVFxuKSA9PiB7XG4gIGNsYXNzIFN1YnNjcmliZUNsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgICAvLyB3ZSB3YWl0IHdpdGggc3Vic2NyaWJpbmcgdGlsbCB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBzZXQgb24gdGhlIGhvc3QgZWxlbWVudFxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHM/OiBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgX191bnN1YnM/OiBBcnJheTxVbnN1YnNjcmliZUZ1bmMgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz4+O1xuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuX19jaGVja1N1YnNjcmliZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgaWYgKHRoaXMuX191bnN1YnMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX191bnN1YnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLl9fdW5zdWJzLnBvcCgpITtcbiAgICAgICAgICBpZiAodW5zdWIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB1bnN1Yi50aGVuKCh1bnN1YkZ1bmMpID0+IHVuc3ViRnVuYygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3Vuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpIHtcbiAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNoYW5nZWRQcm9wcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzLmluY2x1ZGVzKGtleSBhcyBzdHJpbmcpKSB7XG4gICAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlKCk6IEFycmF5PFxuICAgICAgVW5zdWJzY3JpYmVGdW5jIHwgUHJvbWlzZTxVbnN1YnNjcmliZUZ1bmM+XG4gICAgPiB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfX2NoZWNrU3Vic2NyaWJlZCgpOiB2b2lkIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fX3Vuc3VicyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICEodGhpcyBhcyB1bmtub3duIGFzIEVsZW1lbnQpLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgIHRoaXMuaGFzcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzPy5zb21lKFxuICAgICAgICAgIChwcm9wKSA9PiB0aGlzW3Byb3BdID09PSB1bmRlZmluZWRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX191bnN1YnMgPSB0aGlzLmhhc3NTdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN1YnNjcmliZUNsYXNzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mixins/subscribe-mixin.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/hui-area-card.ts":
/*!****************************************************!*\
  !*** ./src/panels/lovelace/cards/hui-area-card.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiAreaCard: () => (/* binding */ HuiAreaCard)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/mwc-ripple */ \"./node_modules/@material/mwc-ripple/mwc-ripple.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_const__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/const */ \"./src/common/const.ts\");\n/* harmony import */ var _common_dom_apply_themes_on_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/dom/apply_themes_on_element */ \"./src/common/dom/apply_themes_on_element.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/entity/domain_icon */ \"./src/common/entity/domain_icon.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _common_util_subscribe_one__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../common/util/subscribe-one */ \"./src/common/util/subscribe-one.ts\");\n/* harmony import */ var _components_entity_state_badge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/entity/state-badge */ \"./src/components/entity/state-badge.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_state_icon__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/ha-state-icon */ \"./src/components/ha-state-icon.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _data_area_registry__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../data/area_registry */ \"./src/data/area_registry.ts\");\n/* harmony import */ var _data_device_registry__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../data/device_registry */ \"./src/data/device_registry.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _data_haptics__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../data/haptics */ \"./src/data/haptics.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _components_hui_image__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../components/hui-image */ \"./src/panels/lovelace/components/hui-image.ts\");\n/* harmony import */ var _components_hui_warning__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../components/hui-warning */ \"./src/panels/lovelace/components/hui-warning.ts\");\n\n\n\n\nconst mdiLightbulbMultiple = \"M17 16V18C17 18.55 16.53 19 16 19H12C11.42 19 11 18.55 11 18V16C8.77 14.34 8.32 11.21 10 9S14.77 6.34 17 8 19.63 12.79 18 15C17.69 15.38 17.35 15.72 17 16M16 20H12V21C12 21.55 12.42 22 13 22H15C15.53 22 16 21.55 16 21M7.66 15H7V16C7 16.55 7.42 17 8 17H9V16.88C8.44 16.33 8 15.7 7.66 15M13.58 5C12.46 2.47 9.5 1.33 7 2.45S3.31 6.5 4.43 9.04C4.77 9.81 5.3 10.5 6 11V13C6 13.55 6.42 14 7 14H7.28C7.07 13.35 6.97 12.68 7 12C6.97 8.29 9.87 5.21 13.58 5Z\";\nconst mdiLightbulbMultipleOff = \"M20.84 22.73L16.74 18.63C16.55 18.85 16.29 19 16 19H12C11.42 19 11 18.55 11 18V16C9.37 14.8 8.71 12.82 9.1 11L7.5 9.39C7.17 10.2 6.97 11.08 7 12C6.97 12.68 7.07 13.35 7.28 14H7C6.42 14 6 13.55 6 13V11C5.3 10.5 4.77 9.81 4.43 9.04C4 8.05 3.91 7 4.12 6L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M13.58 5C12.46 2.47 9.5 1.33 7 2.45C6.68 2.58 6.39 2.75 6.13 2.93L9.67 6.47C10.76 5.63 12.1 5.08 13.58 5M18.06 14.86C19.6 12.66 19.14 9.62 17 8C15.2 6.67 12.84 6.72 11.12 7.92L18.06 14.86M12 21C12 21.55 12.42 22 13 22H15C15.53 22 16 21.55 16 21V20H12V21M7 15V16C7 16.55 7.42 17 8 17H9V16.88C8.43 16.33 8 15.7 7.66 15H7Z\";\nconst mdiRun = \"M13.5,5.5C14.59,5.5 15.5,4.58 15.5,3.5C15.5,2.38 14.59,1.5 13.5,1.5C12.39,1.5 11.5,2.38 11.5,3.5C11.5,4.58 12.39,5.5 13.5,5.5M9.89,19.38L10.89,15L13,17V23H15V15.5L12.89,13.5L13.5,10.5C14.79,12 16.79,13 19,13V11C17.09,11 15.5,10 14.69,8.58L13.69,7C13.29,6.38 12.69,6 12,6C11.69,6 11.5,6.08 11.19,6.08L6,8.28V13H8V9.58L9.79,8.88L8.19,17L3.29,16L2.89,18L9.89,19.38Z\";\nconst mdiThermometer = \"M15 13V5A3 3 0 0 0 9 5V13A5 5 0 1 0 15 13M12 4A1 1 0 0 1 13 5V8H11V5A1 1 0 0 1 12 4Z\";\nconst mdiToggleSwitch = \"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z\";\nconst mdiToggleSwitchOff = \"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z\";\nconst mdiWaterAlert = \"M10 3.25C10 3.25 16 10 16 14C16 17.31 13.31 20 10 20S4 17.31 4 14C4 10 10 3.25 10 3.25M20 7V13H18V7H20M18 17H20V15H18V17Z\";\nconst mdiWaterPercent = \"M12,3.25C12,3.25 6,10 6,14C6,17.32 8.69,20 12,20A6,6 0 0,0 18,14C18,10 12,3.25 12,3.25M14.47,9.97L15.53,11.03L9.53,17.03L8.47,15.97M9.75,10A1.25,1.25 0 0,1 11,11.25A1.25,1.25 0 0,1 9.75,12.5A1.25,1.25 0 0,1 8.5,11.25A1.25,1.25 0 0,1 9.75,10M14.25,14.5A1.25,1.25 0 0,1 15.5,15.75A1.25,1.25 0 0,1 14.25,17A1.25,1.25 0 0,1 13,15.75A1.25,1.25 0 0,1 14.25,14.5Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SENSOR_DOMAINS = [\"sensor\"];\nconst ALERT_DOMAINS = [\"binary_sensor\"];\nconst TOGGLE_DOMAINS = [\"light\", \"switch\", \"fan\"];\nconst OTHER_DOMAINS = [\"camera\"];\nconst DEVICE_CLASSES = {\n  sensor: [\"temperature\", \"humidity\"],\n  binary_sensor: [\"motion\", \"moisture\"]\n};\nconst DOMAIN_ICONS = {\n  light: {\n    on: mdiLightbulbMultiple,\n    off: mdiLightbulbMultipleOff\n  },\n  switch: {\n    on: mdiToggleSwitch,\n    off: mdiToggleSwitchOff\n  },\n  fan: {\n    on: (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_10__.domainIcon)(\"fan\"),\n    off: (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_10__.domainIcon)(\"fan\")\n  },\n  sensor: {\n    temperature: mdiThermometer,\n    humidity: mdiWaterPercent\n  },\n  binary_sensor: {\n    motion: mdiRun,\n    moisture: mdiWaterAlert\n  }\n};\nlet HuiAreaCard = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.customElement)(\"hui-area-card\")], function (_initialize, _SubscribeMixin) {\n  class HuiAreaCard extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiAreaCard,\n    d: [{\n      kind: \"method\",\n      static: true,\n      key: \"getConfigElement\",\n      value: async function getConfigElement() {\n        await Promise.all(/*! import() */[__webpack_require__.e(\"src_components_ha-selector_ha-selector_ts\"), __webpack_require__.e(\"src_common_array_ensure-array_ts-src_panels_lovelace_editor_config-elements_hui-area-card-editor_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../editor/config-elements/hui-area-card-editor */ \"./src/panels/lovelace/editor/config-elements/hui-area-card-editor.ts\"));\n        return document.createElement(\"hui-area-card-editor\");\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"getStubConfig\",\n      value: async function getStubConfig(hass) {\n        var _areas$;\n        const areas = await (0,_common_util_subscribe_one__WEBPACK_IMPORTED_MODULE_13__.subscribeOne)(hass.connection, _data_area_registry__WEBPACK_IMPORTED_MODULE_19__.subscribeAreaRegistry);\n        return {\n          type: \"area\",\n          area: ((_areas$ = areas[0]) === null || _areas$ === void 0 ? void 0 : _areas$.area_id) || \"\"\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_entities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_devices\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_areas\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_entitiesByDomain\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])((areaId, devicesInArea, registryEntities, states) => {\n          const entitiesInArea = registryEntities.filter(entry => !entry.entity_category && !entry.hidden_by && (entry.area_id ? entry.area_id === areaId : entry.device_id && devicesInArea.has(entry.device_id))).map(entry => entry.entity_id);\n          const entitiesByDomain = {};\n          for (const entity of entitiesInArea) {\n            const domain = (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_9__.computeDomain)(entity);\n            if (!TOGGLE_DOMAINS.includes(domain) && !SENSOR_DOMAINS.includes(domain) && !ALERT_DOMAINS.includes(domain) && !OTHER_DOMAINS.includes(domain)) {\n              continue;\n            }\n            const stateObj = states[entity];\n            if (!stateObj) {\n              continue;\n            }\n            if ((SENSOR_DOMAINS.includes(domain) || ALERT_DOMAINS.includes(domain)) && !DEVICE_CLASSES[domain].includes(stateObj.attributes.device_class || \"\")) {\n              continue;\n            }\n            if (!(domain in entitiesByDomain)) {\n              entitiesByDomain[domain] = [];\n            }\n            entitiesByDomain[domain].push(stateObj);\n          }\n          return entitiesByDomain;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_isOn\",\n      value: function _isOn(domain, deviceClass) {\n        const entities = this._entitiesByDomain(this._config.area, this._devicesInArea(this._config.area, this._devices), this._entities, this.hass.states)[domain];\n        if (!entities) {\n          return undefined;\n        }\n        return (deviceClass ? entities.filter(entity => entity.attributes.device_class === deviceClass) : entities).some(entity => !(0,_data_entity__WEBPACK_IMPORTED_MODULE_21__.isUnavailableState)(entity.state) && !_common_const__WEBPACK_IMPORTED_MODULE_7__.STATES_OFF.includes(entity.state));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_average\",\n      value: function _average(domain, deviceClass) {\n        const entities = this._entitiesByDomain(this._config.area, this._devicesInArea(this._config.area, this._devices), this._entities, this.hass.states)[domain].filter(entity => deviceClass ? entity.attributes.device_class === deviceClass : true);\n        if (!entities) {\n          return undefined;\n        }\n        let uom;\n        const values = entities.filter(entity => {\n          if (!entity.attributes.unit_of_measurement || isNaN(Number(entity.state))) {\n            return false;\n          }\n          if (!uom) {\n            uom = entity.attributes.unit_of_measurement;\n            return true;\n          }\n          return entity.attributes.unit_of_measurement === uom;\n        });\n        if (!values.length) {\n          return undefined;\n        }\n        const sum = values.reduce((total, entity) => total + Number(entity.state), 0);\n        return `${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_12__.formatNumber)(sum / values.length, this.hass.locale, {\n          maximumFractionDigits: 1\n        })} ${uom}`;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_area\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])((areaId, areas) => areas.find(area => area.area_id === areaId) || null);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_devicesInArea\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])((areaId, devices) => new Set(areaId ? devices.filter(device => device.area_id === areaId).map(device => device.id) : []));\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [(0,_data_area_registry__WEBPACK_IMPORTED_MODULE_19__.subscribeAreaRegistry)(this.hass.connection, areas => {\n          this._areas = areas;\n        }), (0,_data_device_registry__WEBPACK_IMPORTED_MODULE_20__.subscribeDeviceRegistry)(this.hass.connection, devices => {\n          this._devices = devices;\n        }), (0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_22__.subscribeEntityRegistry)(this.hass.connection, entries => {\n          this._entities = entries;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        if (!config.area) {\n          throw new Error(\"Area Required\");\n        }\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        if (changedProps.has(\"_config\") || !this._config) {\n          return true;\n        }\n        if (changedProps.has(\"_devicesInArea\") || changedProps.has(\"_areas\") || changedProps.has(\"_entities\")) {\n          return true;\n        }\n        if (!changedProps.has(\"hass\")) {\n          return false;\n        }\n        const oldHass = changedProps.get(\"hass\");\n        if (!oldHass || oldHass.themes !== this.hass.themes || oldHass.locale !== this.hass.locale) {\n          return true;\n        }\n        if (!this._devices || !this._devicesInArea(this._config.area, this._devices) || !this._entities) {\n          return false;\n        }\n        const entities = this._entitiesByDomain(this._config.area, this._devicesInArea(this._config.area, this._devices), this._entities, this.hass.states);\n        for (const domainEntities of Object.values(entities)) {\n          for (const stateObj of domainEntities) {\n            if (oldHass.states[stateObj.entity_id] !== stateObj) {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._config || !this.hass || !this._areas || !this._devices || !this._entities) {\n          return lit__WEBPACK_IMPORTED_MODULE_4__.nothing;\n        }\n        const entitiesByDomain = this._entitiesByDomain(this._config.area, this._devicesInArea(this._config.area, this._devices), this._entities, this.hass.states);\n        const area = this._area(this._config.area, this._areas);\n        if (area === null) {\n          return lit__WEBPACK_IMPORTED_MODULE_4__.html`\n        <hui-warning>\n          ${this.hass.localize(\"ui.card.area.area_not_found\")}\n        </hui-warning>\n      `;\n        }\n        const sensors = [];\n        SENSOR_DOMAINS.forEach(domain => {\n          if (!(domain in entitiesByDomain)) {\n            return;\n          }\n          DEVICE_CLASSES[domain].forEach(deviceClass => {\n            if (entitiesByDomain[domain].some(entity => entity.attributes.device_class === deviceClass)) {\n              sensors.push(lit__WEBPACK_IMPORTED_MODULE_4__.html`\n            ${DOMAIN_ICONS[domain][deviceClass] ? lit__WEBPACK_IMPORTED_MODULE_4__.html`<ha-svg-icon\n                  .path=${DOMAIN_ICONS[domain][deviceClass]}\n                ></ha-svg-icon>` : \"\"}\n            ${this._average(domain, deviceClass)}\n          `);\n            }\n          });\n        });\n        let cameraEntityId;\n        if (this._config.show_camera && \"camera\" in entitiesByDomain) {\n          cameraEntityId = entitiesByDomain.camera[0].entity_id;\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_4__.html`\n      <ha-card class=${area.picture || cameraEntityId ? \"image\" : \"\"}>\n        ${area.picture || cameraEntityId ? lit__WEBPACK_IMPORTED_MODULE_4__.html`<hui-image\n              .config=${this._config}\n              .hass=${this.hass}\n              .image=${area.picture ? area.picture : undefined}\n              .cameraImage=${cameraEntityId}\n              aspectRatio=\"16:9\"\n            ></hui-image>` : \"\"}\n\n        <div\n          class=\"container ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__.classMap)({\n          navigate: this._config.navigation_path !== undefined\n        })}\"\n          @click=${this._handleNavigation}\n        >\n          <div class=\"alerts\">\n            ${ALERT_DOMAINS.map(domain => {\n          if (!(domain in entitiesByDomain)) {\n            return \"\";\n          }\n          return DEVICE_CLASSES[domain].map(deviceClass => this._isOn(domain, deviceClass) ? lit__WEBPACK_IMPORTED_MODULE_4__.html`\n                      ${DOMAIN_ICONS[domain][deviceClass] ? lit__WEBPACK_IMPORTED_MODULE_4__.html`<ha-svg-icon\n                            .path=${DOMAIN_ICONS[domain][deviceClass]}\n                          ></ha-svg-icon>` : \"\"}\n                    ` : \"\");\n        })}\n          </div>\n          <div class=\"bottom\">\n            <div>\n              <div class=\"name\">${area.name}</div>\n              ${sensors.length ? lit__WEBPACK_IMPORTED_MODULE_4__.html`<div class=\"sensors\">${sensors}</div>` : \"\"}\n            </div>\n            <div class=\"buttons\">\n              ${TOGGLE_DOMAINS.map(domain => {\n          if (!(domain in entitiesByDomain)) {\n            return \"\";\n          }\n          const on = this._isOn(domain);\n          return TOGGLE_DOMAINS.includes(domain) ? lit__WEBPACK_IMPORTED_MODULE_4__.html`\n                      <ha-icon-button\n                        class=${on ? \"on\" : \"off\"}\n                        .path=${DOMAIN_ICONS[domain][on ? \"on\" : \"off\"]}\n                        .domain=${domain}\n                        @click=${this._toggle}\n                      >\n                      </ha-icon-button>\n                    ` : \"\";\n        })}\n            </div>\n          </div>\n        </div>\n      </ha-card>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HuiAreaCard.prototype), \"updated\", this).call(this, changedProps);\n        if (!this._config || !this.hass) {\n          return;\n        }\n        const oldHass = changedProps.get(\"hass\");\n        const oldConfig = changedProps.get(\"_config\");\n        if (changedProps.has(\"hass\") && (!oldHass || oldHass.themes !== this.hass.themes) || changedProps.has(\"_config\") && (!oldConfig || oldConfig.theme !== this._config.theme)) {\n          (0,_common_dom_apply_themes_on_element__WEBPACK_IMPORTED_MODULE_8__.applyThemesOnElement)(this, this.hass.themes, this._config.theme);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleNavigation\",\n      value: function _handleNavigation() {\n        if (this._config.navigation_path) {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_11__.navigate)(this._config.navigation_path);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggle\",\n      value: function _toggle(ev) {\n        ev.stopPropagation();\n        const domain = ev.currentTarget.domain;\n        if (TOGGLE_DOMAINS.includes(domain)) {\n          this.hass.callService(domain, this._isOn(domain) ? \"turn_off\" : \"turn_on\", undefined, {\n            area_id: this._config.area\n          });\n        }\n        (0,_data_haptics__WEBPACK_IMPORTED_MODULE_23__.forwardHaptic)(\"light\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_4__.css`\n      ha-card {\n        overflow: hidden;\n        position: relative;\n        padding-bottom: 56.25%;\n        background-size: cover;\n      }\n\n      ha-card.image {\n        padding-bottom: 0;\n      }\n\n      .container {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n          0,\n          rgba(33, 33, 33, 0.9) 0%,\n          rgba(33, 33, 33, 0) 45%\n        );\n      }\n\n      ha-card:not(.image) .container::before {\n        position: absolute;\n        content: \"\";\n        width: 100%;\n        height: 100%;\n        background-color: var(--sidebar-selected-icon-color);\n        opacity: 0.12;\n      }\n\n      .sensors {\n        color: #e3e3e3;\n        font-size: 16px;\n        --mdc-icon-size: 24px;\n        opacity: 0.6;\n        margin-top: 8px;\n      }\n\n      .alerts {\n        padding: 16px;\n      }\n\n      .alerts ha-svg-icon {\n        background: var(--accent-color);\n        color: var(--text-accent-color, var(--text-primary-color));\n        padding: 8px;\n        border-radius: 50%;\n      }\n\n      .name {\n        color: white;\n        font-size: 24px;\n      }\n\n      .bottom {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 16px;\n      }\n\n      .navigate {\n        cursor: pointer;\n      }\n\n      ha-icon-button {\n        color: white;\n        background-color: var(--area-button-color, #727272b2);\n        border-radius: 50%;\n        margin-left: 8px;\n        --mdc-icon-button-size: 44px;\n      }\n      .on {\n        color: var(--state-light-active-color);\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_24__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_4__.LitElement));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2h1aS1hcmVhLWNhcmQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFrZUE7QUFBQTtBQUFBO0FBcmVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFPQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvaHVpLWFyZWEtY2FyZC50cz9hZTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBtYXRlcmlhbC9td2MtcmlwcGxlXCI7XG5pbXBvcnQge1xuICBtZGlMaWdodGJ1bGJNdWx0aXBsZSxcbiAgbWRpTGlnaHRidWxiTXVsdGlwbGVPZmYsXG4gIG1kaVJ1bixcbiAgbWRpVGhlcm1vbWV0ZXIsXG4gIG1kaVRvZ2dsZVN3aXRjaCxcbiAgbWRpVG9nZ2xlU3dpdGNoT2ZmLFxuICBtZGlXYXRlckFsZXJ0LFxuICBtZGlXYXRlclBlcmNlbnQsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgdHlwZSB7IEhhc3NFbnRpdHksIFVuc3Vic2NyaWJlRnVuYyB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbiAgbm90aGluZyxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXBcIjtcbmltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuaW1wb3J0IHsgU1RBVEVTX09GRiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29uc3RcIjtcbmltcG9ydCB7IGFwcGx5VGhlbWVzT25FbGVtZW50IH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kb20vYXBwbHlfdGhlbWVzX29uX2VsZW1lbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVEb21haW4gfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgZG9tYWluSWNvbiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L2RvbWFpbl9pY29uXCI7XG5pbXBvcnQgeyBuYXZpZ2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vbmF2aWdhdGVcIjtcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCB7IHN1YnNjcmliZU9uZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbC9zdWJzY3JpYmUtb25lXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2VudGl0eS9zdGF0ZS1iYWRnZVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYXJkXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLXN0YXRlLWljb25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc3ZnLWljb25cIjtcbmltcG9ydCB7XG4gIEFyZWFSZWdpc3RyeUVudHJ5LFxuICBzdWJzY3JpYmVBcmVhUmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2FyZWFfcmVnaXN0cnlcIjtcbmltcG9ydCB7XG4gIERldmljZVJlZ2lzdHJ5RW50cnksXG4gIHN1YnNjcmliZURldmljZVJlZ2lzdHJ5LFxufSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9kZXZpY2VfcmVnaXN0cnlcIjtcbmltcG9ydCB7IGlzVW5hdmFpbGFibGVTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2VudGl0eVwiO1xuaW1wb3J0IHtcbiAgRW50aXR5UmVnaXN0cnlFbnRyeSxcbiAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2VudGl0eV9yZWdpc3RyeVwiO1xuaW1wb3J0IHsgZm9yd2FyZEhhcHRpYyB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2hhcHRpY3NcIjtcbmltcG9ydCB7IFN1YnNjcmliZU1peGluIH0gZnJvbSBcIi4uLy4uLy4uL21peGlucy9zdWJzY3JpYmUtbWl4aW5cIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvaHVpLWltYWdlXCI7XG5pbXBvcnQgXCIuLi9jb21wb25lbnRzL2h1aS13YXJuaW5nXCI7XG5pbXBvcnQgeyBMb3ZlbGFjZUNhcmQsIExvdmVsYWNlQ2FyZEVkaXRvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgQXJlYUNhcmRDb25maWcgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBTRU5TT1JfRE9NQUlOUyA9IFtcInNlbnNvclwiXTtcblxuY29uc3QgQUxFUlRfRE9NQUlOUyA9IFtcImJpbmFyeV9zZW5zb3JcIl07XG5cbmNvbnN0IFRPR0dMRV9ET01BSU5TID0gW1wibGlnaHRcIiwgXCJzd2l0Y2hcIiwgXCJmYW5cIl07XG5cbmNvbnN0IE9USEVSX0RPTUFJTlMgPSBbXCJjYW1lcmFcIl07XG5cbmNvbnN0IERFVklDRV9DTEFTU0VTID0ge1xuICBzZW5zb3I6IFtcInRlbXBlcmF0dXJlXCIsIFwiaHVtaWRpdHlcIl0sXG4gIGJpbmFyeV9zZW5zb3I6IFtcIm1vdGlvblwiLCBcIm1vaXN0dXJlXCJdLFxufTtcblxuY29uc3QgRE9NQUlOX0lDT05TID0ge1xuICBsaWdodDogeyBvbjogbWRpTGlnaHRidWxiTXVsdGlwbGUsIG9mZjogbWRpTGlnaHRidWxiTXVsdGlwbGVPZmYgfSxcbiAgc3dpdGNoOiB7IG9uOiBtZGlUb2dnbGVTd2l0Y2gsIG9mZjogbWRpVG9nZ2xlU3dpdGNoT2ZmIH0sXG4gIGZhbjogeyBvbjogZG9tYWluSWNvbihcImZhblwiKSwgb2ZmOiBkb21haW5JY29uKFwiZmFuXCIpIH0sXG4gIHNlbnNvcjoge1xuICAgIHRlbXBlcmF0dXJlOiBtZGlUaGVybW9tZXRlcixcbiAgICBodW1pZGl0eTogbWRpV2F0ZXJQZXJjZW50LFxuICB9LFxuICBiaW5hcnlfc2Vuc29yOiB7XG4gICAgbW90aW9uOiBtZGlSdW4sXG4gICAgbW9pc3R1cmU6IG1kaVdhdGVyQWxlcnQsXG4gIH0sXG59O1xuXG5AY3VzdG9tRWxlbWVudChcImh1aS1hcmVhLWNhcmRcIilcbmV4cG9ydCBjbGFzcyBIdWlBcmVhQ2FyZFxuICBleHRlbmRzIFN1YnNjcmliZU1peGluKExpdEVsZW1lbnQpXG4gIGltcGxlbWVudHMgTG92ZWxhY2VDYXJkXG57XG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0Q29uZmlnRWxlbWVudCgpOiBQcm9taXNlPExvdmVsYWNlQ2FyZEVkaXRvcj4ge1xuICAgIGF3YWl0IGltcG9ydChcIi4uL2VkaXRvci9jb25maWctZWxlbWVudHMvaHVpLWFyZWEtY2FyZC1lZGl0b3JcIik7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJodWktYXJlYS1jYXJkLWVkaXRvclwiKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0U3R1YkNvbmZpZyhcbiAgICBoYXNzOiBIb21lQXNzaXN0YW50XG4gICk6IFByb21pc2U8QXJlYUNhcmRDb25maWc+IHtcbiAgICBjb25zdCBhcmVhcyA9IGF3YWl0IHN1YnNjcmliZU9uZShoYXNzLmNvbm5lY3Rpb24sIHN1YnNjcmliZUFyZWFSZWdpc3RyeSk7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJhcmVhXCIsIGFyZWE6IGFyZWFzWzBdPy5hcmVhX2lkIHx8IFwiXCIgfTtcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbmZpZz86IEFyZWFDYXJkQ29uZmlnO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2VudGl0aWVzPzogRW50aXR5UmVnaXN0cnlFbnRyeVtdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2RldmljZXM/OiBEZXZpY2VSZWdpc3RyeUVudHJ5W107XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfYXJlYXM/OiBBcmVhUmVnaXN0cnlFbnRyeVtdO1xuXG4gIHByaXZhdGUgX2VudGl0aWVzQnlEb21haW4gPSBtZW1vaXplT25lKFxuICAgIChcbiAgICAgIGFyZWFJZDogc3RyaW5nLFxuICAgICAgZGV2aWNlc0luQXJlYTogU2V0PHN0cmluZz4sXG4gICAgICByZWdpc3RyeUVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10sXG4gICAgICBzdGF0ZXM6IEhvbWVBc3Npc3RhbnRbXCJzdGF0ZXNcIl1cbiAgICApID0+IHtcbiAgICAgIGNvbnN0IGVudGl0aWVzSW5BcmVhID0gcmVnaXN0cnlFbnRpdGllc1xuICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgIChlbnRyeSkgPT5cbiAgICAgICAgICAgICFlbnRyeS5lbnRpdHlfY2F0ZWdvcnkgJiZcbiAgICAgICAgICAgICFlbnRyeS5oaWRkZW5fYnkgJiZcbiAgICAgICAgICAgIChlbnRyeS5hcmVhX2lkXG4gICAgICAgICAgICAgID8gZW50cnkuYXJlYV9pZCA9PT0gYXJlYUlkXG4gICAgICAgICAgICAgIDogZW50cnkuZGV2aWNlX2lkICYmIGRldmljZXNJbkFyZWEuaGFzKGVudHJ5LmRldmljZV9pZCkpXG4gICAgICAgIClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IGVudHJ5LmVudGl0eV9pZCk7XG5cbiAgICAgIGNvbnN0IGVudGl0aWVzQnlEb21haW46IHsgW2RvbWFpbjogc3RyaW5nXTogSGFzc0VudGl0eVtdIH0gPSB7fTtcblxuICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXNJbkFyZWEpIHtcbiAgICAgICAgY29uc3QgZG9tYWluID0gY29tcHV0ZURvbWFpbihlbnRpdHkpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIVRPR0dMRV9ET01BSU5TLmluY2x1ZGVzKGRvbWFpbikgJiZcbiAgICAgICAgICAhU0VOU09SX0RPTUFJTlMuaW5jbHVkZXMoZG9tYWluKSAmJlxuICAgICAgICAgICFBTEVSVF9ET01BSU5TLmluY2x1ZGVzKGRvbWFpbikgJiZcbiAgICAgICAgICAhT1RIRVJfRE9NQUlOUy5pbmNsdWRlcyhkb21haW4pXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlT2JqOiBIYXNzRW50aXR5IHwgdW5kZWZpbmVkID0gc3RhdGVzW2VudGl0eV07XG5cbiAgICAgICAgaWYgKCFzdGF0ZU9iaikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChTRU5TT1JfRE9NQUlOUy5pbmNsdWRlcyhkb21haW4pIHx8IEFMRVJUX0RPTUFJTlMuaW5jbHVkZXMoZG9tYWluKSkgJiZcbiAgICAgICAgICAhREVWSUNFX0NMQVNTRVNbZG9tYWluXS5pbmNsdWRlcyhcbiAgICAgICAgICAgIHN0YXRlT2JqLmF0dHJpYnV0ZXMuZGV2aWNlX2NsYXNzIHx8IFwiXCJcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoZG9tYWluIGluIGVudGl0aWVzQnlEb21haW4pKSB7XG4gICAgICAgICAgZW50aXRpZXNCeURvbWFpbltkb21haW5dID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZW50aXRpZXNCeURvbWFpbltkb21haW5dLnB1c2goc3RhdGVPYmopO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW50aXRpZXNCeURvbWFpbjtcbiAgICB9XG4gICk7XG5cbiAgcHJpdmF0ZSBfaXNPbihkb21haW46IHN0cmluZywgZGV2aWNlQ2xhc3M/OiBzdHJpbmcpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzQnlEb21haW4oXG4gICAgICB0aGlzLl9jb25maWchLmFyZWEsXG4gICAgICB0aGlzLl9kZXZpY2VzSW5BcmVhKHRoaXMuX2NvbmZpZyEuYXJlYSwgdGhpcy5fZGV2aWNlcyEpLFxuICAgICAgdGhpcy5fZW50aXRpZXMhLFxuICAgICAgdGhpcy5oYXNzLnN0YXRlc1xuICAgIClbZG9tYWluXTtcbiAgICBpZiAoIWVudGl0aWVzKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZGV2aWNlQ2xhc3NcbiAgICAgICAgPyBlbnRpdGllcy5maWx0ZXIoXG4gICAgICAgICAgICAoZW50aXR5KSA9PiBlbnRpdHkuYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09IGRldmljZUNsYXNzXG4gICAgICAgICAgKVxuICAgICAgICA6IGVudGl0aWVzXG4gICAgKS5zb21lKFxuICAgICAgKGVudGl0eSkgPT5cbiAgICAgICAgIWlzVW5hdmFpbGFibGVTdGF0ZShlbnRpdHkuc3RhdGUpICYmICFTVEFURVNfT0ZGLmluY2x1ZGVzKGVudGl0eS5zdGF0ZSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfYXZlcmFnZShkb21haW46IHN0cmluZywgZGV2aWNlQ2xhc3M/OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5fZW50aXRpZXNCeURvbWFpbihcbiAgICAgIHRoaXMuX2NvbmZpZyEuYXJlYSxcbiAgICAgIHRoaXMuX2RldmljZXNJbkFyZWEodGhpcy5fY29uZmlnIS5hcmVhLCB0aGlzLl9kZXZpY2VzISksXG4gICAgICB0aGlzLl9lbnRpdGllcyEsXG4gICAgICB0aGlzLmhhc3Muc3RhdGVzXG4gICAgKVtkb21haW5dLmZpbHRlcigoZW50aXR5KSA9PlxuICAgICAgZGV2aWNlQ2xhc3MgPyBlbnRpdHkuYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09IGRldmljZUNsYXNzIDogdHJ1ZVxuICAgICk7XG4gICAgaWYgKCFlbnRpdGllcykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IHVvbTtcbiAgICBjb25zdCB2YWx1ZXMgPSBlbnRpdGllcy5maWx0ZXIoKGVudGl0eSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICAhZW50aXR5LmF0dHJpYnV0ZXMudW5pdF9vZl9tZWFzdXJlbWVudCB8fFxuICAgICAgICBpc05hTihOdW1iZXIoZW50aXR5LnN0YXRlKSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXVvbSkge1xuICAgICAgICB1b20gPSBlbnRpdHkuYXR0cmlidXRlcy51bml0X29mX21lYXN1cmVtZW50O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnRpdHkuYXR0cmlidXRlcy51bml0X29mX21lYXN1cmVtZW50ID09PSB1b207XG4gICAgfSk7XG4gICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBzdW0gPSB2YWx1ZXMucmVkdWNlKFxuICAgICAgKHRvdGFsLCBlbnRpdHkpID0+IHRvdGFsICsgTnVtYmVyKGVudGl0eS5zdGF0ZSksXG4gICAgICAwXG4gICAgKTtcbiAgICByZXR1cm4gYCR7Zm9ybWF0TnVtYmVyKHN1bSAvIHZhbHVlcy5sZW5ndGgsIHRoaXMuaGFzcyEubG9jYWxlLCB7XG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEsXG4gICAgfSl9ICR7dW9tfWA7XG4gIH1cblxuICBwcml2YXRlIF9hcmVhID0gbWVtb2l6ZU9uZShcbiAgICAoYXJlYUlkOiBzdHJpbmcgfCB1bmRlZmluZWQsIGFyZWFzOiBBcmVhUmVnaXN0cnlFbnRyeVtdKSA9PlxuICAgICAgYXJlYXMuZmluZCgoYXJlYSkgPT4gYXJlYS5hcmVhX2lkID09PSBhcmVhSWQpIHx8IG51bGxcbiAgKTtcblxuICBwcml2YXRlIF9kZXZpY2VzSW5BcmVhID0gbWVtb2l6ZU9uZShcbiAgICAoYXJlYUlkOiBzdHJpbmcgfCB1bmRlZmluZWQsIGRldmljZXM6IERldmljZVJlZ2lzdHJ5RW50cnlbXSkgPT5cbiAgICAgIG5ldyBTZXQoXG4gICAgICAgIGFyZWFJZFxuICAgICAgICAgID8gZGV2aWNlc1xuICAgICAgICAgICAgICAuZmlsdGVyKChkZXZpY2UpID0+IGRldmljZS5hcmVhX2lkID09PSBhcmVhSWQpXG4gICAgICAgICAgICAgIC5tYXAoKGRldmljZSkgPT4gZGV2aWNlLmlkKVxuICAgICAgICAgIDogW11cbiAgICAgIClcbiAgKTtcblxuICBwdWJsaWMgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHN1YnNjcmliZUFyZWFSZWdpc3RyeSh0aGlzLmhhc3MhLmNvbm5lY3Rpb24sIChhcmVhcykgPT4ge1xuICAgICAgICB0aGlzLl9hcmVhcyA9IGFyZWFzO1xuICAgICAgfSksXG4gICAgICBzdWJzY3JpYmVEZXZpY2VSZWdpc3RyeSh0aGlzLmhhc3MhLmNvbm5lY3Rpb24sIChkZXZpY2VzKSA9PiB7XG4gICAgICAgIHRoaXMuX2RldmljZXMgPSBkZXZpY2VzO1xuICAgICAgfSksXG4gICAgICBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeSh0aGlzLmhhc3MhLmNvbm5lY3Rpb24sIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzID0gZW50cmllcztcbiAgICAgIH0pLFxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2FyZFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIHB1YmxpYyBzZXRDb25maWcoY29uZmlnOiBBcmVhQ2FyZENvbmZpZyk6IHZvaWQge1xuICAgIGlmICghY29uZmlnLmFyZWEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFyZWEgUmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJfY29uZmlnXCIpIHx8ICF0aGlzLl9jb25maWcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJfZGV2aWNlc0luQXJlYVwiKSB8fFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcIl9hcmVhc1wiKSB8fFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcIl9lbnRpdGllc1wiKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG9sZEhhc3MgPSBjaGFuZ2VkUHJvcHMuZ2V0KFwiaGFzc1wiKSBhcyBIb21lQXNzaXN0YW50IHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKFxuICAgICAgIW9sZEhhc3MgfHxcbiAgICAgIG9sZEhhc3MudGhlbWVzICE9PSB0aGlzLmhhc3MhLnRoZW1lcyB8fFxuICAgICAgb2xkSGFzcy5sb2NhbGUgIT09IHRoaXMuaGFzcyEubG9jYWxlXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5fZGV2aWNlcyB8fFxuICAgICAgIXRoaXMuX2RldmljZXNJbkFyZWEodGhpcy5fY29uZmlnLmFyZWEsIHRoaXMuX2RldmljZXMpIHx8XG4gICAgICAhdGhpcy5fZW50aXRpZXNcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzQnlEb21haW4oXG4gICAgICB0aGlzLl9jb25maWcuYXJlYSxcbiAgICAgIHRoaXMuX2RldmljZXNJbkFyZWEodGhpcy5fY29uZmlnLmFyZWEsIHRoaXMuX2RldmljZXMpLFxuICAgICAgdGhpcy5fZW50aXRpZXMsXG4gICAgICB0aGlzLmhhc3Muc3RhdGVzXG4gICAgKTtcblxuICAgIGZvciAoY29uc3QgZG9tYWluRW50aXRpZXMgb2YgT2JqZWN0LnZhbHVlcyhlbnRpdGllcykpIHtcbiAgICAgIGZvciAoY29uc3Qgc3RhdGVPYmogb2YgZG9tYWluRW50aXRpZXMpIHtcbiAgICAgICAgaWYgKG9sZEhhc3MhLnN0YXRlc1tzdGF0ZU9iai5lbnRpdHlfaWRdICE9PSBzdGF0ZU9iaikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5fY29uZmlnIHx8XG4gICAgICAhdGhpcy5oYXNzIHx8XG4gICAgICAhdGhpcy5fYXJlYXMgfHxcbiAgICAgICF0aGlzLl9kZXZpY2VzIHx8XG4gICAgICAhdGhpcy5fZW50aXRpZXNcbiAgICApIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cblxuICAgIGNvbnN0IGVudGl0aWVzQnlEb21haW4gPSB0aGlzLl9lbnRpdGllc0J5RG9tYWluKFxuICAgICAgdGhpcy5fY29uZmlnLmFyZWEsXG4gICAgICB0aGlzLl9kZXZpY2VzSW5BcmVhKHRoaXMuX2NvbmZpZy5hcmVhLCB0aGlzLl9kZXZpY2VzKSxcbiAgICAgIHRoaXMuX2VudGl0aWVzLFxuICAgICAgdGhpcy5oYXNzLnN0YXRlc1xuICAgICk7XG4gICAgY29uc3QgYXJlYSA9IHRoaXMuX2FyZWEodGhpcy5fY29uZmlnLmFyZWEsIHRoaXMuX2FyZWFzKTtcblxuICAgIGlmIChhcmVhID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGh1aS13YXJuaW5nPlxuICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5hcmVhLmFyZWFfbm90X2ZvdW5kXCIpfVxuICAgICAgICA8L2h1aS13YXJuaW5nPlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBjb25zdCBzZW5zb3JzOiBUZW1wbGF0ZVJlc3VsdFtdID0gW107XG4gICAgU0VOU09SX0RPTUFJTlMuZm9yRWFjaCgoZG9tYWluKSA9PiB7XG4gICAgICBpZiAoIShkb21haW4gaW4gZW50aXRpZXNCeURvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgREVWSUNFX0NMQVNTRVNbZG9tYWluXS5mb3JFYWNoKChkZXZpY2VDbGFzcykgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZW50aXRpZXNCeURvbWFpbltkb21haW5dLnNvbWUoXG4gICAgICAgICAgICAoZW50aXR5KSA9PiBlbnRpdHkuYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09IGRldmljZUNsYXNzXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZW5zb3JzLnB1c2goaHRtbGBcbiAgICAgICAgICAgICR7RE9NQUlOX0lDT05TW2RvbWFpbl1bZGV2aWNlQ2xhc3NdXG4gICAgICAgICAgICAgID8gaHRtbGA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgIC5wYXRoPSR7RE9NQUlOX0lDT05TW2RvbWFpbl1bZGV2aWNlQ2xhc3NdfVxuICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPmBcbiAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgJHt0aGlzLl9hdmVyYWdlKGRvbWFpbiwgZGV2aWNlQ2xhc3MpfVxuICAgICAgICAgIGApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGxldCBjYW1lcmFFbnRpdHlJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLl9jb25maWcuc2hvd19jYW1lcmEgJiYgXCJjYW1lcmFcIiBpbiBlbnRpdGllc0J5RG9tYWluKSB7XG4gICAgICBjYW1lcmFFbnRpdHlJZCA9IGVudGl0aWVzQnlEb21haW4uY2FtZXJhWzBdLmVudGl0eV9pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkIGNsYXNzPSR7YXJlYS5waWN0dXJlIHx8IGNhbWVyYUVudGl0eUlkID8gXCJpbWFnZVwiIDogXCJcIn0+XG4gICAgICAgICR7YXJlYS5waWN0dXJlIHx8IGNhbWVyYUVudGl0eUlkXG4gICAgICAgICAgPyBodG1sYDxodWktaW1hZ2VcbiAgICAgICAgICAgICAgLmNvbmZpZz0ke3RoaXMuX2NvbmZpZ31cbiAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgIC5pbWFnZT0ke2FyZWEucGljdHVyZSA/IGFyZWEucGljdHVyZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgLmNhbWVyYUltYWdlPSR7Y2FtZXJhRW50aXR5SWR9XG4gICAgICAgICAgICAgIGFzcGVjdFJhdGlvPVwiMTY6OVwiXG4gICAgICAgICAgICA+PC9odWktaW1hZ2U+YFxuICAgICAgICAgIDogXCJcIn1cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJjb250YWluZXIgJHtjbGFzc01hcCh7XG4gICAgICAgICAgICBuYXZpZ2F0ZTogdGhpcy5fY29uZmlnLm5hdmlnYXRpb25fcGF0aCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgIH0pfVwiXG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5faGFuZGxlTmF2aWdhdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydHNcIj5cbiAgICAgICAgICAgICR7QUxFUlRfRE9NQUlOUy5tYXAoKGRvbWFpbikgPT4ge1xuICAgICAgICAgICAgICBpZiAoIShkb21haW4gaW4gZW50aXRpZXNCeURvbWFpbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gREVWSUNFX0NMQVNTRVNbZG9tYWluXS5tYXAoKGRldmljZUNsYXNzKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuX2lzT24oZG9tYWluLCBkZXZpY2VDbGFzcylcbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAke0RPTUFJTl9JQ09OU1tkb21haW5dW2RldmljZUNsYXNzXVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7RE9NQUlOX0lDT05TW2RvbWFpbl1bZGV2aWNlQ2xhc3NdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvdHRvbVwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5hbWVcIj4ke2FyZWEubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgJHtzZW5zb3JzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwic2Vuc29yc1wiPiR7c2Vuc29yc308L2Rpdj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uc1wiPlxuICAgICAgICAgICAgICAke1RPR0dMRV9ET01BSU5TLm1hcCgoZG9tYWluKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZG9tYWluIGluIGVudGl0aWVzQnlEb21haW4pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvbiA9IHRoaXMuX2lzT24oZG9tYWluKSE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRPR0dMRV9ET01BSU5TLmluY2x1ZGVzKGRvbWFpbilcbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSR7b24gPyBcIm9uXCIgOiBcIm9mZlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHtET01BSU5fSUNPTlNbZG9tYWluXVtvbiA/IFwib25cIiA6IFwib2ZmXCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRvbWFpbj0ke2RvbWFpbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3RvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGEtY2FyZD5cbiAgICBgO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZyB8fCAhdGhpcy5oYXNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZEhhc3MgPSBjaGFuZ2VkUHJvcHMuZ2V0KFwiaGFzc1wiKSBhcyBIb21lQXNzaXN0YW50IHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IG9sZENvbmZpZyA9IGNoYW5nZWRQcm9wcy5nZXQoXCJfY29uZmlnXCIpIGFzIEFyZWFDYXJkQ29uZmlnIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKFxuICAgICAgKGNoYW5nZWRQcm9wcy5oYXMoXCJoYXNzXCIpICYmXG4gICAgICAgICghb2xkSGFzcyB8fCBvbGRIYXNzLnRoZW1lcyAhPT0gdGhpcy5oYXNzLnRoZW1lcykpIHx8XG4gICAgICAoY2hhbmdlZFByb3BzLmhhcyhcIl9jb25maWdcIikgJiZcbiAgICAgICAgKCFvbGRDb25maWcgfHwgb2xkQ29uZmlnLnRoZW1lICE9PSB0aGlzLl9jb25maWcudGhlbWUpKVxuICAgICkge1xuICAgICAgYXBwbHlUaGVtZXNPbkVsZW1lbnQodGhpcywgdGhpcy5oYXNzLnRoZW1lcywgdGhpcy5fY29uZmlnLnRoZW1lKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVOYXZpZ2F0aW9uKCkge1xuICAgIGlmICh0aGlzLl9jb25maWchLm5hdmlnYXRpb25fcGF0aCkge1xuICAgICAgbmF2aWdhdGUodGhpcy5fY29uZmlnIS5uYXZpZ2F0aW9uX3BhdGgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3RvZ2dsZShldjogRXZlbnQpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBkb21haW4gPSAoZXYuY3VycmVudFRhcmdldCBhcyBhbnkpLmRvbWFpbiBhcyBzdHJpbmc7XG4gICAgaWYgKFRPR0dMRV9ET01BSU5TLmluY2x1ZGVzKGRvbWFpbikpIHtcbiAgICAgIHRoaXMuaGFzcy5jYWxsU2VydmljZShcbiAgICAgICAgZG9tYWluLFxuICAgICAgICB0aGlzLl9pc09uKGRvbWFpbikgPyBcInR1cm5fb2ZmXCIgOiBcInR1cm5fb25cIixcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7XG4gICAgICAgICAgYXJlYV9pZDogdGhpcy5fY29uZmlnIS5hcmVhLFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBmb3J3YXJkSGFwdGljKFwibGlnaHRcIik7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA1Ni4yNSU7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICB9XG5cbiAgICAgIGhhLWNhcmQuaW1hZ2Uge1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAwLFxuICAgICAgICAgIHJnYmEoMzMsIDMzLCAzMywgMC45KSAwJSxcbiAgICAgICAgICByZ2JhKDMzLCAzMywgMzMsIDApIDQ1JVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBoYS1jYXJkOm5vdCguaW1hZ2UpIC5jb250YWluZXI6OmJlZm9yZSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2lkZWJhci1zZWxlY3RlZC1pY29uLWNvbG9yKTtcbiAgICAgICAgb3BhY2l0eTogMC4xMjtcbiAgICAgIH1cblxuICAgICAgLnNlbnNvcnMge1xuICAgICAgICBjb2xvcjogI2UzZTNlMztcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDI0cHg7XG4gICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgfVxuXG4gICAgICAuYWxlcnRzIHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cblxuICAgICAgLmFsZXJ0cyBoYS1zdmctaWNvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudC1jb2xvciwgdmFyKC0tdGV4dC1wcmltYXJ5LWNvbG9yKSk7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgfVxuXG4gICAgICAubmFtZSB7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgfVxuXG4gICAgICAuYm90dG9tIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAubmF2aWdhdGUge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG5cbiAgICAgIGhhLWljb24tYnV0dG9uIHtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hcmVhLWJ1dHRvbi1jb2xvciwgIzcyNzI3MmIyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xuICAgICAgICAtLW1kYy1pY29uLWJ1dHRvbi1zaXplOiA0NHB4O1xuICAgICAgfVxuICAgICAgLm9uIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXN0YXRlLWxpZ2h0LWFjdGl2ZS1jb2xvcik7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLWFyZWEtY2FyZFwiOiBIdWlBcmVhQ2FyZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/hui-area-card.ts\n");

/***/ })

}]);