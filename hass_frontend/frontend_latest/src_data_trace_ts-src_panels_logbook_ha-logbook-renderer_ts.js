"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_data_trace_ts-src_panels_logbook_ha-logbook-renderer_ts"],{

/***/ "./src/common/string/starts-with.ts":
/*!******************************************!*\
  !*** ./src/common/string/starts-with.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   strStartsWith: () => (/* binding */ strStartsWith)\n/* harmony export */ });\nconst strStartsWith = (value, search) => value.substring(0, search.length) === search;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3N0cmluZy9zdGFydHMtd2l0aC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vc3RyaW5nL3N0YXJ0cy13aXRoLnRzP2FjMDgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN0clN0YXJ0c1dpdGggPSAodmFsdWU6IHN0cmluZywgc2VhcmNoOiBzdHJpbmcpID0+XG4gIHZhbHVlLnN1YnN0cmluZygwLCBzZWFyY2gubGVuZ3RoKSA9PT0gc2VhcmNoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/string/starts-with.ts\n");

/***/ }),

/***/ "./src/components/chart/timeline-chart/timeline-color.ts":
/*!***************************************************************!*\
  !*** ./src/components/chart/timeline-chart/timeline-color.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeTimelineColor: () => (/* binding */ computeTimelineColor)\n/* harmony export */ });\n/* harmony import */ var _common_color_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/color/colors */ \"./src/common/color/colors.ts\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_state_color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/entity/state_color */ \"./src/common/entity/state_color.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _resources_css_variables__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../resources/css-variables */ \"./src/resources/css-variables.ts\");\n\n\n\n\n\n\n\nconst DOMAIN_STATE_SHADES = {\n  media_player: {\n    paused: 0.5,\n    idle: 1\n  },\n  vacuum: {\n    returning: 0.5\n  }\n};\nfunction computeTimelineStateColor(state, computedStyles, stateObj) {\n  var _DOMAIN_STATE_SHADES$;\n  if (!stateObj || state === _data_entity__WEBPACK_IMPORTED_MODULE_5__.UNAVAILABLE) {\n    return (0,_resources_css_variables__WEBPACK_IMPORTED_MODULE_6__.computeCssValue)(\"--history-unavailable-color\", computedStyles);\n  }\n  if (state === _data_entity__WEBPACK_IMPORTED_MODULE_5__.UNKNOWN) {\n    return (0,_resources_css_variables__WEBPACK_IMPORTED_MODULE_6__.computeCssValue)(\"--history-unknown-color\", computedStyles);\n  }\n  const properties = (0,_common_entity_state_color__WEBPACK_IMPORTED_MODULE_4__.stateColorProperties)(stateObj, state);\n  if (!properties) {\n    return undefined;\n  }\n  const rgb = (0,_resources_css_variables__WEBPACK_IMPORTED_MODULE_6__.computeCssValue)(properties, computedStyles);\n  if (!rgb) return undefined;\n  const domain = (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(stateObj.entity_id);\n  const shade = (_DOMAIN_STATE_SHADES$ = DOMAIN_STATE_SHADES[domain]) === null || _DOMAIN_STATE_SHADES$ === void 0 ? void 0 : _DOMAIN_STATE_SHADES$[state];\n  if (!shade) {\n    return rgb;\n  }\n  return (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_1__.lab2hex)((0,_common_color_lab__WEBPACK_IMPORTED_MODULE_2__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_1__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(rgb)), shade));\n}\nlet colorIndex = 0;\nconst stateColorMap = new Map();\nfunction computeTimeLineGenericColor(state, computedStyles) {\n  if (stateColorMap.has(state)) {\n    return stateColorMap.get(state);\n  }\n  const color = (0,_common_color_colors__WEBPACK_IMPORTED_MODULE_0__.getGraphColorByIndex)(colorIndex, computedStyles);\n  colorIndex++;\n  stateColorMap.set(state, color);\n  return color;\n}\nfunction computeTimelineColor(state, computedStyles, stateObj) {\n  return computeTimelineStateColor(state, computedStyles, stateObj) || computeTimeLineGenericColor(state, computedStyles);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGFydC90aW1lbGluZS1jaGFydC90aW1lbGluZS1jb2xvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFJQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvY2hhcnQvdGltZWxpbmUtY2hhcnQvdGltZWxpbmUtY29sb3IudHM/NzM2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgZ2V0R3JhcGhDb2xvckJ5SW5kZXggfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbG9yL2NvbG9yc1wiO1xuaW1wb3J0IHsgaGV4MnJnYiwgbGFiMmhleCwgcmdiMmxhYiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29sb3IvY29udmVydC1jb2xvclwiO1xuaW1wb3J0IHsgbGFiQnJpZ2h0ZW4gfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbG9yL2xhYlwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5pbXBvcnQgeyBzdGF0ZUNvbG9yUHJvcGVydGllcyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L3N0YXRlX2NvbG9yXCI7XG5pbXBvcnQgeyBVTkFWQUlMQUJMRSwgVU5LTk9XTiB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2VudGl0eVwiO1xuaW1wb3J0IHsgY29tcHV0ZUNzc1ZhbHVlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9jc3MtdmFyaWFibGVzXCI7XG5cbmNvbnN0IERPTUFJTl9TVEFURV9TSEFERVM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIG51bWJlcj4+ID0ge1xuICBtZWRpYV9wbGF5ZXI6IHtcbiAgICBwYXVzZWQ6IDAuNSxcbiAgICBpZGxlOiAxLFxuICB9LFxuICB2YWN1dW06IHtcbiAgICByZXR1cm5pbmc6IDAuNSxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNvbXB1dGVUaW1lbGluZVN0YXRlQ29sb3IoXG4gIHN0YXRlOiBzdHJpbmcsXG4gIGNvbXB1dGVkU3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uLFxuICBzdGF0ZU9iaj86IEhhc3NFbnRpdHlcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmICghc3RhdGVPYmogfHwgc3RhdGUgPT09IFVOQVZBSUxBQkxFKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVDc3NWYWx1ZShcIi0taGlzdG9yeS11bmF2YWlsYWJsZS1jb2xvclwiLCBjb21wdXRlZFN0eWxlcyk7XG4gIH1cblxuICBpZiAoc3RhdGUgPT09IFVOS05PV04pIHtcbiAgICByZXR1cm4gY29tcHV0ZUNzc1ZhbHVlKFwiLS1oaXN0b3J5LXVua25vd24tY29sb3JcIiwgY29tcHV0ZWRTdHlsZXMpO1xuICB9XG5cbiAgY29uc3QgcHJvcGVydGllcyA9IHN0YXRlQ29sb3JQcm9wZXJ0aWVzKHN0YXRlT2JqLCBzdGF0ZSk7XG5cbiAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHJnYiA9IGNvbXB1dGVDc3NWYWx1ZShwcm9wZXJ0aWVzLCBjb21wdXRlZFN0eWxlcyk7XG5cbiAgaWYgKCFyZ2IpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgZG9tYWluID0gY29tcHV0ZURvbWFpbihzdGF0ZU9iai5lbnRpdHlfaWQpO1xuICBjb25zdCBzaGFkZSA9IERPTUFJTl9TVEFURV9TSEFERVNbZG9tYWluXT8uW3N0YXRlXSBhcyBudW1iZXIgfCBudW1iZXI7XG4gIGlmICghc2hhZGUpIHtcbiAgICByZXR1cm4gcmdiO1xuICB9XG4gIHJldHVybiBsYWIyaGV4KGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihyZ2IpKSwgc2hhZGUpKTtcbn1cblxubGV0IGNvbG9ySW5kZXggPSAwO1xuY29uc3Qgc3RhdGVDb2xvck1hcDogTWFwPHN0cmluZywgc3RyaW5nPiA9IG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gY29tcHV0ZVRpbWVMaW5lR2VuZXJpY0NvbG9yKFxuICBzdGF0ZTogc3RyaW5nLFxuICBjb21wdXRlZFN0eWxlczogQ1NTU3R5bGVEZWNsYXJhdGlvblxuKTogc3RyaW5nIHtcbiAgaWYgKHN0YXRlQ29sb3JNYXAuaGFzKHN0YXRlKSkge1xuICAgIHJldHVybiBzdGF0ZUNvbG9yTWFwLmdldChzdGF0ZSkhO1xuICB9XG4gIGNvbnN0IGNvbG9yID0gZ2V0R3JhcGhDb2xvckJ5SW5kZXgoY29sb3JJbmRleCwgY29tcHV0ZWRTdHlsZXMpO1xuICBjb2xvckluZGV4Kys7XG4gIHN0YXRlQ29sb3JNYXAuc2V0KHN0YXRlLCBjb2xvcik7XG4gIHJldHVybiBjb2xvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUaW1lbGluZUNvbG9yKFxuICBzdGF0ZTogc3RyaW5nLFxuICBjb21wdXRlZFN0eWxlczogQ1NTU3R5bGVEZWNsYXJhdGlvbixcbiAgc3RhdGVPYmo/OiBIYXNzRW50aXR5XG4pOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIGNvbXB1dGVUaW1lbGluZVN0YXRlQ29sb3Ioc3RhdGUsIGNvbXB1dGVkU3R5bGVzLCBzdGF0ZU9iaikgfHxcbiAgICBjb21wdXRlVGltZUxpbmVHZW5lcmljQ29sb3Ioc3RhdGUsIGNvbXB1dGVkU3R5bGVzKVxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/chart/timeline-chart/timeline-color.ts\n");

/***/ }),

/***/ "./src/components/ha-icon-next.ts":
/*!****************************************!*\
  !*** ./src/components/ha-icon-next.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaIconNext: () => (/* binding */ HaIconNext)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _ha_svg_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n\n\n\nconst mdiChevronLeft = \"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\";\nconst mdiChevronRight = \"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\";\n\n\nlet HaIconNext = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-icon-next\")], function (_initialize, _HaSvgIcon) {\n  class HaIconNext extends _HaSvgIcon {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaIconNext,\n    d: [{\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaIconNext.prototype), \"connectedCallback\", this).call(this);\n\n        // wait to check for direction since otherwise direction is wrong even though top level is RTL\n        setTimeout(() => {\n          this.path = window.getComputedStyle(this).direction === \"ltr\" ? mdiChevronRight : mdiChevronLeft;\n        }, 100);\n      }\n    }]\n  };\n}, _ha_svg_icon__WEBPACK_IMPORTED_MODULE_4__.HaSvgIcon);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1pY29uLW5leHQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFBQTtBQUFBO0FBWkE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1pY29uLW5leHQudHM/MTk0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZGlDaGV2cm9uTGVmdCwgbWRpQ2hldnJvblJpZ2h0IH0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IEhhU3ZnSWNvbiB9IGZyb20gXCIuL2hhLXN2Zy1pY29uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtaWNvbi1uZXh0XCIpXG5leHBvcnQgY2xhc3MgSGFJY29uTmV4dCBleHRlbmRzIEhhU3ZnSWNvbiB7XG4gIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuXG4gICAgLy8gd2FpdCB0byBjaGVjayBmb3IgZGlyZWN0aW9uIHNpbmNlIG90aGVyd2lzZSBkaXJlY3Rpb24gaXMgd3JvbmcgZXZlbiB0aG91Z2ggdG9wIGxldmVsIGlzIFJUTFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5wYXRoID1cbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcykuZGlyZWN0aW9uID09PSBcImx0clwiXG4gICAgICAgICAgPyBtZGlDaGV2cm9uUmlnaHRcbiAgICAgICAgICA6IG1kaUNoZXZyb25MZWZ0O1xuICAgIH0sIDEwMCk7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWljb24tbmV4dFwiOiBIYUljb25OZXh0O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-icon-next.ts\n");

/***/ }),

/***/ "./src/data/trace.ts":
/*!***************************!*\
  !*** ./src/data/trace.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataFromPath: () => (/* binding */ getDataFromPath),\n/* harmony export */   getTriggerPathFromTrace: () => (/* binding */ getTriggerPathFromTrace),\n/* harmony export */   isTriggerPath: () => (/* binding */ isTriggerPath),\n/* harmony export */   loadTrace: () => (/* binding */ loadTrace),\n/* harmony export */   loadTraceContexts: () => (/* binding */ loadTraceContexts),\n/* harmony export */   loadTraces: () => (/* binding */ loadTraces)\n/* harmony export */ });\n/* harmony import */ var _common_string_starts_with__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/string/starts-with */ \"./src/common/string/starts-with.ts\");\n\nconst loadTrace = (hass, domain, item_id, run_id) => hass.callWS({\n  type: \"trace/get\",\n  domain,\n  item_id,\n  run_id\n});\nconst loadTraces = (hass, domain, item_id) => hass.callWS({\n  type: \"trace/list\",\n  domain,\n  item_id\n});\nconst loadTraceContexts = (hass, domain, item_id) => hass.callWS({\n  type: \"trace/contexts\",\n  domain,\n  item_id\n});\nconst getDataFromPath = (config, path) => {\n  const parts = path.split(\"/\").reverse();\n  let result = config;\n  while (parts.length) {\n    const raw = parts.pop();\n    const asNumber = Number(raw);\n    if (isNaN(asNumber)) {\n      const tempResult = result[raw];\n      if (!tempResult && raw === \"sequence\") {\n        continue;\n      }\n      result = tempResult;\n      continue;\n    }\n    if (Array.isArray(result)) {\n      result = result[asNumber];\n      continue;\n    }\n    if (asNumber !== 0) {\n      throw new Error(\"If config is not an array, can only return index 0\");\n    }\n  }\n  return result;\n};\n\n// It is 'trigger' if manually triggered by the user via UI\nconst isTriggerPath = path => path === \"trigger\" || (0,_common_string_starts_with__WEBPACK_IMPORTED_MODULE_0__.strStartsWith)(path, \"trigger/\");\nconst getTriggerPathFromTrace = steps => Object.keys(steps).find(path => isTriggerPath(path));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS90cmFjZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUF1SUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS90cmFjZS50cz82ZTQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0clN0YXJ0c1dpdGggfSBmcm9tIFwiLi4vY29tbW9uL3N0cmluZy9zdGFydHMtd2l0aFwiO1xuaW1wb3J0IHsgQ29udGV4dCwgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgQmx1ZXByaW50QXV0b21hdGlvbkNvbmZpZyxcbiAgTWFudWFsQXV0b21hdGlvbkNvbmZpZyxcbn0gZnJvbSBcIi4vYXV0b21hdGlvblwiO1xuaW1wb3J0IHsgQmx1ZXByaW50U2NyaXB0Q29uZmlnLCBTY3JpcHRDb25maWcgfSBmcm9tIFwiLi9zY3JpcHRcIjtcblxuaW50ZXJmYWNlIEJhc2VUcmFjZVN0ZXAge1xuICBwYXRoOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbiAgY2hhbmdlZF92YXJpYWJsZXM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmlnZ2VyVHJhY2VTdGVwIGV4dGVuZHMgQmFzZVRyYWNlU3RlcCB7XG4gIGNoYW5nZWRfdmFyaWFibGVzOiB7XG4gICAgdHJpZ2dlcjoge1xuICAgICAgYWxpYXM/OiBzdHJpbmc7XG4gICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgICAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbiAgICB9O1xuICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZGl0aW9uVHJhY2VTdGVwIGV4dGVuZHMgQmFzZVRyYWNlU3RlcCB7XG4gIHJlc3VsdD86IHsgcmVzdWx0OiBib29sZWFuIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlcnZpY2VBY3Rpb25UcmFjZVN0ZXAgZXh0ZW5kcyBCYXNlVHJhY2VTdGVwIHtcbiAgcmVzdWx0Pzoge1xuICAgIGxpbWl0OiBudW1iZXI7XG4gICAgcnVubmluZ19zY3JpcHQ6IGJvb2xlYW47XG4gICAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgfTtcbiAgY2hpbGRfaWQ/OiB7XG4gICAgZG9tYWluOiBzdHJpbmc7XG4gICAgaXRlbV9pZDogc3RyaW5nO1xuICAgIHJ1bl9pZDogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENob29zZUFjdGlvblRyYWNlU3RlcCBleHRlbmRzIEJhc2VUcmFjZVN0ZXAge1xuICByZXN1bHQ/OiB7IGNob2ljZTogbnVtYmVyIHwgXCJkZWZhdWx0XCIgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJZkFjdGlvblRyYWNlU3RlcCBleHRlbmRzIEJhc2VUcmFjZVN0ZXAge1xuICByZXN1bHQ/OiB7IGNob2ljZTogXCJ0aGVuXCIgfCBcImVsc2VcIiB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BBY3Rpb25UcmFjZVN0ZXAgZXh0ZW5kcyBCYXNlVHJhY2VTdGVwIHtcbiAgcmVzdWx0PzogeyBzdG9wOiBzdHJpbmc7IGVycm9yOiBib29sZWFuIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hvb3NlQ2hvaWNlQWN0aW9uVHJhY2VTdGVwIGV4dGVuZHMgQmFzZVRyYWNlU3RlcCB7XG4gIHJlc3VsdD86IHsgcmVzdWx0OiBib29sZWFuIH07XG59XG5cbmV4cG9ydCB0eXBlIEFjdGlvblRyYWNlU3RlcCA9XG4gIHwgQmFzZVRyYWNlU3RlcFxuICB8IENvbmRpdGlvblRyYWNlU3RlcFxuICB8IENhbGxTZXJ2aWNlQWN0aW9uVHJhY2VTdGVwXG4gIHwgQ2hvb3NlQWN0aW9uVHJhY2VTdGVwXG4gIHwgQ2hvb3NlQ2hvaWNlQWN0aW9uVHJhY2VTdGVwO1xuXG5pbnRlcmZhY2UgQmFzZVRyYWNlIHtcbiAgZG9tYWluOiBzdHJpbmc7XG4gIGl0ZW1faWQ6IHN0cmluZztcbiAgbGFzdF9zdGVwOiBzdHJpbmcgfCBudWxsO1xuICBydW5faWQ6IHN0cmluZztcbiAgc3RhdGU6IFwicnVubmluZ1wiIHwgXCJzdG9wcGVkXCIgfCBcImRlYnVnZ2VkXCI7XG4gIHRpbWVzdGFtcDoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZmluaXNoOiBzdHJpbmcgfCBudWxsO1xuICB9O1xuICBzY3JpcHRfZXhlY3V0aW9uOlxuICAgIHwgLy8gVGhlIHNjcmlwdCB3YXMgbm90IGV4ZWN1dGVkIGJlY2F1c2UgdGhlIGF1dG9tYXRpb24ncyBjb25kaXRpb24gZmFpbGVkXG4gICAgXCJmYWlsZWRfY29uZGl0aW9uc1wiXG4gICAgLy8gVGhlIHNjcmlwdCB3YXMgbm90IGV4ZWN1dGVkIGJlY2F1c2UgdGhlIHJ1biBtb2RlIGlzIHNpbmdsZVxuICAgIHwgXCJmYWlsZWRfc2luZ2xlXCJcbiAgICAvLyBUaGUgc2NyaXB0IHdhcyBub3QgZXhlY3V0ZWQgYmVjYXVzZSBtYXggcGFyYWxsZWwgcnVucyB3b3VsZCBiZSBleGNlZWRlZFxuICAgIHwgXCJmYWlsZWRfbWF4X3J1bnNcIlxuICAgIC8vIEFsbCBzY3JpcHQgc3RlcHMgZmluaXNoZWQ6XG4gICAgfCBcImZpbmlzaGVkXCJcbiAgICAvLyBTY3JpcHQgZXhlY3V0aW9uIHN0b3BwZWQgYnkgdGhlIHNjcmlwdCBpdHNlbGYgYmVjYXVzZSBhIGNvbmRpdGlvbiBmYWlscywgd2FpdF9mb3JfdHJpZ2dlciB0aW1lb3V0cyBldGM6XG4gICAgfCBcImFib3J0ZWRcIlxuICAgIC8vIERldGFpbHMgYWJvdXQgZmFpbGluZyBjb25kaXRpb24sIHRpbWVvdXQgZXRjLiBpcyBpbiB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSB0cmFjZVxuICAgIC8vIFNjcmlwdCBleGVjdXRpb24gc3RvcHMgYmVjYXVzZSBvZiBhbiB1bmV4cGVjdGVkIGV4Y2VwdGlvbjpcbiAgICB8IFwiZXJyb3JcIlxuICAgIC8vIFRoZSBleGNlcHRpb24gaXMgaW4gdGhlIHRyYWNlIGl0c2VsZiBvciBpbiB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSB0cmFjZVxuICAgIC8vIFNjcmlwdCBleGVjdXRpb24gc3RvcHBlZCBieSBhc3luY19zdG9wIGNhbGxlZCBvbiB0aGUgc2NyaXB0IHJ1biBiZWNhdXNlIGhvbWUgYXNzaXN0YW50IGlzIHNodXR0aW5nIGRvd24sIHNjcmlwdCBtb2RlIGlzIFNDUklQVF9NT0RFX1JFU1RBUlQgZXRjOlxuICAgIHwgXCJjYW5jZWxsZWRcIjtcbn1cblxuaW50ZXJmYWNlIEJhc2VUcmFjZUV4dGVuZGVkIHtcbiAgdHJhY2U6IFJlY29yZDxzdHJpbmcsIEFjdGlvblRyYWNlU3RlcFtdPjtcbiAgY29udGV4dDogQ29udGV4dDtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0b21hdGlvblRyYWNlIGV4dGVuZHMgQmFzZVRyYWNlIHtcbiAgZG9tYWluOiBcImF1dG9tYXRpb25cIjtcbiAgdHJpZ2dlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9tYXRpb25UcmFjZUV4dGVuZGVkXG4gIGV4dGVuZHMgQXV0b21hdGlvblRyYWNlLFxuICAgIEJhc2VUcmFjZUV4dGVuZGVkIHtcbiAgY29uZmlnOiBNYW51YWxBdXRvbWF0aW9uQ29uZmlnO1xuICBibHVlcHJpbnRfaW5wdXRzPzogQmx1ZXByaW50QXV0b21hdGlvbkNvbmZpZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY3JpcHRUcmFjZSBleHRlbmRzIEJhc2VUcmFjZSB7XG4gIGRvbWFpbjogXCJzY3JpcHRcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY3JpcHRUcmFjZUV4dGVuZGVkIGV4dGVuZHMgU2NyaXB0VHJhY2UsIEJhc2VUcmFjZUV4dGVuZGVkIHtcbiAgY29uZmlnOiBTY3JpcHRDb25maWc7XG4gIGJsdWVwcmludF9pbnB1dHM/OiBCbHVlcHJpbnRTY3JpcHRDb25maWc7XG59XG5cbmV4cG9ydCB0eXBlIFRyYWNlRXh0ZW5kZWQgPSBBdXRvbWF0aW9uVHJhY2VFeHRlbmRlZCB8IFNjcmlwdFRyYWNlRXh0ZW5kZWQ7XG5cbmludGVyZmFjZSBUcmFjZVR5cGVzIHtcbiAgYXV0b21hdGlvbjoge1xuICAgIHNob3J0OiBBdXRvbWF0aW9uVHJhY2U7XG4gICAgZXh0ZW5kZWQ6IEF1dG9tYXRpb25UcmFjZUV4dGVuZGVkO1xuICB9O1xuICBzY3JpcHQ6IHtcbiAgICBzaG9ydDogU2NyaXB0VHJhY2U7XG4gICAgZXh0ZW5kZWQ6IFNjcmlwdFRyYWNlRXh0ZW5kZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBsb2FkVHJhY2UgPSA8VCBleHRlbmRzIGtleW9mIFRyYWNlVHlwZXM+KFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBkb21haW46IFQsXG4gIGl0ZW1faWQ6IHN0cmluZyxcbiAgcnVuX2lkOiBzdHJpbmdcbik6IFByb21pc2U8VHJhY2VUeXBlc1tUXVtcImV4dGVuZGVkXCJdPiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJ0cmFjZS9nZXRcIixcbiAgICBkb21haW4sXG4gICAgaXRlbV9pZCxcbiAgICBydW5faWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgbG9hZFRyYWNlcyA9IDxUIGV4dGVuZHMga2V5b2YgVHJhY2VUeXBlcz4oXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGRvbWFpbjogVCxcbiAgaXRlbV9pZDogc3RyaW5nXG4pOiBQcm9taXNlPEFycmF5PFRyYWNlVHlwZXNbVF1bXCJzaG9ydFwiXT4+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcInRyYWNlL2xpc3RcIixcbiAgICBkb21haW4sXG4gICAgaXRlbV9pZCxcbiAgfSk7XG5cbmV4cG9ydCB0eXBlIFRyYWNlQ29udGV4dHMgPSBSZWNvcmQ8XG4gIHN0cmluZyxcbiAgeyBydW5faWQ6IHN0cmluZzsgZG9tYWluOiBzdHJpbmc7IGl0ZW1faWQ6IHN0cmluZyB9XG4+O1xuXG5leHBvcnQgY29uc3QgbG9hZFRyYWNlQ29udGV4dHMgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGRvbWFpbj86IHN0cmluZyxcbiAgaXRlbV9pZD86IHN0cmluZ1xuKTogUHJvbWlzZTxUcmFjZUNvbnRleHRzPiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJ0cmFjZS9jb250ZXh0c1wiLFxuICAgIGRvbWFpbixcbiAgICBpdGVtX2lkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGdldERhdGFGcm9tUGF0aCA9IChcbiAgY29uZmlnOiBUcmFjZUV4dGVuZGVkW1wiY29uZmlnXCJdLFxuICBwYXRoOiBzdHJpbmdcbik6IGFueSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi9cIikucmV2ZXJzZSgpO1xuXG4gIGxldCByZXN1bHQ6IGFueSA9IGNvbmZpZztcblxuICB3aGlsZSAocGFydHMubGVuZ3RoKSB7XG4gICAgY29uc3QgcmF3ID0gcGFydHMucG9wKCkhO1xuICAgIGNvbnN0IGFzTnVtYmVyID0gTnVtYmVyKHJhdyk7XG5cbiAgICBpZiAoaXNOYU4oYXNOdW1iZXIpKSB7XG4gICAgICBjb25zdCB0ZW1wUmVzdWx0ID0gcmVzdWx0W3Jhd107XG4gICAgICBpZiAoIXRlbXBSZXN1bHQgJiYgcmF3ID09PSBcInNlcXVlbmNlXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB0ZW1wUmVzdWx0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0W2FzTnVtYmVyXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChhc051bWJlciAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWYgY29uZmlnIGlzIG5vdCBhbiBhcnJheSwgY2FuIG9ubHkgcmV0dXJuIGluZGV4IDBcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIEl0IGlzICd0cmlnZ2VyJyBpZiBtYW51YWxseSB0cmlnZ2VyZWQgYnkgdGhlIHVzZXIgdmlhIFVJXG5leHBvcnQgY29uc3QgaXNUcmlnZ2VyUGF0aCA9IChwYXRoOiBzdHJpbmcpOiBib29sZWFuID0+XG4gIHBhdGggPT09IFwidHJpZ2dlclwiIHx8IHN0clN0YXJ0c1dpdGgocGF0aCwgXCJ0cmlnZ2VyL1wiKTtcblxuZXhwb3J0IGNvbnN0IGdldFRyaWdnZXJQYXRoRnJvbVRyYWNlID0gKFxuICBzdGVwczogUmVjb3JkPHN0cmluZywgQmFzZVRyYWNlU3RlcFtdPlxuKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IE9iamVjdC5rZXlzKHN0ZXBzKS5maW5kKChwYXRoKSA9PiBpc1RyaWdnZXJQYXRoKHBhdGgpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/trace.ts\n");

/***/ }),

/***/ "./src/panels/logbook/ha-logbook-renderer.ts":
/*!***************************************************!*\
  !*** ./src/panels/logbook/ha-logbook-renderer.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_datetime_format_date__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/datetime/format_date */ \"./src/common/datetime/format_date.ts\");\n/* harmony import */ var _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/datetime/format_time */ \"./src/common/datetime/format_time.ts\");\n/* harmony import */ var _common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/decorators/restore-scroll */ \"./src/common/decorators/restore-scroll.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _components_chart_timeline_chart_timeline_color__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/chart/timeline-chart/timeline-color */ \"./src/components/chart/timeline-chart/timeline-color.ts\");\n/* harmony import */ var _components_entity_state_badge__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/entity/state-badge */ \"./src/components/entity/state-badge.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_icon_next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../components/ha-icon-next */ \"./src/components/ha-icon-next.ts\");\n/* harmony import */ var _components_ha_relative_time__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../components/ha-relative-time */ \"./src/components/ha-relative-time.ts\");\n/* harmony import */ var _data_logbook__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../data/logbook */ \"./src/data/logbook.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _resources_virtualizer__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../resources/virtualizer */ \"./src/resources/virtualizer.ts\");\n/* harmony import */ var _util_brands_url__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../util/brands-url */ \"./src/util/brands-url.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_7__, _components_ha_relative_time__WEBPACK_IMPORTED_MODULE_16__, _data_logbook__WEBPACK_IMPORTED_MODULE_17__]);\n([_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_7__, _components_ha_relative_time__WEBPACK_IMPORTED_MODULE_16__, _data_logbook__WEBPACK_IMPORTED_MODULE_17__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst triggerDomains = [\"script\", \"automation\"];\nconst hasContext = item => item.context_event_type || item.context_state || item.context_message;\nconst stripEntityId = (message, entityId) => entityId ? message.replace(entityId, \" \") : message;\nlet HaLogbookRenderer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-logbook-renderer\")], function (_initialize, _LitElement) {\n  class HaLogbookRenderer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaLogbookRenderer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"userIdToName\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"traceContexts\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"entries\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"narrow\"\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"virtualize\",\n        reflect: true\n      })],\n      key: \"virtualize\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"show-indicator\"\n      })],\n      key: \"showIndicator\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"no-icon\"\n      })],\n      key: \"noIcon\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"no-name\"\n      })],\n      key: \"noName\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"relative-time\"\n      })],\n      key: \"relativeTime\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_restore_scroll__WEBPACK_IMPORTED_MODULE_8__.restoreScroll)(\".container\")],\n      key: \"_savedScrollPos\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value:\n      // @ts-ignore\n\n      function willUpdate(changedProps) {\n        if (!this.hasUpdated && this.virtualize || changedProps.has(\"virtualize\") && this.virtualize) {\n          (0,_resources_virtualizer__WEBPACK_IMPORTED_MODULE_19__.loadVirtualizer)();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        const oldHass = changedProps.get(\"hass\");\n        const languageChanged = oldHass === undefined || oldHass.locale !== this.hass.locale;\n        return changedProps.has(\"entries\") || changedProps.has(\"traceContexts\") || languageChanged;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$entries;\n        if (!((_this$entries = this.entries) !== null && _this$entries !== void 0 && _this$entries.length)) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n        <div class=\"container no-entries\">\n          ${this.hass.localize(\"ui.components.logbook.entries_not_found\")}\n        </div>\n      `;\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <div\n        class=\"container ha-scrollbar ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n          narrow: this.narrow,\n          \"no-name\": this.noName,\n          \"no-icon\": this.noIcon\n        })}\"\n        @scroll=${this._saveScrollPos}\n      >\n        ${this.virtualize ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<lit-virtualizer\n              @visibilityChanged=${this._visibilityChanged}\n              scroller\n              class=\"ha-scrollbar\"\n              .items=${this.entries}\n              .renderItem=${this._renderLogbookItem}\n            >\n            </lit-virtualizer>` : this.entries.map((item, index) => this._renderLogbookItem(item, index))}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_renderLogbookItem\",\n      value() {\n        return (item, index) => {\n          var _this$hass$themes;\n          if (!item || index === undefined) {\n            return lit__WEBPACK_IMPORTED_MODULE_1__.nothing;\n          }\n          const previous = this.entries[index - 1];\n          const seenEntityIds = [];\n          const currentStateObj = item.entity_id ? this.hass.states[item.entity_id] : undefined;\n          const historicStateObj = currentStateObj ? (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.createHistoricState)(currentStateObj, item.state) : undefined;\n          const domain = item.entity_id ? (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__.computeDomain)(item.entity_id) :\n          // Domain is there if there is no entity ID.\n          item.domain;\n          const overrideImage = !historicStateObj && !item.icon && !item.state && domain && (0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__.isComponentLoaded)(this.hass, domain) ? (0,_util_brands_url__WEBPACK_IMPORTED_MODULE_20__.brandsUrl)({\n            domain: domain,\n            type: \"icon\",\n            useFallback: true,\n            darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n          }) : undefined;\n          const traceContext = triggerDomains.includes(item.domain) && item.context_id in this.traceContexts ? this.traceContexts[item.context_id] : undefined;\n          const hasTrace = traceContext !== undefined;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <div\n        class=\"entry-container ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            clickable: hasTrace\n          })}\"\n        .traceLink=${traceContext ? `/config/${traceContext.domain}/trace/${traceContext.item_id}?run_id=${traceContext.run_id}` : undefined}\n        @click=${this._handleClick}\n      >\n        ${index === 0 || item !== null && item !== void 0 && item.when && previous !== null && previous !== void 0 && previous.when && new Date(item.when * 1000).toDateString() !== new Date(previous.when * 1000).toDateString() ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n              <h4 class=\"date\">\n                ${(0,_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_6__.formatDate)(new Date(item.when * 1000), this.hass.locale)}\n              </h4>\n            ` : lit__WEBPACK_IMPORTED_MODULE_1__.nothing}\n\n        <div class=\"entry ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            \"no-entity\": !item.entity_id\n          })}\">\n          <div class=\"icon-message\">\n            ${!this.noIcon ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                  <state-badge\n                    .hass=${this.hass}\n                    .overrideIcon=${item.icon}\n                    .overrideImage=${overrideImage}\n                    .stateObj=${item.icon ? undefined : historicStateObj}\n                    .stateColor=${false}\n                  ></state-badge>\n                ` : \"\"}\n            ${this.showIndicator ? this._renderIndicator(item) : \"\"}\n            <div class=\"message-relative_time\">\n              <div class=\"message\">\n                ${!this.noName // Used for more-info panel (single entity case)\n          ? this._renderEntity(item.entity_id, item.name, hasTrace) : \"\"}\n                ${this._renderMessage(item, seenEntityIds, domain, historicStateObj, hasTrace)}\n                ${this._renderContextMessage(item, seenEntityIds, hasTrace)}\n              </div>\n              <div class=\"secondary\">\n                <span\n                  >${(0,_common_datetime_format_time__WEBPACK_IMPORTED_MODULE_7__.formatTimeWithSeconds)(new Date(item.when * 1000), this.hass.locale)}</span\n                >\n                -\n                <ha-relative-time\n                  .hass=${this.hass}\n                  .datetime=${item.when * 1000}\n                  capitalize\n                ></ha-relative-time>\n                ${item.context_user_id ? lit__WEBPACK_IMPORTED_MODULE_1__.html`${this._renderUser(item)}` : \"\"}\n                ${hasTrace ? `- ${this.hass.localize(\"ui.components.logbook.show_trace\")}` : \"\"}\n              </div>\n            </div>\n          </div>\n          ${hasTrace ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<ha-icon-next></ha-icon-next>` : \"\"}\n        </div>\n      </div>\n    `;\n        };\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.eventOptions)({\n        passive: true\n      })],\n      key: \"_saveScrollPos\",\n      value: function _saveScrollPos(e) {\n        this._savedScrollPos = e.target.scrollTop;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.eventOptions)({\n        passive: true\n      })],\n      key: \"_visibilityChanged\",\n      value: function _visibilityChanged(e) {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__.fireEvent)(this, \"hass-logbook-live\", {\n          enable: e.first === 0\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderIndicator\",\n      value: function _renderIndicator(item) {\n        const stateObj = this.hass.states[item.entity_id];\n        const computedStyles = getComputedStyle(this);\n        const color = item.state !== undefined ? (0,_components_chart_timeline_chart_timeline_color__WEBPACK_IMPORTED_MODULE_12__.computeTimelineColor)(item.state, computedStyles, stateObj) : undefined;\n        const style = {\n          backgroundColor: color\n        };\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html` <div class=\"indicator\" style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_4__.styleMap)(style)}></div> `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderMessage\",\n      value: function _renderMessage(item, seenEntityIds, domain, historicStateObj, noLink) {\n        if (item.entity_id) {\n          if (item.state) {\n            return historicStateObj ? (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.localizeStateMessage)(this.hass, this.hass.localize, item.state, historicStateObj, domain) : item.state;\n          }\n        }\n        const itemHasContext = hasContext(item);\n        let message = item.message;\n        if (triggerDomains.includes(domain) && item.source) {\n          if (itemHasContext) {\n            // These domains include the trigger source in the message\n            // but if we have the context we want to display that instead\n            // as otherwise we display duplicate triggers\n            return \"\";\n          }\n          message = (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.localizeTriggerSource)(this.hass.localize, item.source);\n        }\n        return message ? this._formatMessageWithPossibleEntity(itemHasContext ? stripEntityId(message, item.context_entity_id) : message, seenEntityIds, undefined, noLink) : \"\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderUser\",\n      value: function _renderUser(item) {\n        const item_username = item.context_user_id && this.userIdToName[item.context_user_id];\n        if (item_username) {\n          return `- ${item_username}`;\n        }\n        return \"\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderUnseenContextSourceEntity\",\n      value: function _renderUnseenContextSourceEntity(item, seenEntityIds, noLink) {\n        if (!item.context_entity_id || seenEntityIds.includes(item.context_entity_id)) {\n          return \"\";\n        }\n        // We don't know what caused this entity\n        // to be included since its an integration\n        // described event.\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html` (${this._renderEntity(item.context_entity_id, item.context_entity_id_name, noLink)})`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderContextMessage\",\n      value: function _renderContextMessage(item, seenEntityIds, noLink) {\n        // State change\n        if (item.context_state) {\n          const historicStateObj = item.context_entity_id && item.context_entity_id in this.hass.states ? (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.createHistoricState)(this.hass.states[item.context_entity_id], item.context_state) : undefined;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`${this.hass.localize(\"ui.components.logbook.triggered_by_state_of\")}\n      ${this._renderEntity(item.context_entity_id, item.context_entity_id_name, noLink)}\n      ${historicStateObj ? (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.localizeStateMessage)(this.hass, this.hass.localize, item.context_state, historicStateObj, (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__.computeDomain)(item.context_entity_id)) : item.context_state}`;\n        }\n        // Service call\n        if (item.context_event_type === \"call_service\") {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`${this.hass.localize(\"ui.components.logbook.triggered_by_service\")}\n      ${item.context_domain}.${item.context_service}`;\n        }\n        if (!item.context_message || seenEntityIds.includes(item.context_entity_id)) {\n          return \"\";\n        }\n        // Automation or script\n        if (item.context_event_type === \"automation_triggered\" || item.context_event_type === \"script_started\") {\n          // context_source is available in 2022.6 and later\n          const triggerMsg = item.context_source ? item.context_source : item.context_message.replace(\"triggered by \", \"\");\n          const contextTriggerSource = (0,_data_logbook__WEBPACK_IMPORTED_MODULE_17__.localizeTriggerSource)(this.hass.localize, triggerMsg);\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`${this.hass.localize(item.context_event_type === \"automation_triggered\" ? \"ui.components.logbook.triggered_by_automation\" : \"ui.components.logbook.triggered_by_script\")}\n      ${this._renderEntity(item.context_entity_id, item.context_entity_id_name, noLink)}\n      ${item.context_message ? this._formatMessageWithPossibleEntity(contextTriggerSource, seenEntityIds, undefined, noLink) : \"\"}`;\n        }\n        // Generic externally described logbook platform\n        // These are not localizable\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html` ${this.hass.localize(\"ui.components.logbook.triggered_by\")}\n    ${item.context_name}\n    ${this._formatMessageWithPossibleEntity(item.context_message, seenEntityIds, item.context_entity_id, noLink)}\n    ${this._renderUnseenContextSourceEntity(item, seenEntityIds, noLink)}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderEntity\",\n      value: function _renderEntity(entityId, entityName, noLink) {\n        const hasState = entityId && entityId in this.hass.states;\n        const displayName = entityName || (hasState ? this.hass.states[entityId].attributes.friendly_name || entityId : entityId);\n        if (!hasState) {\n          return displayName;\n        }\n        return noLink ? displayName : lit__WEBPACK_IMPORTED_MODULE_1__.html`<button\n          class=\"link\"\n          @click=${this._entityClicked}\n          .entityId=${entityId}\n        >\n          ${displayName}\n        </button>`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_formatMessageWithPossibleEntity\",\n      value: function _formatMessageWithPossibleEntity(message, seenEntities, possibleEntity, noLink) {\n        //\n        // As we are looking at a log(book), we are doing entity_id\n        // \"highlighting\"/\"colorizing\". The goal is to make it easy for\n        // the user to access the entity that caused the event.\n        //\n        // If there is an entity_id in the message that is also in the\n        // state machine, we search the message for the entity_id and\n        // replace it with _renderEntity\n        //\n        if (message.indexOf(\".\") !== -1) {\n          const messageParts = message.split(\" \");\n          for (let i = 0, size = messageParts.length; i < size; i++) {\n            if (messageParts[i] in this.hass.states) {\n              const entityId = messageParts[i];\n              if (seenEntities.includes(entityId)) {\n                return \"\";\n              }\n              seenEntities.push(entityId);\n              const messageEnd = messageParts.splice(i);\n              messageEnd.shift(); // remove the entity\n              return lit__WEBPACK_IMPORTED_MODULE_1__.html`${messageParts.join(\" \")}\n          ${this._renderEntity(entityId, this.hass.states[entityId].attributes.friendly_name, noLink)}\n          ${messageEnd.join(\" \")}`;\n            }\n          }\n        }\n        //\n        // When we have a message has a specific entity_id attached to\n        // it, and the entity_id is not in the message, we look\n        // for the friendly name of the entity and replace that with\n        // _renderEntity if its there so the user can quickly get to\n        // that entity.\n        //\n        if (possibleEntity && possibleEntity in this.hass.states) {\n          const possibleEntityName = this.hass.states[possibleEntity].attributes.friendly_name;\n          if (possibleEntityName && message.endsWith(possibleEntityName)) {\n            if (seenEntities.includes(possibleEntity)) {\n              return \"\";\n            }\n            seenEntities.push(possibleEntity);\n            message = message.substring(0, message.length - possibleEntityName.length);\n            return lit__WEBPACK_IMPORTED_MODULE_1__.html`${message}\n        ${this._renderEntity(possibleEntity, possibleEntityName, noLink)}`;\n          }\n        }\n        return message;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entityClicked\",\n      value: function _entityClicked(ev) {\n        const entityId = ev.currentTarget.entityId;\n        if (!entityId) {\n          return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__.fireEvent)(this, \"hass-more-info\", {\n          entityId: entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleClick\",\n      value: function _handleClick(ev) {\n        if (!ev.currentTarget.traceLink) {\n          return;\n        }\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_11__.navigate)(ev.currentTarget.traceLink);\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__.fireEvent)(this, \"closed\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_18__.haStyle, _resources_styles__WEBPACK_IMPORTED_MODULE_18__.haStyleScrollbar, _resources_styles__WEBPACK_IMPORTED_MODULE_18__.buttonLinkStyle, lit__WEBPACK_IMPORTED_MODULE_1__.css`\n        :host([virtualize]) {\n          display: block;\n          height: 100%;\n        }\n\n        .entry-container {\n          width: 100%;\n        }\n\n        .entry {\n          position: relative;\n          display: flex;\n          width: 100%;\n          line-height: 2em;\n          padding: 8px 16px;\n          box-sizing: border-box;\n          border-top: 1px solid var(--divider-color);\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .indicator {\n          background-color: var(--disabled-color);\n          height: 8px;\n          width: 8px;\n          border-radius: 4px;\n          flex-shrink: 0;\n          margin-right: 12px;\n          margin-inline-start: initial;\n          margin-inline-end: 12px;\n          direction: var(--direction);\n        }\n\n        ha-icon-next {\n          color: var(--secondary-text-color);\n        }\n\n        .clickable {\n          cursor: pointer;\n        }\n\n        :not(.clickable) .entry.no-entity,\n        :not(.clickable) .no-name .entry {\n          cursor: default;\n        }\n\n        .entry:hover {\n          background-color: rgba(var(--rgb-primary-text-color), 0.04);\n        }\n\n        .narrow:not(.no-icon) .time {\n          margin-left: 32px;\n          margin-inline-start: 32px;\n          margin-inline-end: initial;\n          direction: var(--direction);\n        }\n\n        .message-relative_time {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .secondary {\n          font-size: 12px;\n          line-height: 1.7;\n        }\n\n        .secondary a {\n          color: var(--secondary-text-color);\n        }\n\n        .date {\n          margin: 8px 0;\n          padding: 0 16px;\n        }\n\n        .icon-message {\n          display: flex;\n          align-items: center;\n        }\n\n        .no-entries {\n          text-align: center;\n          color: var(--secondary-text-color);\n        }\n\n        state-badge {\n          margin-right: 16px;\n          margin-inline-start: initial;\n          flex-shrink: 0;\n          color: var(--state-icon-color);\n          margin-inline-end: 16px;\n          direction: var(--direction);\n        }\n\n        .message {\n          color: var(--primary-text-color);\n        }\n\n        .no-name .message:first-letter {\n          text-transform: capitalize;\n        }\n\n        a {\n          color: var(--primary-color);\n          text-decoration: none;\n        }\n\n        button.link {\n          color: var(--paper-item-icon-color);\n          text-decoration: none;\n        }\n\n        .container {\n          max-height: var(--logbook-max-height);\n        }\n\n        .container,\n        lit-virtualizer {\n          height: 100%;\n        }\n\n        lit-virtualizer {\n          contain: size layout !important;\n        }\n\n        .narrow .entry {\n          line-height: 1.5;\n        }\n\n        .narrow .icon-message state-badge {\n          margin-left: 0;\n          margin-inline-start: 0;\n          margin-inline-end: 8px;\n          margin-right: 8px;\n          direction: var(--direction);\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvZ2Jvb2svaGEtbG9nYm9vay1yZW5kZXJlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUtBO0FBRUE7QUFRQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF3b0JBO0FBQUE7QUFBQTtBQXhvQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBOztBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFHQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUtBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUlBO0FBS0E7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG9nYm9vay9oYS1sb2dib29rLXJlbmRlcmVyLnRzPzhmNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlzaWJpbGl0eUNoYW5nZWRFdmVudCB9IGZyb20gXCJAbGl0LWxhYnMvdmlydHVhbGl6ZXJcIjtcbmltcG9ydCB0eXBlIHsgSGFzc0VudGl0eSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIG5vdGhpbmcsXG4gIFByb3BlcnR5VmFsdWVzLFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBldmVudE9wdGlvbnMsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXBcIjtcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3N0eWxlLW1hcFwiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfZGF0ZVwiO1xuaW1wb3J0IHsgZm9ybWF0VGltZVdpdGhTZWNvbmRzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfdGltZVwiO1xuaW1wb3J0IHsgcmVzdG9yZVNjcm9sbCB9IGZyb20gXCIuLi8uLi9jb21tb24vZGVjb3JhdG9ycy9yZXN0b3JlLXNjcm9sbFwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5pbXBvcnQgeyBuYXZpZ2F0ZSB9IGZyb20gXCIuLi8uLi9jb21tb24vbmF2aWdhdGVcIjtcbmltcG9ydCB7IGNvbXB1dGVUaW1lbGluZUNvbG9yIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvY2hhcnQvdGltZWxpbmUtY2hhcnQvdGltZWxpbmUtY29sb3JcIjtcbmltcG9ydCBcIi4uLy4uL2NvbXBvbmVudHMvZW50aXR5L3N0YXRlLWJhZGdlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWNpcmN1bGFyLXByb2dyZXNzXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tbmV4dFwiO1xuaW1wb3J0IFwiLi4vLi4vY29tcG9uZW50cy9oYS1yZWxhdGl2ZS10aW1lXCI7XG5pbXBvcnQge1xuICBjcmVhdGVIaXN0b3JpY1N0YXRlLFxuICBsb2NhbGl6ZVN0YXRlTWVzc2FnZSxcbiAgbG9jYWxpemVUcmlnZ2VyU291cmNlLFxuICBMb2dib29rRW50cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2xvZ2Jvb2tcIjtcbmltcG9ydCB7IFRyYWNlQ29udGV4dHMgfSBmcm9tIFwiLi4vLi4vZGF0YS90cmFjZVwiO1xuaW1wb3J0IHtcbiAgYnV0dG9uTGlua1N0eWxlLFxuICBoYVN0eWxlLFxuICBoYVN0eWxlU2Nyb2xsYmFyLFxufSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHsgbG9hZFZpcnR1YWxpemVyIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy92aXJ0dWFsaXplclwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgYnJhbmRzVXJsIH0gZnJvbSBcIi4uLy4uL3V0aWwvYnJhbmRzLXVybFwiO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIQVNTRG9tRXZlbnRzIHtcbiAgICBcImhhc3MtbG9nYm9vay1saXZlXCI6IHsgZW5hYmxlOiBib29sZWFuIH07XG4gIH1cbn1cblxuY29uc3QgdHJpZ2dlckRvbWFpbnMgPSBbXCJzY3JpcHRcIiwgXCJhdXRvbWF0aW9uXCJdO1xuXG5jb25zdCBoYXNDb250ZXh0ID0gKGl0ZW06IExvZ2Jvb2tFbnRyeSkgPT5cbiAgaXRlbS5jb250ZXh0X2V2ZW50X3R5cGUgfHwgaXRlbS5jb250ZXh0X3N0YXRlIHx8IGl0ZW0uY29udGV4dF9tZXNzYWdlO1xuY29uc3Qgc3RyaXBFbnRpdHlJZCA9IChtZXNzYWdlOiBzdHJpbmcsIGVudGl0eUlkPzogc3RyaW5nKSA9PlxuICBlbnRpdHlJZCA/IG1lc3NhZ2UucmVwbGFjZShlbnRpdHlJZCwgXCIgXCIpIDogbWVzc2FnZTtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1sb2dib29rLXJlbmRlcmVyXCIpXG5jbGFzcyBIYUxvZ2Jvb2tSZW5kZXJlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB1c2VySWRUb05hbWUgPSB7fTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pXG4gIHB1YmxpYyB0cmFjZUNvbnRleHRzOiBUcmFjZUNvbnRleHRzID0ge307XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZW50cmllczogTG9nYm9va0VudHJ5W10gPSBbXTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwibmFycm93XCIgfSlcbiAgcHVibGljIG5hcnJvdyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJ2aXJ0dWFsaXplXCIsIHJlZmxlY3Q6IHRydWUgfSlcbiAgcHVibGljIHZpcnR1YWxpemUgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwic2hvdy1pbmRpY2F0b3JcIiB9KVxuICBwdWJsaWMgc2hvd0luZGljYXRvciA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJuby1pY29uXCIgfSlcbiAgcHVibGljIG5vSWNvbiA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJuby1uYW1lXCIgfSlcbiAgcHVibGljIG5vTmFtZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJyZWxhdGl2ZS10aW1lXCIgfSlcbiAgcHVibGljIHJlbGF0aXZlVGltZSA9IGZhbHNlO1xuXG4gIC8vIEB0cy1pZ25vcmVcbiAgQHJlc3RvcmVTY3JvbGwoXCIuY29udGFpbmVyXCIpIHByaXZhdGUgX3NhdmVkU2Nyb2xsUG9zPzogbnVtYmVyO1xuXG4gIHByb3RlY3RlZCB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pIHtcbiAgICBpZiAoXG4gICAgICAoIXRoaXMuaGFzVXBkYXRlZCAmJiB0aGlzLnZpcnR1YWxpemUpIHx8XG4gICAgICAoY2hhbmdlZFByb3BzLmhhcyhcInZpcnR1YWxpemVcIikgJiYgdGhpcy52aXJ0dWFsaXplKVxuICAgICkge1xuICAgICAgbG9hZFZpcnR1YWxpemVyKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzPHRoaXM+KSB7XG4gICAgY29uc3Qgb2xkSGFzcyA9IGNoYW5nZWRQcm9wcy5nZXQoXCJoYXNzXCIpIGFzIEhvbWVBc3Npc3RhbnQgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGFuZ3VhZ2VDaGFuZ2VkID1cbiAgICAgIG9sZEhhc3MgPT09IHVuZGVmaW5lZCB8fCBvbGRIYXNzLmxvY2FsZSAhPT0gdGhpcy5oYXNzLmxvY2FsZTtcblxuICAgIHJldHVybiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiZW50cmllc1wiKSB8fFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcInRyYWNlQ29udGV4dHNcIikgfHxcbiAgICAgIGxhbmd1YWdlQ2hhbmdlZFxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5lbnRyaWVzPy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIG5vLWVudHJpZXNcIj5cbiAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMubG9nYm9vay5lbnRyaWVzX25vdF9mb3VuZFwiKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImNvbnRhaW5lciBoYS1zY3JvbGxiYXIgJHtjbGFzc01hcCh7XG4gICAgICAgICAgbmFycm93OiB0aGlzLm5hcnJvdyxcbiAgICAgICAgICBcIm5vLW5hbWVcIjogdGhpcy5ub05hbWUsXG4gICAgICAgICAgXCJuby1pY29uXCI6IHRoaXMubm9JY29uLFxuICAgICAgICB9KX1cIlxuICAgICAgICBAc2Nyb2xsPSR7dGhpcy5fc2F2ZVNjcm9sbFBvc31cbiAgICAgID5cbiAgICAgICAgJHt0aGlzLnZpcnR1YWxpemVcbiAgICAgICAgICA/IGh0bWxgPGxpdC12aXJ0dWFsaXplclxuICAgICAgICAgICAgICBAdmlzaWJpbGl0eUNoYW5nZWQ9JHt0aGlzLl92aXNpYmlsaXR5Q2hhbmdlZH1cbiAgICAgICAgICAgICAgc2Nyb2xsZXJcbiAgICAgICAgICAgICAgY2xhc3M9XCJoYS1zY3JvbGxiYXJcIlxuICAgICAgICAgICAgICAuaXRlbXM9JHt0aGlzLmVudHJpZXN9XG4gICAgICAgICAgICAgIC5yZW5kZXJJdGVtPSR7dGhpcy5fcmVuZGVyTG9nYm9va0l0ZW19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2xpdC12aXJ0dWFsaXplcj5gXG4gICAgICAgICAgOiB0aGlzLmVudHJpZXMubWFwKChpdGVtLCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyTG9nYm9va0l0ZW0oaXRlbSwgaW5kZXgpXG4gICAgICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckxvZ2Jvb2tJdGVtID0gKGl0ZW06IExvZ2Jvb2tFbnRyeSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICghaXRlbSB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbm90aGluZztcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLmVudHJpZXNbaW5kZXggLSAxXSBhcyBMb2dib29rRW50cnkgfCB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc2VlbkVudGl0eUlkczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGVPYmogPSBpdGVtLmVudGl0eV9pZFxuICAgICAgPyB0aGlzLmhhc3Muc3RhdGVzW2l0ZW0uZW50aXR5X2lkXVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgaGlzdG9yaWNTdGF0ZU9iaiA9IGN1cnJlbnRTdGF0ZU9ialxuICAgICAgPyBjcmVhdGVIaXN0b3JpY1N0YXRlKGN1cnJlbnRTdGF0ZU9iaiwgaXRlbS5zdGF0ZSEpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkb21haW4gPSBpdGVtLmVudGl0eV9pZFxuICAgICAgPyBjb21wdXRlRG9tYWluKGl0ZW0uZW50aXR5X2lkKVxuICAgICAgOiAvLyBEb21haW4gaXMgdGhlcmUgaWYgdGhlcmUgaXMgbm8gZW50aXR5IElELlxuICAgICAgICBpdGVtLmRvbWFpbiE7XG4gICAgY29uc3Qgb3ZlcnJpZGVJbWFnZSA9XG4gICAgICAhaGlzdG9yaWNTdGF0ZU9iaiAmJlxuICAgICAgIWl0ZW0uaWNvbiAmJlxuICAgICAgIWl0ZW0uc3RhdGUgJiZcbiAgICAgIGRvbWFpbiAmJlxuICAgICAgaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzLCBkb21haW4pXG4gICAgICAgID8gYnJhbmRzVXJsKHtcbiAgICAgICAgICAgIGRvbWFpbjogZG9tYWluISxcbiAgICAgICAgICAgIHR5cGU6IFwiaWNvblwiLFxuICAgICAgICAgICAgdXNlRmFsbGJhY2s6IHRydWUsXG4gICAgICAgICAgICBkYXJrT3B0aW1pemVkOiB0aGlzLmhhc3MudGhlbWVzPy5kYXJrTW9kZSxcbiAgICAgICAgICB9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHRyYWNlQ29udGV4dCA9XG4gICAgICB0cmlnZ2VyRG9tYWlucy5pbmNsdWRlcyhpdGVtLmRvbWFpbiEpICYmXG4gICAgICBpdGVtLmNvbnRleHRfaWQhIGluIHRoaXMudHJhY2VDb250ZXh0c1xuICAgICAgICA/IHRoaXMudHJhY2VDb250ZXh0c1tpdGVtLmNvbnRleHRfaWQhXVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGhhc1RyYWNlID0gdHJhY2VDb250ZXh0ICE9PSB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJlbnRyeS1jb250YWluZXIgJHtjbGFzc01hcCh7IGNsaWNrYWJsZTogaGFzVHJhY2UgfSl9XCJcbiAgICAgICAgLnRyYWNlTGluaz0ke3RyYWNlQ29udGV4dFxuICAgICAgICAgID8gYC9jb25maWcvJHt0cmFjZUNvbnRleHQuZG9tYWlufS90cmFjZS8ke3RyYWNlQ29udGV4dC5pdGVtX2lkfT9ydW5faWQ9JHt0cmFjZUNvbnRleHQucnVuX2lkfWBcbiAgICAgICAgICA6IHVuZGVmaW5lZH1cbiAgICAgICAgQGNsaWNrPSR7dGhpcy5faGFuZGxlQ2xpY2t9XG4gICAgICA+XG4gICAgICAgICR7aW5kZXggPT09IDAgfHxcbiAgICAgICAgKGl0ZW0/LndoZW4gJiZcbiAgICAgICAgICBwcmV2aW91cz8ud2hlbiAmJlxuICAgICAgICAgIG5ldyBEYXRlKGl0ZW0ud2hlbiAqIDEwMDApLnRvRGF0ZVN0cmluZygpICE9PVxuICAgICAgICAgICAgbmV3IERhdGUocHJldmlvdXMud2hlbiAqIDEwMDApLnRvRGF0ZVN0cmluZygpKVxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiZGF0ZVwiPlxuICAgICAgICAgICAgICAgICR7Zm9ybWF0RGF0ZShuZXcgRGF0ZShpdGVtLndoZW4gKiAxMDAwKSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgOiBub3RoaW5nfVxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbnRyeSAke2NsYXNzTWFwKHsgXCJuby1lbnRpdHlcIjogIWl0ZW0uZW50aXR5X2lkIH0pfVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICR7IXRoaXMubm9JY29uXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxzdGF0ZS1iYWRnZVxuICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgLm92ZXJyaWRlSWNvbj0ke2l0ZW0uaWNvbn1cbiAgICAgICAgICAgICAgICAgICAgLm92ZXJyaWRlSW1hZ2U9JHtvdmVycmlkZUltYWdlfVxuICAgICAgICAgICAgICAgICAgICAuc3RhdGVPYmo9JHtpdGVtLmljb24gPyB1bmRlZmluZWQgOiBoaXN0b3JpY1N0YXRlT2JqfVxuICAgICAgICAgICAgICAgICAgICAuc3RhdGVDb2xvcj0ke2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgPjwvc3RhdGUtYmFkZ2U+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAke3RoaXMuc2hvd0luZGljYXRvciA/IHRoaXMuX3JlbmRlckluZGljYXRvcihpdGVtKSA6IFwiXCJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVzc2FnZS1yZWxhdGl2ZV90aW1lXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgJHshdGhpcy5ub05hbWUgLy8gVXNlZCBmb3IgbW9yZS1pbmZvIHBhbmVsIChzaW5nbGUgZW50aXR5IGNhc2UpXG4gICAgICAgICAgICAgICAgICA/IHRoaXMuX3JlbmRlckVudGl0eShpdGVtLmVudGl0eV9pZCwgaXRlbS5uYW1lLCBoYXNUcmFjZSlcbiAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAke3RoaXMuX3JlbmRlck1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgc2VlbkVudGl0eUlkcyxcbiAgICAgICAgICAgICAgICAgIGRvbWFpbixcbiAgICAgICAgICAgICAgICAgIGhpc3RvcmljU3RhdGVPYmosXG4gICAgICAgICAgICAgICAgICBoYXNUcmFjZVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9yZW5kZXJDb250ZXh0TWVzc2FnZShpdGVtLCBzZWVuRW50aXR5SWRzLCBoYXNUcmFjZSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgID4ke2Zvcm1hdFRpbWVXaXRoU2Vjb25kcyhcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoaXRlbS53aGVuICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICAgICAgICAgICAgICl9PC9zcGFuXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIC1cbiAgICAgICAgICAgICAgICA8aGEtcmVsYXRpdmUtdGltZVxuICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAuZGF0ZXRpbWU9JHtpdGVtLndoZW4gKiAxMDAwfVxuICAgICAgICAgICAgICAgICAgY2FwaXRhbGl6ZVxuICAgICAgICAgICAgICAgID48L2hhLXJlbGF0aXZlLXRpbWU+XG4gICAgICAgICAgICAgICAgJHtpdGVtLmNvbnRleHRfdXNlcl9pZCA/IGh0bWxgJHt0aGlzLl9yZW5kZXJVc2VyKGl0ZW0pfWAgOiBcIlwifVxuICAgICAgICAgICAgICAgICR7aGFzVHJhY2VcbiAgICAgICAgICAgICAgICAgID8gYC0gJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLmxvZ2Jvb2suc2hvd190cmFjZVwiXG4gICAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICR7aGFzVHJhY2UgPyBodG1sYDxoYS1pY29uLW5leHQ+PC9oYS1pY29uLW5leHQ+YCA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfTtcblxuICBAZXZlbnRPcHRpb25zKHsgcGFzc2l2ZTogdHJ1ZSB9KVxuICBwcml2YXRlIF9zYXZlU2Nyb2xsUG9zKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5fc2F2ZWRTY3JvbGxQb3MgPSAoZS50YXJnZXQgYXMgSFRNTERpdkVsZW1lbnQpLnNjcm9sbFRvcDtcbiAgfVxuXG4gIEBldmVudE9wdGlvbnMoeyBwYXNzaXZlOiB0cnVlIH0pXG4gIHByaXZhdGUgX3Zpc2liaWxpdHlDaGFuZ2VkKGU6IFZpc2liaWxpdHlDaGFuZ2VkRXZlbnQpIHtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLWxvZ2Jvb2stbGl2ZVwiLCB7XG4gICAgICBlbmFibGU6IGUuZmlyc3QgPT09IDAsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJJbmRpY2F0b3IoaXRlbTogTG9nYm9va0VudHJ5KSB7XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmhhc3Muc3RhdGVzW2l0ZW0uZW50aXR5X2lkIV0gYXNcbiAgICAgIHwgSGFzc0VudGl0eVxuICAgICAgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMpO1xuXG4gICAgY29uc3QgY29sb3IgPVxuICAgICAgaXRlbS5zdGF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gY29tcHV0ZVRpbWVsaW5lQ29sb3IoaXRlbS5zdGF0ZSwgY29tcHV0ZWRTdHlsZXMsIHN0YXRlT2JqKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcixcbiAgICB9O1xuXG4gICAgcmV0dXJuIGh0bWxgIDxkaXYgY2xhc3M9XCJpbmRpY2F0b3JcIiBzdHlsZT0ke3N0eWxlTWFwKHN0eWxlKX0+PC9kaXY+IGA7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJNZXNzYWdlKFxuICAgIGl0ZW06IExvZ2Jvb2tFbnRyeSxcbiAgICBzZWVuRW50aXR5SWRzOiBzdHJpbmdbXSxcbiAgICBkb21haW4/OiBzdHJpbmcsXG4gICAgaGlzdG9yaWNTdGF0ZU9iaj86IEhhc3NFbnRpdHksXG4gICAgbm9MaW5rPzogYm9vbGVhblxuICApIHtcbiAgICBpZiAoaXRlbS5lbnRpdHlfaWQpIHtcbiAgICAgIGlmIChpdGVtLnN0YXRlKSB7XG4gICAgICAgIHJldHVybiBoaXN0b3JpY1N0YXRlT2JqXG4gICAgICAgICAgPyBsb2NhbGl6ZVN0YXRlTWVzc2FnZShcbiAgICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxpemUsXG4gICAgICAgICAgICAgIGl0ZW0uc3RhdGUsXG4gICAgICAgICAgICAgIGhpc3RvcmljU3RhdGVPYmosXG4gICAgICAgICAgICAgIGRvbWFpbiFcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGl0ZW0uc3RhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXRlbUhhc0NvbnRleHQgPSBoYXNDb250ZXh0KGl0ZW0pO1xuICAgIGxldCBtZXNzYWdlID0gaXRlbS5tZXNzYWdlO1xuICAgIGlmICh0cmlnZ2VyRG9tYWlucy5pbmNsdWRlcyhkb21haW4hKSAmJiBpdGVtLnNvdXJjZSkge1xuICAgICAgaWYgKGl0ZW1IYXNDb250ZXh0KSB7XG4gICAgICAgIC8vIFRoZXNlIGRvbWFpbnMgaW5jbHVkZSB0aGUgdHJpZ2dlciBzb3VyY2UgaW4gdGhlIG1lc3NhZ2VcbiAgICAgICAgLy8gYnV0IGlmIHdlIGhhdmUgdGhlIGNvbnRleHQgd2Ugd2FudCB0byBkaXNwbGF5IHRoYXQgaW5zdGVhZFxuICAgICAgICAvLyBhcyBvdGhlcndpc2Ugd2UgZGlzcGxheSBkdXBsaWNhdGUgdHJpZ2dlcnNcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgICBtZXNzYWdlID0gbG9jYWxpemVUcmlnZ2VyU291cmNlKHRoaXMuaGFzcy5sb2NhbGl6ZSwgaXRlbS5zb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICAgICAgPyB0aGlzLl9mb3JtYXRNZXNzYWdlV2l0aFBvc3NpYmxlRW50aXR5KFxuICAgICAgICAgIGl0ZW1IYXNDb250ZXh0XG4gICAgICAgICAgICA/IHN0cmlwRW50aXR5SWQobWVzc2FnZSwgaXRlbS5jb250ZXh0X2VudGl0eV9pZClcbiAgICAgICAgICAgIDogbWVzc2FnZSxcbiAgICAgICAgICBzZWVuRW50aXR5SWRzLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBub0xpbmtcbiAgICAgICAgKVxuICAgICAgOiBcIlwiO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyVXNlcihpdGVtOiBMb2dib29rRW50cnkpIHtcbiAgICBjb25zdCBpdGVtX3VzZXJuYW1lID1cbiAgICAgIGl0ZW0uY29udGV4dF91c2VyX2lkICYmIHRoaXMudXNlcklkVG9OYW1lW2l0ZW0uY29udGV4dF91c2VyX2lkXTtcbiAgICBpZiAoaXRlbV91c2VybmFtZSkge1xuICAgICAgcmV0dXJuIGAtICR7aXRlbV91c2VybmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlclVuc2VlbkNvbnRleHRTb3VyY2VFbnRpdHkoXG4gICAgaXRlbTogTG9nYm9va0VudHJ5LFxuICAgIHNlZW5FbnRpdHlJZHM6IHN0cmluZ1tdLFxuICAgIG5vTGluazogYm9vbGVhblxuICApIHtcbiAgICBpZiAoXG4gICAgICAhaXRlbS5jb250ZXh0X2VudGl0eV9pZCB8fFxuICAgICAgc2VlbkVudGl0eUlkcy5pbmNsdWRlcyhpdGVtLmNvbnRleHRfZW50aXR5X2lkISlcbiAgICApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICAvLyBXZSBkb24ndCBrbm93IHdoYXQgY2F1c2VkIHRoaXMgZW50aXR5XG4gICAgLy8gdG8gYmUgaW5jbHVkZWQgc2luY2UgaXRzIGFuIGludGVncmF0aW9uXG4gICAgLy8gZGVzY3JpYmVkIGV2ZW50LlxuICAgIHJldHVybiBodG1sYCAoJHt0aGlzLl9yZW5kZXJFbnRpdHkoXG4gICAgICBpdGVtLmNvbnRleHRfZW50aXR5X2lkLFxuICAgICAgaXRlbS5jb250ZXh0X2VudGl0eV9pZF9uYW1lLFxuICAgICAgbm9MaW5rXG4gICAgKX0pYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckNvbnRleHRNZXNzYWdlKFxuICAgIGl0ZW06IExvZ2Jvb2tFbnRyeSxcbiAgICBzZWVuRW50aXR5SWRzOiBzdHJpbmdbXSxcbiAgICBub0xpbms6IGJvb2xlYW5cbiAgKSB7XG4gICAgLy8gU3RhdGUgY2hhbmdlXG4gICAgaWYgKGl0ZW0uY29udGV4dF9zdGF0ZSkge1xuICAgICAgY29uc3QgaGlzdG9yaWNTdGF0ZU9iaiA9XG4gICAgICAgIGl0ZW0uY29udGV4dF9lbnRpdHlfaWQgJiYgaXRlbS5jb250ZXh0X2VudGl0eV9pZCBpbiB0aGlzLmhhc3Muc3RhdGVzXG4gICAgICAgICAgPyBjcmVhdGVIaXN0b3JpY1N0YXRlKFxuICAgICAgICAgICAgICB0aGlzLmhhc3Muc3RhdGVzW2l0ZW0uY29udGV4dF9lbnRpdHlfaWRdLFxuICAgICAgICAgICAgICBpdGVtLmNvbnRleHRfc3RhdGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBodG1sYCR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLmNvbXBvbmVudHMubG9nYm9vay50cmlnZ2VyZWRfYnlfc3RhdGVfb2ZcIlxuICAgICAgKX1cbiAgICAgICR7dGhpcy5fcmVuZGVyRW50aXR5KFxuICAgICAgICBpdGVtLmNvbnRleHRfZW50aXR5X2lkLFxuICAgICAgICBpdGVtLmNvbnRleHRfZW50aXR5X2lkX25hbWUsXG4gICAgICAgIG5vTGlua1xuICAgICAgKX1cbiAgICAgICR7aGlzdG9yaWNTdGF0ZU9ialxuICAgICAgICA/IGxvY2FsaXplU3RhdGVNZXNzYWdlKFxuICAgICAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsaXplLFxuICAgICAgICAgICAgaXRlbS5jb250ZXh0X3N0YXRlLFxuICAgICAgICAgICAgaGlzdG9yaWNTdGF0ZU9iaixcbiAgICAgICAgICAgIGNvbXB1dGVEb21haW4oaXRlbS5jb250ZXh0X2VudGl0eV9pZCEpXG4gICAgICAgICAgKVxuICAgICAgICA6IGl0ZW0uY29udGV4dF9zdGF0ZX1gO1xuICAgIH1cbiAgICAvLyBTZXJ2aWNlIGNhbGxcbiAgICBpZiAoaXRlbS5jb250ZXh0X2V2ZW50X3R5cGUgPT09IFwiY2FsbF9zZXJ2aWNlXCIpIHtcbiAgICAgIHJldHVybiBodG1sYCR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLmNvbXBvbmVudHMubG9nYm9vay50cmlnZ2VyZWRfYnlfc2VydmljZVwiXG4gICAgICApfVxuICAgICAgJHtpdGVtLmNvbnRleHRfZG9tYWlufS4ke2l0ZW0uY29udGV4dF9zZXJ2aWNlfWA7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFpdGVtLmNvbnRleHRfbWVzc2FnZSB8fFxuICAgICAgc2VlbkVudGl0eUlkcy5pbmNsdWRlcyhpdGVtLmNvbnRleHRfZW50aXR5X2lkISlcbiAgICApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICAvLyBBdXRvbWF0aW9uIG9yIHNjcmlwdFxuICAgIGlmIChcbiAgICAgIGl0ZW0uY29udGV4dF9ldmVudF90eXBlID09PSBcImF1dG9tYXRpb25fdHJpZ2dlcmVkXCIgfHxcbiAgICAgIGl0ZW0uY29udGV4dF9ldmVudF90eXBlID09PSBcInNjcmlwdF9zdGFydGVkXCJcbiAgICApIHtcbiAgICAgIC8vIGNvbnRleHRfc291cmNlIGlzIGF2YWlsYWJsZSBpbiAyMDIyLjYgYW5kIGxhdGVyXG4gICAgICBjb25zdCB0cmlnZ2VyTXNnID0gaXRlbS5jb250ZXh0X3NvdXJjZVxuICAgICAgICA/IGl0ZW0uY29udGV4dF9zb3VyY2VcbiAgICAgICAgOiBpdGVtLmNvbnRleHRfbWVzc2FnZS5yZXBsYWNlKFwidHJpZ2dlcmVkIGJ5IFwiLCBcIlwiKTtcbiAgICAgIGNvbnN0IGNvbnRleHRUcmlnZ2VyU291cmNlID0gbG9jYWxpemVUcmlnZ2VyU291cmNlKFxuICAgICAgICB0aGlzLmhhc3MubG9jYWxpemUsXG4gICAgICAgIHRyaWdnZXJNc2dcbiAgICAgICk7XG4gICAgICByZXR1cm4gaHRtbGAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgaXRlbS5jb250ZXh0X2V2ZW50X3R5cGUgPT09IFwiYXV0b21hdGlvbl90cmlnZ2VyZWRcIlxuICAgICAgICAgID8gXCJ1aS5jb21wb25lbnRzLmxvZ2Jvb2sudHJpZ2dlcmVkX2J5X2F1dG9tYXRpb25cIlxuICAgICAgICAgIDogXCJ1aS5jb21wb25lbnRzLmxvZ2Jvb2sudHJpZ2dlcmVkX2J5X3NjcmlwdFwiXG4gICAgICApfVxuICAgICAgJHt0aGlzLl9yZW5kZXJFbnRpdHkoXG4gICAgICAgIGl0ZW0uY29udGV4dF9lbnRpdHlfaWQsXG4gICAgICAgIGl0ZW0uY29udGV4dF9lbnRpdHlfaWRfbmFtZSxcbiAgICAgICAgbm9MaW5rXG4gICAgICApfVxuICAgICAgJHtpdGVtLmNvbnRleHRfbWVzc2FnZVxuICAgICAgICA/IHRoaXMuX2Zvcm1hdE1lc3NhZ2VXaXRoUG9zc2libGVFbnRpdHkoXG4gICAgICAgICAgICBjb250ZXh0VHJpZ2dlclNvdXJjZSxcbiAgICAgICAgICAgIHNlZW5FbnRpdHlJZHMsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBub0xpbmtcbiAgICAgICAgICApXG4gICAgICAgIDogXCJcIn1gO1xuICAgIH1cbiAgICAvLyBHZW5lcmljIGV4dGVybmFsbHkgZGVzY3JpYmVkIGxvZ2Jvb2sgcGxhdGZvcm1cbiAgICAvLyBUaGVzZSBhcmUgbm90IGxvY2FsaXphYmxlXG4gICAgcmV0dXJuIGh0bWxgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5sb2dib29rLnRyaWdnZXJlZF9ieVwiKX1cbiAgICAke2l0ZW0uY29udGV4dF9uYW1lfVxuICAgICR7dGhpcy5fZm9ybWF0TWVzc2FnZVdpdGhQb3NzaWJsZUVudGl0eShcbiAgICAgIGl0ZW0uY29udGV4dF9tZXNzYWdlLFxuICAgICAgc2VlbkVudGl0eUlkcyxcbiAgICAgIGl0ZW0uY29udGV4dF9lbnRpdHlfaWQsXG4gICAgICBub0xpbmtcbiAgICApfVxuICAgICR7dGhpcy5fcmVuZGVyVW5zZWVuQ29udGV4dFNvdXJjZUVudGl0eShpdGVtLCBzZWVuRW50aXR5SWRzLCBub0xpbmspfWA7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJFbnRpdHkoXG4gICAgZW50aXR5SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBlbnRpdHlOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgbm9MaW5rPzogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCBoYXNTdGF0ZSA9IGVudGl0eUlkICYmIGVudGl0eUlkIGluIHRoaXMuaGFzcy5zdGF0ZXM7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPVxuICAgICAgZW50aXR5TmFtZSB8fFxuICAgICAgKGhhc1N0YXRlXG4gICAgICAgID8gdGhpcy5oYXNzLnN0YXRlc1tlbnRpdHlJZF0uYXR0cmlidXRlcy5mcmllbmRseV9uYW1lIHx8IGVudGl0eUlkXG4gICAgICAgIDogZW50aXR5SWQpO1xuICAgIGlmICghaGFzU3RhdGUpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vTGlua1xuICAgICAgPyBkaXNwbGF5TmFtZVxuICAgICAgOiBodG1sYDxidXR0b25cbiAgICAgICAgICBjbGFzcz1cImxpbmtcIlxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2VudGl0eUNsaWNrZWR9XG4gICAgICAgICAgLmVudGl0eUlkPSR7ZW50aXR5SWR9XG4gICAgICAgID5cbiAgICAgICAgICAke2Rpc3BsYXlOYW1lfVxuICAgICAgICA8L2J1dHRvbj5gO1xuICB9XG5cbiAgcHJpdmF0ZSBfZm9ybWF0TWVzc2FnZVdpdGhQb3NzaWJsZUVudGl0eShcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgc2VlbkVudGl0aWVzOiBzdHJpbmdbXSxcbiAgICBwb3NzaWJsZUVudGl0eT86IHN0cmluZyxcbiAgICBub0xpbms/OiBib29sZWFuXG4gICkge1xuICAgIC8vXG4gICAgLy8gQXMgd2UgYXJlIGxvb2tpbmcgYXQgYSBsb2coYm9vayksIHdlIGFyZSBkb2luZyBlbnRpdHlfaWRcbiAgICAvLyBcImhpZ2hsaWdodGluZ1wiL1wiY29sb3JpemluZ1wiLiBUaGUgZ29hbCBpcyB0byBtYWtlIGl0IGVhc3kgZm9yXG4gICAgLy8gdGhlIHVzZXIgdG8gYWNjZXNzIHRoZSBlbnRpdHkgdGhhdCBjYXVzZWQgdGhlIGV2ZW50LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gZW50aXR5X2lkIGluIHRoZSBtZXNzYWdlIHRoYXQgaXMgYWxzbyBpbiB0aGVcbiAgICAvLyBzdGF0ZSBtYWNoaW5lLCB3ZSBzZWFyY2ggdGhlIG1lc3NhZ2UgZm9yIHRoZSBlbnRpdHlfaWQgYW5kXG4gICAgLy8gcmVwbGFjZSBpdCB3aXRoIF9yZW5kZXJFbnRpdHlcbiAgICAvL1xuICAgIGlmIChtZXNzYWdlLmluZGV4T2YoXCIuXCIpICE9PSAtMSkge1xuICAgICAgY29uc3QgbWVzc2FnZVBhcnRzID0gbWVzc2FnZS5zcGxpdChcIiBcIik7XG4gICAgICBmb3IgKGxldCBpID0gMCwgc2l6ZSA9IG1lc3NhZ2VQYXJ0cy5sZW5ndGg7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VQYXJ0c1tpXSBpbiB0aGlzLmhhc3Muc3RhdGVzKSB7XG4gICAgICAgICAgY29uc3QgZW50aXR5SWQgPSBtZXNzYWdlUGFydHNbaV07XG4gICAgICAgICAgaWYgKHNlZW5FbnRpdGllcy5pbmNsdWRlcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWVuRW50aXRpZXMucHVzaChlbnRpdHlJZCk7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZUVuZCA9IG1lc3NhZ2VQYXJ0cy5zcGxpY2UoaSk7XG4gICAgICAgICAgbWVzc2FnZUVuZC5zaGlmdCgpOyAvLyByZW1vdmUgdGhlIGVudGl0eVxuICAgICAgICAgIHJldHVybiBodG1sYCR7bWVzc2FnZVBhcnRzLmpvaW4oXCIgXCIpfVxuICAgICAgICAgICR7dGhpcy5fcmVuZGVyRW50aXR5KFxuICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICB0aGlzLmhhc3Muc3RhdGVzW2VudGl0eUlkXS5hdHRyaWJ1dGVzLmZyaWVuZGx5X25hbWUsXG4gICAgICAgICAgICBub0xpbmtcbiAgICAgICAgICApfVxuICAgICAgICAgICR7bWVzc2FnZUVuZC5qb2luKFwiIFwiKX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vXG4gICAgLy8gV2hlbiB3ZSBoYXZlIGEgbWVzc2FnZSBoYXMgYSBzcGVjaWZpYyBlbnRpdHlfaWQgYXR0YWNoZWQgdG9cbiAgICAvLyBpdCwgYW5kIHRoZSBlbnRpdHlfaWQgaXMgbm90IGluIHRoZSBtZXNzYWdlLCB3ZSBsb29rXG4gICAgLy8gZm9yIHRoZSBmcmllbmRseSBuYW1lIG9mIHRoZSBlbnRpdHkgYW5kIHJlcGxhY2UgdGhhdCB3aXRoXG4gICAgLy8gX3JlbmRlckVudGl0eSBpZiBpdHMgdGhlcmUgc28gdGhlIHVzZXIgY2FuIHF1aWNrbHkgZ2V0IHRvXG4gICAgLy8gdGhhdCBlbnRpdHkuXG4gICAgLy9cbiAgICBpZiAocG9zc2libGVFbnRpdHkgJiYgcG9zc2libGVFbnRpdHkgaW4gdGhpcy5oYXNzLnN0YXRlcykge1xuICAgICAgY29uc3QgcG9zc2libGVFbnRpdHlOYW1lID1cbiAgICAgICAgdGhpcy5oYXNzLnN0YXRlc1twb3NzaWJsZUVudGl0eV0uYXR0cmlidXRlcy5mcmllbmRseV9uYW1lO1xuICAgICAgaWYgKHBvc3NpYmxlRW50aXR5TmFtZSAmJiBtZXNzYWdlLmVuZHNXaXRoKHBvc3NpYmxlRW50aXR5TmFtZSkpIHtcbiAgICAgICAgaWYgKHNlZW5FbnRpdGllcy5pbmNsdWRlcyhwb3NzaWJsZUVudGl0eSkpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBzZWVuRW50aXRpZXMucHVzaChwb3NzaWJsZUVudGl0eSk7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZyhcbiAgICAgICAgICAwLFxuICAgICAgICAgIG1lc3NhZ2UubGVuZ3RoIC0gcG9zc2libGVFbnRpdHlOYW1lLmxlbmd0aFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gaHRtbGAke21lc3NhZ2V9XG4gICAgICAgICR7dGhpcy5fcmVuZGVyRW50aXR5KHBvc3NpYmxlRW50aXR5LCBwb3NzaWJsZUVudGl0eU5hbWUsIG5vTGluayl9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICBwcml2YXRlIF9lbnRpdHlDbGlja2VkKGV2OiBFdmVudCkge1xuICAgIGNvbnN0IGVudGl0eUlkID0gKGV2LmN1cnJlbnRUYXJnZXQgYXMgYW55KS5lbnRpdHlJZDtcbiAgICBpZiAoIWVudGl0eUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLW1vcmUtaW5mb1wiLCB7XG4gICAgICBlbnRpdHlJZDogZW50aXR5SWQsXG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlQ2xpY2soZXYpIHtcbiAgICBpZiAoIWV2LmN1cnJlbnRUYXJnZXQudHJhY2VMaW5rKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRlKGV2LmN1cnJlbnRUYXJnZXQudHJhY2VMaW5rKTtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJjbG9zZWRcIik7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGUsXG4gICAgICBoYVN0eWxlU2Nyb2xsYmFyLFxuICAgICAgYnV0dG9uTGlua1N0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICA6aG9zdChbdmlydHVhbGl6ZV0pIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICAuZW50cnktY29udGFpbmVyIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lbnRyeSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDJlbTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbmRpY2F0b3Ige1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRpc2FibGVkLWNvbG9yKTtcbiAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XG4gICAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogaW5pdGlhbDtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogMTJweDtcbiAgICAgICAgICBkaXJlY3Rpb246IHZhcigtLWRpcmVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBoYS1pY29uLW5leHQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICAuY2xpY2thYmxlIHtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICA6bm90KC5jbGlja2FibGUpIC5lbnRyeS5uby1lbnRpdHksXG4gICAgICAgIDpub3QoLmNsaWNrYWJsZSkgLm5vLW5hbWUgLmVudHJ5IHtcbiAgICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAuZW50cnk6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tcmdiLXByaW1hcnktdGV4dC1jb2xvciksIDAuMDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLm5hcnJvdzpub3QoLm5vLWljb24pIC50aW1lIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMzJweDtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAzMnB4O1xuICAgICAgICAgIG1hcmdpbi1pbmxpbmUtZW5kOiBpbml0aWFsO1xuICAgICAgICAgIGRpcmVjdGlvbjogdmFyKC0tZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZXNzYWdlLXJlbGF0aXZlX3RpbWUge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zZWNvbmRhcnkge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS43O1xuICAgICAgICB9XG5cbiAgICAgICAgLnNlY29uZGFyeSBhIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLmRhdGUge1xuICAgICAgICAgIG1hcmdpbjogOHB4IDA7XG4gICAgICAgICAgcGFkZGluZzogMCAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmljb24tbWVzc2FnZSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLm5vLWVudHJpZXMge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUtYmFkZ2Uge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiBpbml0aWFsO1xuICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1zdGF0ZS1pY29uLWNvbG9yKTtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogMTZweDtcbiAgICAgICAgICBkaXJlY3Rpb246IHZhcigtLWRpcmVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAubWVzc2FnZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICAubm8tbmFtZSAubWVzc2FnZTpmaXJzdC1sZXR0ZXIge1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgYSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbi5saW5rIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tcGFwZXItaXRlbS1pY29uLWNvbG9yKTtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIH1cblxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtaGVpZ2h0OiB2YXIoLS1sb2dib29rLW1heC1oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbnRhaW5lcixcbiAgICAgICAgbGl0LXZpcnR1YWxpemVyIHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cblxuICAgICAgICBsaXQtdmlydHVhbGl6ZXIge1xuICAgICAgICAgIGNvbnRhaW46IHNpemUgbGF5b3V0ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAubmFycm93IC5lbnRyeSB7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5uYXJyb3cgLmljb24tbWVzc2FnZSBzdGF0ZS1iYWRnZSB7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogMDtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogOHB4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgICAgICAgIGRpcmVjdGlvbjogdmFyKC0tZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1sb2dib29rLXJlbmRlcmVyXCI6IEhhTG9nYm9va1JlbmRlcmVyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/logbook/ha-logbook-renderer.ts\n");

/***/ })

}]);