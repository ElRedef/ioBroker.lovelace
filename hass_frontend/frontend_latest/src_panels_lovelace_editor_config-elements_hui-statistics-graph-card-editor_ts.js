"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_editor_config-elements_hui-statistics-graph-card-editor_ts"],{

/***/ "./src/panels/lovelace/editor/config-elements/hui-statistics-graph-card-editor.ts":
/*!****************************************************************************************!*\
  !*** ./src/panels/lovelace/editor/config-elements/hui-statistics-graph-card-editor.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiStatisticsGraphCardEditor: () => (/* binding */ HuiStatisticsGraphCardEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! superstruct */ \"./node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_util_deep_equal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/util/deep-equal */ \"./src/common/util/deep-equal.ts\");\n/* harmony import */ var _components_chart_statistics_chart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../components/chart/statistics-chart */ \"./src/components/chart/statistics-chart.ts\");\n/* harmony import */ var _components_entity_ha_statistics_picker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/entity/ha-statistics-picker */ \"./src/components/entity/ha-statistics-picker.ts\");\n/* harmony import */ var _components_ha_form_ha_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/ha-form/ha-form */ \"./src/components/ha-form/ha-form.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _common_process_config_entities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/process-config-entities */ \"./src/panels/lovelace/common/process-config-entities.ts\");\n/* harmony import */ var _structs_base_card_struct__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../structs/base-card-struct */ \"./src/panels/lovelace/editor/structs/base-card-struct.ts\");\n/* harmony import */ var _structs_entities_struct__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../structs/entities-struct */ \"./src/panels/lovelace/editor/structs/entities-struct.ts\");\n/* harmony import */ var _cards_hui_statistics_graph_card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../cards/hui-statistics-graph-card */ \"./src/panels/lovelace/cards/hui-statistics-graph-card.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst statTypeStruct = (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"state\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"sum\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"change\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"min\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"max\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"mean\")]);\nconst cardConfigStruct = (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.assign)(_structs_base_card_struct__WEBPACK_IMPORTED_MODULE_11__.baseLovelaceCardConfig, (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.object)({\n  entities: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.array)(_structs_entities_struct__WEBPACK_IMPORTED_MODULE_12__.entitiesConfigStruct),\n  title: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.string)()),\n  days_to_show: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.number)()),\n  period: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"5minute\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"hour\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"day\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"week\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"month\")])),\n  chart_type: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"bar\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.literal)(\"line\")])),\n  stat_types: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_14__.array)(statTypeStruct), statTypeStruct])),\n  unit: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.string)()),\n  hide_legend: (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_14__.boolean)())\n}));\nconst periods = [\"5minute\", \"hour\", \"day\", \"week\", \"month\"];\nconst stat_types = [\"mean\", \"min\", \"max\", \"sum\", \"state\", \"change\"];\nlet HuiStatisticsGraphCardEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hui-statistics-graph-card-editor\")], function (_initialize, _LitElement) {\n  class HuiStatisticsGraphCardEditor extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiStatisticsGraphCardEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_configEntities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_metaDatas\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        (0,superstruct__WEBPACK_IMPORTED_MODULE_14__.assert)(config, cardConfigStruct);\n        this._config = config;\n        this._configEntities = config.entities ? (0,_common_process_config_entities__WEBPACK_IMPORTED_MODULE_10__.processConfigEntities)(config.entities, false).map(cfg => cfg.entity) : [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getStatisticsMetaData\",\n      value() {\n        return async statisticIds => {\n          this._metaDatas = await (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticMetadata)(this.hass, statisticIds || []);\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        if (changedProps.has(\"_configEntities\") && !(0,_common_util_deep_equal__WEBPACK_IMPORTED_MODULE_5__.deepEqual)(this._configEntities, changedProps.get(\"_configEntities\"))) {\n          var _this$_configEntities;\n          this._metaDatas = undefined;\n          if ((_this$_configEntities = this._configEntities) !== null && _this$_configEntities !== void 0 && _this$_configEntities.length) {\n            this._getStatisticsMetaData(this._configEntities);\n          }\n        }\n      }\n    }, {\n      kind: \"field\",\n      key: \"_schema\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_15__[\"default\"])((localize, statisticIds, metaDatas) => {\n          const units = new Set();\n          metaDatas === null || metaDatas === void 0 ? void 0 : metaDatas.forEach(metaData => {\n            const unit = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getDisplayUnit)(this.hass, metaData.statistic_id, metaData);\n            if (unit) {\n              units.add(unit);\n            }\n          });\n          const schema = [{\n            name: \"title\",\n            selector: {\n              text: {}\n            }\n          }, {\n            name: \"\",\n            type: \"grid\",\n            schema: [{\n              name: \"period\",\n              required: true,\n              selector: {\n                select: {\n                  options: periods.map(period => ({\n                    value: period,\n                    label: localize(`ui.panel.lovelace.editor.card.statistics-graph.periods.${period}`),\n                    disabled: period === \"5minute\" && ( // External statistics don't support 5-minute statistics.\n                    statisticIds === null || statisticIds === void 0 ? void 0 : statisticIds.some(statistic_id => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.isExternalStatistic)(statistic_id)))\n                  }))\n                }\n              }\n            }, {\n              name: \"days_to_show\",\n              default: _cards_hui_statistics_graph_card__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_DAYS_TO_SHOW,\n              selector: {\n                number: {\n                  min: 1,\n                  mode: \"box\"\n                }\n              }\n            }, {\n              name: \"stat_types\",\n              required: true,\n              selector: {\n                select: {\n                  multiple: true,\n                  mode: \"list\",\n                  options: stat_types.map(stat_type => ({\n                    value: stat_type,\n                    label: localize(`ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.${stat_type}`),\n                    disabled: !metaDatas || !metaDatas.every(metaData => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.statisticsMetaHasType)(metaData, _components_chart_statistics_chart__WEBPACK_IMPORTED_MODULE_6__.supportedStatTypeMap[stat_type]))\n                  }))\n                }\n              }\n            }, {\n              name: \"chart_type\",\n              required: true,\n              type: \"select\",\n              options: [[\"line\", \"Line\"], [\"bar\", \"Bar\"]]\n            }, {\n              name: \"hide_legend\",\n              required: false,\n              selector: {\n                boolean: {}\n              }\n            }]\n          }];\n          if (units.size > 1) {\n            schema[1].schema.push({\n              name: \"unit\",\n              required: false,\n              selector: {\n                select: {\n                  options: Array.from(units).map(unit => ({\n                    value: unit,\n                    label: unit\n                  }))\n                }\n              }\n            });\n          }\n          return schema;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_metaDatas2, _this$_metaDatas2$, _this$_metaDatas3, _this$_metaDatas3$;\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.nothing;\n        }\n        const schema = this._schema(this.hass.localize, this._configEntities, this._metaDatas);\n        const configured_stat_types = this._config.stat_types ? (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__.ensureArray)(this._config.stat_types) : stat_types.filter(stat_type => {\n          var _this$_metaDatas;\n          return stat_type !== \"change\" && ((_this$_metaDatas = this._metaDatas) === null || _this$_metaDatas === void 0 ? void 0 : _this$_metaDatas.every(metaData => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.statisticsMetaHasType)(metaData, stat_type)));\n        });\n        const data = {\n          chart_type: \"line\",\n          period: \"hour\",\n          ...this._config,\n          stat_types: configured_stat_types\n        };\n        const unitClass = (_this$_metaDatas2 = this._metaDatas) === null || _this$_metaDatas2 === void 0 ? void 0 : (_this$_metaDatas2$ = _this$_metaDatas2[0]) === null || _this$_metaDatas2$ === void 0 ? void 0 : _this$_metaDatas2$.unit_class;\n        const statisticsUnit = unitClass ? undefined : (_this$_metaDatas3 = this._metaDatas) === null || _this$_metaDatas3 === void 0 ? void 0 : (_this$_metaDatas3$ = _this$_metaDatas3[0]) === null || _this$_metaDatas3$ === void 0 ? void 0 : _this$_metaDatas3$.statistics_unit_of_measurement;\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <ha-form\n        .hass=${this.hass}\n        .data=${data}\n        .schema=${schema}\n        .computeLabel=${this._computeLabelCallback}\n        @value-changed=${this._valueChanged}\n      ></ha-form>\n        <ha-statistics-picker\n          allow-custom-entity\n          .hass=${this.hass}\n          .pickStatisticLabel=${this.hass.localize(\"ui.panel.lovelace.editor.card.statistics-graph.pick_statistic\")}\n          .pickedStatisticLabel=${this.hass.localize(\"ui.panel.lovelace.editor.card.statistics-graph.picked_statistic\")}\n          .includeStatisticsUnitOfMeasurement=${statisticsUnit}\n          .includeUnitClass=${unitClass}\n          .ignoreRestrictionsOnFirstStatistic=${true}\n          .value=${this._configEntities}\n          .configValue=${\"entities\"}\n          @value-changed=${this._entitiesChanged}\n        ></ha-statistics-picker>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"config-changed\", {\n          config: ev.detail.value\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entitiesChanged\",\n      value: async function _entitiesChanged(ev) {\n        const newEntityIds = ev.detail.value;\n\n        // Save the EntityConfig objects from being replaced with strings\n        const newEntities = newEntityIds.map(newEnt => {\n          const matchEntity = this._config.entities.find(oldEnt => typeof oldEnt !== \"string\" && oldEnt.entity === newEnt);\n          return matchEntity !== null && matchEntity !== void 0 ? matchEntity : newEnt;\n        });\n        const config = {\n          ...this._config,\n          entities: newEntities\n        };\n        if (newEntityIds !== null && newEntityIds !== void 0 && newEntityIds.some(statistic_id => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.isExternalStatistic)(statistic_id)) && config.period === \"5minute\") {\n          delete config.period;\n        }\n        const metadata = config.stat_types || config.unit ? await (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticMetadata)(this.hass, newEntityIds) : undefined;\n        if (config.stat_types && config.entities.length) {\n          config.stat_types = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_3__.ensureArray)(config.stat_types).filter(stat_type => metadata.every(metaData => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.statisticsMetaHasType)(metaData, stat_type)));\n          if (!config.stat_types.length) {\n            delete config.stat_types;\n          }\n        }\n        if (config.unit && !metadata.some(metaData => (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getDisplayUnit)(this.hass, metaData === null || metaData === void 0 ? void 0 : metaData.statistic_id, metaData) === config.unit)) {\n          delete config.unit;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_4__.fireEvent)(this, \"config-changed\", {\n          config\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabelCallback\",\n      value() {\n        return schema => {\n          switch (schema.name) {\n            case \"chart_type\":\n            case \"stat_types\":\n            case \"period\":\n            case \"unit\":\n            case \"hide_legend\":\n              return this.hass.localize(`ui.panel.lovelace.editor.card.statistics-graph.${schema.name}`);\n            default:\n              return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${schema.name}`);\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n    ha-statistics-picker {\n      width: 100%;\n    }\n  `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9jb25maWctZWxlbWVudHMvaHVpLXN0YXRpc3RpY3MtZ3JhcGgtY2FyZC1lZGl0b3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFTQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFvUkE7QUFBQTtBQUFBO0FBdlJBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFHQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9lZGl0b3IvY29uZmlnLWVsZW1lbnRzL2h1aS1zdGF0aXN0aWNzLWdyYXBoLWNhcmQtZWRpdG9yLnRzPzgwZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSBcIm1lbW9pemUtb25lXCI7XG5pbXBvcnQge1xuICBhcnJheSxcbiAgYXNzZXJ0LFxuICBhc3NpZ24sXG4gIGJvb2xlYW4sXG4gIGxpdGVyYWwsXG4gIG51bWJlcixcbiAgb2JqZWN0LFxuICBvcHRpb25hbCxcbiAgc3RyaW5nLFxuICB1bmlvbixcbn0gZnJvbSBcInN1cGVyc3RydWN0XCI7XG5pbXBvcnQgeyBlbnN1cmVBcnJheSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vYXJyYXkvZW5zdXJlLWFycmF5XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgdHlwZSB7IExvY2FsaXplRnVuYyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdHJhbnNsYXRpb25zL2xvY2FsaXplXCI7XG5pbXBvcnQgeyBkZWVwRXF1YWwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL3V0aWwvZGVlcC1lcXVhbFwiO1xuaW1wb3J0IHsgc3VwcG9ydGVkU3RhdFR5cGVNYXAgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9jaGFydC9zdGF0aXN0aWNzLWNoYXJ0XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2VudGl0eS9oYS1zdGF0aXN0aWNzLXBpY2tlclwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9oYS1mb3JtL2hhLWZvcm1cIjtcbmltcG9ydCB0eXBlIHsgSGFGb3JtU2NoZW1hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtZm9ybS90eXBlc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RGlzcGxheVVuaXQsXG4gIGdldFN0YXRpc3RpY01ldGFkYXRhLFxuICBpc0V4dGVybmFsU3RhdGlzdGljLFxuICBTdGF0aXN0aWNzTWV0YURhdGEsXG4gIHN0YXRpc3RpY3NNZXRhSGFzVHlwZSxcbiAgU3RhdGlzdGljVHlwZSxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvcmVjb3JkZXJcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBTdGF0aXN0aWNzR3JhcGhDYXJkQ29uZmlnIH0gZnJvbSBcIi4uLy4uL2NhcmRzL3R5cGVzXCI7XG5pbXBvcnQgeyBwcm9jZXNzQ29uZmlnRW50aXRpZXMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3Byb2Nlc3MtY29uZmlnLWVudGl0aWVzXCI7XG5pbXBvcnQgdHlwZSB7IExvdmVsYWNlQ2FyZEVkaXRvciB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgYmFzZUxvdmVsYWNlQ2FyZENvbmZpZyB9IGZyb20gXCIuLi9zdHJ1Y3RzL2Jhc2UtY2FyZC1zdHJ1Y3RcIjtcbmltcG9ydCB7IGVudGl0aWVzQ29uZmlnU3RydWN0IH0gZnJvbSBcIi4uL3N0cnVjdHMvZW50aXRpZXMtc3RydWN0XCI7XG5pbXBvcnQgeyBERUZBVUxUX0RBWVNfVE9fU0hPVyB9IGZyb20gXCIuLi8uLi9jYXJkcy9odWktc3RhdGlzdGljcy1ncmFwaC1jYXJkXCI7XG5cbmNvbnN0IHN0YXRUeXBlU3RydWN0ID0gdW5pb24oW1xuICBsaXRlcmFsKFwic3RhdGVcIiksXG4gIGxpdGVyYWwoXCJzdW1cIiksXG4gIGxpdGVyYWwoXCJjaGFuZ2VcIiksXG4gIGxpdGVyYWwoXCJtaW5cIiksXG4gIGxpdGVyYWwoXCJtYXhcIiksXG4gIGxpdGVyYWwoXCJtZWFuXCIpLFxuXSk7XG5cbmNvbnN0IGNhcmRDb25maWdTdHJ1Y3QgPSBhc3NpZ24oXG4gIGJhc2VMb3ZlbGFjZUNhcmRDb25maWcsXG4gIG9iamVjdCh7XG4gICAgZW50aXRpZXM6IGFycmF5KGVudGl0aWVzQ29uZmlnU3RydWN0KSxcbiAgICB0aXRsZTogb3B0aW9uYWwoc3RyaW5nKCkpLFxuICAgIGRheXNfdG9fc2hvdzogb3B0aW9uYWwobnVtYmVyKCkpLFxuICAgIHBlcmlvZDogb3B0aW9uYWwoXG4gICAgICB1bmlvbihbXG4gICAgICAgIGxpdGVyYWwoXCI1bWludXRlXCIpLFxuICAgICAgICBsaXRlcmFsKFwiaG91clwiKSxcbiAgICAgICAgbGl0ZXJhbChcImRheVwiKSxcbiAgICAgICAgbGl0ZXJhbChcIndlZWtcIiksXG4gICAgICAgIGxpdGVyYWwoXCJtb250aFwiKSxcbiAgICAgIF0pXG4gICAgKSxcbiAgICBjaGFydF90eXBlOiBvcHRpb25hbCh1bmlvbihbbGl0ZXJhbChcImJhclwiKSwgbGl0ZXJhbChcImxpbmVcIildKSksXG4gICAgc3RhdF90eXBlczogb3B0aW9uYWwodW5pb24oW2FycmF5KHN0YXRUeXBlU3RydWN0KSwgc3RhdFR5cGVTdHJ1Y3RdKSksXG4gICAgdW5pdDogb3B0aW9uYWwoc3RyaW5nKCkpLFxuICAgIGhpZGVfbGVnZW5kOiBvcHRpb25hbChib29sZWFuKCkpLFxuICB9KVxuKTtcblxuY29uc3QgcGVyaW9kcyA9IFtcIjVtaW51dGVcIiwgXCJob3VyXCIsIFwiZGF5XCIsIFwid2Vla1wiLCBcIm1vbnRoXCJdIGFzIGNvbnN0O1xuY29uc3Qgc3RhdF90eXBlcyA9IFtcbiAgXCJtZWFuXCIsXG4gIFwibWluXCIsXG4gIFwibWF4XCIsXG4gIFwic3VtXCIsXG4gIFwic3RhdGVcIixcbiAgXCJjaGFuZ2VcIixcbl0gYXMgU3RhdGlzdGljVHlwZVtdO1xuXG5AY3VzdG9tRWxlbWVudChcImh1aS1zdGF0aXN0aWNzLWdyYXBoLWNhcmQtZWRpdG9yXCIpXG5leHBvcnQgY2xhc3MgSHVpU3RhdGlzdGljc0dyYXBoQ2FyZEVkaXRvclxuICBleHRlbmRzIExpdEVsZW1lbnRcbiAgaW1wbGVtZW50cyBMb3ZlbGFjZUNhcmRFZGl0b3JcbntcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY29uZmlnPzogU3RhdGlzdGljc0dyYXBoQ2FyZENvbmZpZztcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb25maWdFbnRpdGllcz86IHN0cmluZ1tdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX21ldGFEYXRhcz86IFN0YXRpc3RpY3NNZXRhRGF0YVtdO1xuXG4gIHB1YmxpYyBzZXRDb25maWcoY29uZmlnOiBTdGF0aXN0aWNzR3JhcGhDYXJkQ29uZmlnKTogdm9pZCB7XG4gICAgYXNzZXJ0KGNvbmZpZywgY2FyZENvbmZpZ1N0cnVjdCk7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2NvbmZpZ0VudGl0aWVzID0gY29uZmlnLmVudGl0aWVzXG4gICAgICA/IHByb2Nlc3NDb25maWdFbnRpdGllcyhjb25maWcuZW50aXRpZXMsIGZhbHNlKS5tYXAoKGNmZykgPT4gY2ZnLmVudGl0eSlcbiAgICAgIDogW107XG4gIH1cblxuICBwcml2YXRlIF9nZXRTdGF0aXN0aWNzTWV0YURhdGEgPSBhc3luYyAoc3RhdGlzdGljSWRzPzogc3RyaW5nW10pID0+IHtcbiAgICB0aGlzLl9tZXRhRGF0YXMgPSBhd2FpdCBnZXRTdGF0aXN0aWNNZXRhZGF0YShcbiAgICAgIHRoaXMuaGFzcyEsXG4gICAgICBzdGF0aXN0aWNJZHMgfHwgW11cbiAgICApO1xuICB9O1xuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiX2NvbmZpZ0VudGl0aWVzXCIpICYmXG4gICAgICAhZGVlcEVxdWFsKHRoaXMuX2NvbmZpZ0VudGl0aWVzLCBjaGFuZ2VkUHJvcHMuZ2V0KFwiX2NvbmZpZ0VudGl0aWVzXCIpKVxuICAgICkge1xuICAgICAgdGhpcy5fbWV0YURhdGFzID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRoaXMuX2NvbmZpZ0VudGl0aWVzPy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fZ2V0U3RhdGlzdGljc01ldGFEYXRhKHRoaXMuX2NvbmZpZ0VudGl0aWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zY2hlbWEgPSBtZW1vaXplT25lKFxuICAgIChcbiAgICAgIGxvY2FsaXplOiBMb2NhbGl6ZUZ1bmMsXG4gICAgICBzdGF0aXN0aWNJZHM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkLFxuICAgICAgbWV0YURhdGFzOiBTdGF0aXN0aWNzTWV0YURhdGFbXSB8IHVuZGVmaW5lZFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgdW5pdHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgIG1ldGFEYXRhcz8uZm9yRWFjaCgobWV0YURhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdW5pdCA9IGdldERpc3BsYXlVbml0KFxuICAgICAgICAgIHRoaXMuaGFzcyEsXG4gICAgICAgICAgbWV0YURhdGEuc3RhdGlzdGljX2lkLFxuICAgICAgICAgIG1ldGFEYXRhXG4gICAgICAgICk7XG4gICAgICAgIGlmICh1bml0KSB7XG4gICAgICAgICAgdW5pdHMuYWRkKHVuaXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNjaGVtYTogSGFGb3JtU2NoZW1hW10gPSBbXG4gICAgICAgIHsgbmFtZTogXCJ0aXRsZVwiLCBzZWxlY3RvcjogeyB0ZXh0OiB7fSB9IH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIHR5cGU6IFwiZ3JpZFwiLFxuICAgICAgICAgIHNjaGVtYTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcInBlcmlvZFwiLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHBlcmlvZHMubWFwKChwZXJpb2QpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwZXJpb2QsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBgdWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmNhcmQuc3RhdGlzdGljcy1ncmFwaC5wZXJpb2RzLiR7cGVyaW9kfWBcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgcGVyaW9kID09PSBcIjVtaW51dGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dGVybmFsIHN0YXRpc3RpY3MgZG9uJ3Qgc3VwcG9ydCA1LW1pbnV0ZSBzdGF0aXN0aWNzLlxuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY0lkcz8uc29tZSgoc3RhdGlzdGljX2lkKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFeHRlcm5hbFN0YXRpc3RpYyhzdGF0aXN0aWNfaWQpXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJkYXlzX3RvX3Nob3dcIixcbiAgICAgICAgICAgICAgZGVmYXVsdDogREVGQVVMVF9EQVlTX1RPX1NIT1csXG4gICAgICAgICAgICAgIHNlbGVjdG9yOiB7IG51bWJlcjogeyBtaW46IDEsIG1vZGU6IFwiYm94XCIgfSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJzdGF0X3R5cGVzXCIsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBzZWxlY3Rvcjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBtb2RlOiBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHN0YXRfdHlwZXMubWFwKChzdGF0X3R5cGUpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBgdWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmNhcmQuc3RhdGlzdGljcy1ncmFwaC5zdGF0X3R5cGVfbGFiZWxzLiR7c3RhdF90eXBlfWBcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgIW1ldGFEYXRhcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICFtZXRhRGF0YXMuZXZlcnkoKG1ldGFEYXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljc01ldGFIYXNUeXBlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkU3RhdFR5cGVNYXBbc3RhdF90eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwiY2hhcnRfdHlwZVwiLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJzZWxlY3RcIixcbiAgICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIFtcImxpbmVcIiwgXCJMaW5lXCJdLFxuICAgICAgICAgICAgICAgIFtcImJhclwiLCBcIkJhclwiXSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwiaGlkZV9sZWdlbmRcIixcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICBzZWxlY3RvcjogeyBib29sZWFuOiB7fSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgaWYgKHVuaXRzLnNpemUgPiAxKSB7XG4gICAgICAgIChzY2hlbWFbMV0gYXMgYW55KS5zY2hlbWEucHVzaCh7XG4gICAgICAgICAgbmFtZTogXCJ1bml0XCIsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgIHNlbGVjdG9yOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh1bml0cykubWFwKCh1bml0KSA9PiAoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiB1bml0LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB1bml0LFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbiAgKTtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5oYXNzIHx8ICF0aGlzLl9jb25maWcpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cblxuICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX3NjaGVtYShcbiAgICAgIHRoaXMuaGFzcy5sb2NhbGl6ZSxcbiAgICAgIHRoaXMuX2NvbmZpZ0VudGl0aWVzLFxuICAgICAgdGhpcy5fbWV0YURhdGFzXG4gICAgKTtcbiAgICBjb25zdCBjb25maWd1cmVkX3N0YXRfdHlwZXMgPSB0aGlzLl9jb25maWchLnN0YXRfdHlwZXNcbiAgICAgID8gZW5zdXJlQXJyYXkodGhpcy5fY29uZmlnLnN0YXRfdHlwZXMpXG4gICAgICA6IHN0YXRfdHlwZXMuZmlsdGVyKFxuICAgICAgICAgIChzdGF0X3R5cGUpID0+XG4gICAgICAgICAgICBzdGF0X3R5cGUgIT09IFwiY2hhbmdlXCIgJiZcbiAgICAgICAgICAgIHRoaXMuX21ldGFEYXRhcz8uZXZlcnkoKG1ldGFEYXRhKSA9PlxuICAgICAgICAgICAgICBzdGF0aXN0aWNzTWV0YUhhc1R5cGUobWV0YURhdGEsIHN0YXRfdHlwZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgY2hhcnRfdHlwZTogXCJsaW5lXCIsXG4gICAgICBwZXJpb2Q6IFwiaG91clwiLFxuICAgICAgLi4udGhpcy5fY29uZmlnLFxuICAgICAgc3RhdF90eXBlczogY29uZmlndXJlZF9zdGF0X3R5cGVzLFxuICAgIH07XG4gICAgY29uc3QgdW5pdENsYXNzID0gdGhpcy5fbWV0YURhdGFzPy5bMF0/LnVuaXRfY2xhc3M7XG4gICAgY29uc3Qgc3RhdGlzdGljc1VuaXQgPSB1bml0Q2xhc3NcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHRoaXMuX21ldGFEYXRhcz8uWzBdPy5zdGF0aXN0aWNzX3VuaXRfb2ZfbWVhc3VyZW1lbnQ7XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1mb3JtXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZGF0YT0ke2RhdGF9XG4gICAgICAgIC5zY2hlbWE9JHtzY2hlbWF9XG4gICAgICAgIC5jb21wdXRlTGFiZWw9JHt0aGlzLl9jb21wdXRlTGFiZWxDYWxsYmFja31cbiAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl92YWx1ZUNoYW5nZWR9XG4gICAgICA+PC9oYS1mb3JtPlxuICAgICAgICA8aGEtc3RhdGlzdGljcy1waWNrZXJcbiAgICAgICAgICBhbGxvdy1jdXN0b20tZW50aXR5XG4gICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgLnBpY2tTdGF0aXN0aWNMYWJlbD0ke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5jYXJkLnN0YXRpc3RpY3MtZ3JhcGgucGlja19zdGF0aXN0aWNcIlxuICAgICAgICAgICl9XG4gICAgICAgICAgLnBpY2tlZFN0YXRpc3RpY0xhYmVsPSR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmNhcmQuc3RhdGlzdGljcy1ncmFwaC5waWNrZWRfc3RhdGlzdGljXCJcbiAgICAgICAgICApfVxuICAgICAgICAgIC5pbmNsdWRlU3RhdGlzdGljc1VuaXRPZk1lYXN1cmVtZW50PSR7c3RhdGlzdGljc1VuaXR9XG4gICAgICAgICAgLmluY2x1ZGVVbml0Q2xhc3M9JHt1bml0Q2xhc3N9XG4gICAgICAgICAgLmlnbm9yZVJlc3RyaWN0aW9uc09uRmlyc3RTdGF0aXN0aWM9JHt0cnVlfVxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMuX2NvbmZpZ0VudGl0aWVzfVxuICAgICAgICAgIC5jb25maWdWYWx1ZT0ke1wiZW50aXRpZXNcIn1cbiAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2VudGl0aWVzQ2hhbmdlZH1cbiAgICAgICAgPjwvaGEtc3RhdGlzdGljcy1waWNrZXI+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfdmFsdWVDaGFuZ2VkKGV2OiBDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIGZpcmVFdmVudCh0aGlzLCBcImNvbmZpZy1jaGFuZ2VkXCIsIHsgY29uZmlnOiBldi5kZXRhaWwudmFsdWUgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9lbnRpdGllc0NoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbmV3RW50aXR5SWRzID0gZXYuZGV0YWlsLnZhbHVlO1xuXG4gICAgLy8gU2F2ZSB0aGUgRW50aXR5Q29uZmlnIG9iamVjdHMgZnJvbSBiZWluZyByZXBsYWNlZCB3aXRoIHN0cmluZ3NcbiAgICBjb25zdCBuZXdFbnRpdGllcyA9IG5ld0VudGl0eUlkcy5tYXAoKG5ld0VudCkgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hFbnRpdHkgPSB0aGlzLl9jb25maWchLmVudGl0aWVzLmZpbmQoXG4gICAgICAgIChvbGRFbnQpID0+IHR5cGVvZiBvbGRFbnQgIT09IFwic3RyaW5nXCIgJiYgb2xkRW50LmVudGl0eSA9PT0gbmV3RW50XG4gICAgICApO1xuICAgICAgcmV0dXJuIG1hdGNoRW50aXR5ID8/IG5ld0VudDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IHsgLi4udGhpcy5fY29uZmlnISwgZW50aXRpZXM6IG5ld0VudGl0aWVzIH07XG4gICAgaWYgKFxuICAgICAgbmV3RW50aXR5SWRzPy5zb21lKChzdGF0aXN0aWNfaWQpID0+IGlzRXh0ZXJuYWxTdGF0aXN0aWMoc3RhdGlzdGljX2lkKSkgJiZcbiAgICAgIGNvbmZpZy5wZXJpb2QgPT09IFwiNW1pbnV0ZVwiXG4gICAgKSB7XG4gICAgICBkZWxldGUgY29uZmlnLnBlcmlvZDtcbiAgICB9XG4gICAgY29uc3QgbWV0YWRhdGEgPVxuICAgICAgY29uZmlnLnN0YXRfdHlwZXMgfHwgY29uZmlnLnVuaXRcbiAgICAgICAgPyBhd2FpdCBnZXRTdGF0aXN0aWNNZXRhZGF0YSh0aGlzLmhhc3MhLCBuZXdFbnRpdHlJZHMpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChjb25maWcuc3RhdF90eXBlcyAmJiBjb25maWcuZW50aXRpZXMubGVuZ3RoKSB7XG4gICAgICBjb25maWcuc3RhdF90eXBlcyA9IGVuc3VyZUFycmF5KGNvbmZpZy5zdGF0X3R5cGVzKS5maWx0ZXIoKHN0YXRfdHlwZSkgPT5cbiAgICAgICAgbWV0YWRhdGEhLmV2ZXJ5KChtZXRhRGF0YSkgPT5cbiAgICAgICAgICBzdGF0aXN0aWNzTWV0YUhhc1R5cGUobWV0YURhdGEsIHN0YXRfdHlwZSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGlmICghY29uZmlnLnN0YXRfdHlwZXMubGVuZ3RoKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuc3RhdF90eXBlcztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFxuICAgICAgY29uZmlnLnVuaXQgJiZcbiAgICAgICFtZXRhZGF0YSEuc29tZShcbiAgICAgICAgKG1ldGFEYXRhKSA9PlxuICAgICAgICAgIGdldERpc3BsYXlVbml0KHRoaXMuaGFzcyEsIG1ldGFEYXRhPy5zdGF0aXN0aWNfaWQsIG1ldGFEYXRhKSA9PT1cbiAgICAgICAgICBjb25maWcudW5pdFxuICAgICAgKVxuICAgICkge1xuICAgICAgZGVsZXRlIGNvbmZpZy51bml0O1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJjb25maWctY2hhbmdlZFwiLCB7XG4gICAgICBjb25maWcsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9jb21wdXRlTGFiZWxDYWxsYmFjayA9IChzY2hlbWEpID0+IHtcbiAgICBzd2l0Y2ggKHNjaGVtYS5uYW1lKSB7XG4gICAgICBjYXNlIFwiY2hhcnRfdHlwZVwiOlxuICAgICAgY2FzZSBcInN0YXRfdHlwZXNcIjpcbiAgICAgIGNhc2UgXCJwZXJpb2RcIjpcbiAgICAgIGNhc2UgXCJ1bml0XCI6XG4gICAgICBjYXNlIFwiaGlkZV9sZWdlbmRcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgYHVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5jYXJkLnN0YXRpc3RpY3MtZ3JhcGguJHtzY2hlbWEubmFtZX1gXG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICBgdWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmNhcmQuZ2VuZXJpYy4ke3NjaGVtYS5uYW1lfWBcbiAgICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgc3RhdGljIHN0eWxlczogQ1NTUmVzdWx0R3JvdXAgPSBjc3NgXG4gICAgaGEtc3RhdGlzdGljcy1waWNrZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICBgO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLXN0YXRpc3RpY3MtZ3JhcGgtY2FyZC1lZGl0b3JcIjogSHVpU3RhdGlzdGljc0dyYXBoQ2FyZEVkaXRvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/editor/config-elements/hui-statistics-graph-card-editor.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/editor/structs/base-card-struct.ts":
/*!****************************************************************!*\
  !*** ./src/panels/lovelace/editor/structs/base-card-struct.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   baseLovelaceCardConfig: () => (/* binding */ baseLovelaceCardConfig)\n/* harmony export */ });\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"./node_modules/superstruct/dist/index.mjs\");\n\nconst baseLovelaceCardConfig = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  view_layout: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.any)()\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9zdHJ1Y3RzL2Jhc2UtY2FyZC1zdHJ1Y3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9zdHJ1Y3RzL2Jhc2UtY2FyZC1zdHJ1Y3QudHM/ZjM3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYmplY3QsIHN0cmluZywgYW55IH0gZnJvbSBcInN1cGVyc3RydWN0XCI7XG5cbmV4cG9ydCBjb25zdCBiYXNlTG92ZWxhY2VDYXJkQ29uZmlnID0gb2JqZWN0KHtcbiAgdHlwZTogc3RyaW5nKCksXG4gIHZpZXdfbGF5b3V0OiBhbnkoKSxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/editor/structs/base-card-struct.ts\n");

/***/ })

}]);