"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_common_array_literal-includes_ts-src_data_media-player_ts"],{

/***/ "./src/common/array/literal-includes.ts":
/*!**********************************************!*\
  !*** ./src/common/array/literal-includes.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayLiteralIncludes: () => (/* binding */ arrayLiteralIncludes)\n/* harmony export */ });\n// Creates a type predicate function for determining if an array literal includes a given value\nconst arrayLiteralIncludes = array => (searchElement, fromIndex) => array.includes(searchElement, fromIndex);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2FycmF5L2xpdGVyYWwtaW5jbHVkZXMudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vYXJyYXkvbGl0ZXJhbC1pbmNsdWRlcy50cz8wNGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZXMgYSB0eXBlIHByZWRpY2F0ZSBmdW5jdGlvbiBmb3IgZGV0ZXJtaW5pbmcgaWYgYW4gYXJyYXkgbGl0ZXJhbCBpbmNsdWRlcyBhIGdpdmVuIHZhbHVlXG5leHBvcnQgY29uc3QgYXJyYXlMaXRlcmFsSW5jbHVkZXMgPVxuICA8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oYXJyYXk6IFQpID0+XG4gIChzZWFyY2hFbGVtZW50OiB1bmtub3duLCBmcm9tSW5kZXg/OiBudW1iZXIpOiBzZWFyY2hFbGVtZW50IGlzIFRbbnVtYmVyXSA9PlxuICAgIGFycmF5LmluY2x1ZGVzKHNlYXJjaEVsZW1lbnQgYXMgVFtudW1iZXJdLCBmcm9tSW5kZXgpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/array/literal-includes.ts\n");

/***/ }),

/***/ "./src/data/media-player.ts":
/*!**********************************!*\
  !*** ./src/data/media-player.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER_PLAYER: () => (/* binding */ BROWSER_PLAYER),\n/* harmony export */   MediaClassBrowserSettings: () => (/* binding */ MediaClassBrowserSettings),\n/* harmony export */   MediaPlayerEntityFeature: () => (/* binding */ MediaPlayerEntityFeature),\n/* harmony export */   browseMediaPlayer: () => (/* binding */ browseMediaPlayer),\n/* harmony export */   cleanupMediaTitle: () => (/* binding */ cleanupMediaTitle),\n/* harmony export */   computeMediaControls: () => (/* binding */ computeMediaControls),\n/* harmony export */   computeMediaDescription: () => (/* binding */ computeMediaDescription),\n/* harmony export */   formatMediaTime: () => (/* binding */ formatMediaTime),\n/* harmony export */   getCurrentProgress: () => (/* binding */ getCurrentProgress),\n/* harmony export */   handleMediaControlClick: () => (/* binding */ handleMediaControlClick),\n/* harmony export */   mediaPlayerPlayMedia: () => (/* binding */ mediaPlayerPlayMedia),\n/* harmony export */   setMediaPlayerVolume: () => (/* binding */ setMediaPlayerVolume)\n/* harmony export */ });\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _tts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tts */ \"./src/data/tts.ts\");\nconst mdiAccountMusic = \"M11,14C12,14 13.05,14.16 14.2,14.44C13.39,15.31 13,16.33 13,17.5C13,18.39 13.25,19.23 13.78,20H3V18C3,16.81 3.91,15.85 5.74,15.12C7.57,14.38 9.33,14 11,14M11,12C9.92,12 9,11.61 8.18,10.83C7.38,10.05 7,9.11 7,8C7,6.92 7.38,6 8.18,5.18C9,4.38 9.92,4 11,4C12.11,4 13.05,4.38 13.83,5.18C14.61,6 15,6.92 15,8C15,9.11 14.61,10.05 13.83,10.83C13.05,11.61 12.11,12 11,12M18.5,10H20L22,10V12H20V17.5A2.5,2.5 0 0,1 17.5,20A2.5,2.5 0 0,1 15,17.5A2.5,2.5 0 0,1 17.5,15C17.86,15 18.19,15.07 18.5,15.21V10Z\";\nconst mdiAccountMusicOutline = \"M11,4A4,4 0 0,1 15,8A4,4 0 0,1 11,12A4,4 0 0,1 7,8A4,4 0 0,1 11,4M11,6A2,2 0 0,0 9,8A2,2 0 0,0 11,10A2,2 0 0,0 13,8A2,2 0 0,0 11,6M11,13C12.1,13 13.66,13.23 15.11,13.69C14.5,14.07 14,14.6 13.61,15.23C12.79,15.03 11.89,14.9 11,14.9C8.03,14.9 4.9,16.36 4.9,17V18.1H13.04C13.13,18.8 13.38,19.44 13.76,20H3V17C3,14.34 8.33,13 11,13M18.5,10H20L22,10V12H20V17.5A2.5,2.5 0 0,1 17.5,20A2.5,2.5 0 0,1 15,17.5A2.5,2.5 0 0,1 17.5,15C17.86,15 18.19,15.07 18.5,15.21V10Z\";\nconst mdiAlbum = \"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12,16.5C9.5,16.5 7.5,14.5 7.5,12C7.5,9.5 9.5,7.5 12,7.5C14.5,7.5 16.5,9.5 16.5,12C16.5,14.5 14.5,16.5 12,16.5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiApplication = \"M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 7H3V4H21V7Z\";\nconst mdiDramaMasks = \"M8.11,19.45C5.94,18.65 4.22,16.78 3.71,14.35L2.05,6.54C1.81,5.46 2.5,4.4 3.58,4.17L13.35,2.1L13.38,2.09C14.45,1.88 15.5,2.57 15.72,3.63L16.07,5.3L20.42,6.23H20.45C21.5,6.47 22.18,7.53 21.96,8.59L20.3,16.41C19.5,20.18 15.78,22.6 12,21.79C10.42,21.46 9.08,20.61 8.11,19.45V19.45M20,8.18L10.23,6.1L8.57,13.92V13.95C8,16.63 9.73,19.27 12.42,19.84C15.11,20.41 17.77,18.69 18.34,16L20,8.18M16,16.5C15.37,17.57 14.11,18.16 12.83,17.89C11.56,17.62 10.65,16.57 10.5,15.34L16,16.5M8.47,5.17L4,6.13L5.66,13.94L5.67,13.97C5.82,14.68 6.12,15.32 6.53,15.87C6.43,15.1 6.45,14.3 6.62,13.5L7.05,11.5C6.6,11.42 6.21,11.17 6,10.81C6.06,10.2 6.56,9.66 7.25,9.5C7.33,9.5 7.4,9.5 7.5,9.5L8.28,5.69C8.32,5.5 8.38,5.33 8.47,5.17M15.03,12.23C15.35,11.7 16.03,11.42 16.72,11.57C17.41,11.71 17.91,12.24 18,12.86C17.67,13.38 17,13.66 16.3,13.5C15.61,13.37 15.11,12.84 15.03,12.23M10.15,11.19C10.47,10.66 11.14,10.38 11.83,10.53C12.5,10.67 13.03,11.21 13.11,11.82C12.78,12.34 12.11,12.63 11.42,12.5C10.73,12.33 10.23,11.8 10.15,11.19M11.97,4.43L13.93,4.85L13.77,4.05L11.97,4.43Z\";\nconst mdiFileMusic = \"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,13H11V18A2,2 0 0,1 9,20A2,2 0 0,1 7,18A2,2 0 0,1 9,16C9.4,16 9.7,16.1 10,16.3V11H13V13M13,9V3.5L18.5,9H13Z\";\nconst mdiFolder = \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\";\nconst mdiGamepadVariant = \"M7,6H17A6,6 0 0,1 23,12A6,6 0 0,1 17,18C15.22,18 13.63,17.23 12.53,16H11.47C10.37,17.23 8.78,18 7,18A6,6 0 0,1 1,12A6,6 0 0,1 7,6M6,9V11H4V13H6V15H8V13H10V11H8V9H6M15.5,12A1.5,1.5 0 0,0 14,13.5A1.5,1.5 0 0,0 15.5,15A1.5,1.5 0 0,0 17,13.5A1.5,1.5 0 0,0 15.5,12M18.5,9A1.5,1.5 0 0,0 17,10.5A1.5,1.5 0 0,0 18.5,12A1.5,1.5 0 0,0 20,10.5A1.5,1.5 0 0,0 18.5,9Z\";\nconst mdiImage = \"M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z\";\nconst mdiMovie = \"M18,4L20,8H17L15,4H13L15,8H12L10,4H8L10,8H7L5,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V4H18Z\";\nconst mdiMusic = \"M21,3V15.5A3.5,3.5 0 0,1 17.5,19A3.5,3.5 0 0,1 14,15.5A3.5,3.5 0 0,1 17.5,12C18.04,12 18.55,12.12 19,12.34V6.47L9,8.6V17.5A3.5,3.5 0 0,1 5.5,21A3.5,3.5 0 0,1 2,17.5A3.5,3.5 0 0,1 5.5,14C6.04,14 6.55,14.12 7,14.34V6L21,3Z\";\nconst mdiPause = \"M14,19H18V5H14M6,19H10V5H6V19Z\";\nconst mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nconst mdiPlaylistMusic = \"M15,6H3V8H15V6M15,10H3V12H15V10M3,16H11V14H3V16M17,6V14.18C16.69,14.07 16.35,14 16,14A3,3 0 0,0 13,17A3,3 0 0,0 16,20A3,3 0 0,0 19,17V8H22V6H17Z\";\nconst mdiPlayPause = \"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5\";\nconst mdiPodcast = \"M17,18.25V21.5H7V18.25C7,16.87 9.24,15.75 12,15.75C14.76,15.75 17,16.87 17,18.25M12,5.5A6.5,6.5 0 0,1 18.5,12C18.5,13.25 18.15,14.42 17.54,15.41L16,14.04C16.32,13.43 16.5,12.73 16.5,12C16.5,9.5 14.5,7.5 12,7.5C9.5,7.5 7.5,9.5 7.5,12C7.5,12.73 7.68,13.43 8,14.04L6.46,15.41C5.85,14.42 5.5,13.25 5.5,12A6.5,6.5 0 0,1 12,5.5M12,1.5A10.5,10.5 0 0,1 22.5,12C22.5,14.28 21.77,16.39 20.54,18.11L19.04,16.76C19.96,15.4 20.5,13.76 20.5,12A8.5,8.5 0 0,0 12,3.5A8.5,8.5 0 0,0 3.5,12C3.5,13.76 4.04,15.4 4.96,16.76L3.46,18.11C2.23,16.39 1.5,14.28 1.5,12A10.5,10.5 0 0,1 12,1.5M12,9.5A2.5,2.5 0 0,1 14.5,12A2.5,2.5 0 0,1 12,14.5A2.5,2.5 0 0,1 9.5,12A2.5,2.5 0 0,1 12,9.5Z\";\nconst mdiPower = \"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13\";\nconst mdiRepeat = \"M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z\";\nconst mdiRepeatOff = \"M2,5.27L3.28,4L20,20.72L18.73,22L15.73,19H7V22L3,18L7,14V17H13.73L7,10.27V11H5V8.27L2,5.27M17,13H19V17.18L17,15.18V13M17,5V2L21,6L17,10V7H8.82L6.82,5H17Z\";\nconst mdiRepeatOnce = \"M13,15V9H12L10,10V11H11.5V15M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z\";\nconst mdiShuffle = \"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z\";\nconst mdiShuffleDisabled = \"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16\";\nconst mdiSkipNext = \"M16,18H18V6H16M6,18L14.5,12L6,6V18Z\";\nconst mdiSkipPrevious = \"M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z\";\nconst mdiStop = \"M18,18H6V6H18V18Z\";\nconst mdiTelevisionClassic = \"M8.16,3L6.75,4.41L9.34,7H4C2.89,7 2,7.89 2,9V19C2,20.11 2.89,21 4,21H20C21.11,21 22,20.11 22,19V9C22,7.89 21.11,7 20,7H14.66L17.25,4.41L15.84,3L12,6.84L8.16,3M4,9H17V19H4V9M19.5,9A1,1 0 0,1 20.5,10A1,1 0 0,1 19.5,11A1,1 0 0,1 18.5,10A1,1 0 0,1 19.5,9M19.5,12A1,1 0 0,1 20.5,13A1,1 0 0,1 19.5,14A1,1 0 0,1 18.5,13A1,1 0 0,1 19.5,12Z\";\nconst mdiVideo = \"M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z\";\nconst mdiWeb = \"M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\n\n\n\nlet MediaPlayerEntityFeature = /*#__PURE__*/function (MediaPlayerEntityFeature) {\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"PAUSE\"] = 1] = \"PAUSE\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"SEEK\"] = 2] = \"SEEK\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"VOLUME_SET\"] = 4] = \"VOLUME_SET\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"VOLUME_MUTE\"] = 8] = \"VOLUME_MUTE\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"PREVIOUS_TRACK\"] = 16] = \"PREVIOUS_TRACK\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"NEXT_TRACK\"] = 32] = \"NEXT_TRACK\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"TURN_ON\"] = 128] = \"TURN_ON\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"TURN_OFF\"] = 256] = \"TURN_OFF\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"PLAY_MEDIA\"] = 512] = \"PLAY_MEDIA\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"VOLUME_BUTTONS\"] = 1024] = \"VOLUME_BUTTONS\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"SELECT_SOURCE\"] = 2048] = \"SELECT_SOURCE\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"STOP\"] = 4096] = \"STOP\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"CLEAR_PLAYLIST\"] = 8192] = \"CLEAR_PLAYLIST\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"PLAY\"] = 16384] = \"PLAY\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"SHUFFLE_SET\"] = 32768] = \"SHUFFLE_SET\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"SELECT_SOUND_MODE\"] = 65536] = \"SELECT_SOUND_MODE\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"BROWSE_MEDIA\"] = 131072] = \"BROWSE_MEDIA\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"REPEAT_SET\"] = 262144] = \"REPEAT_SET\";\n  MediaPlayerEntityFeature[MediaPlayerEntityFeature[\"GROUPING\"] = 524288] = \"GROUPING\";\n  return MediaPlayerEntityFeature;\n}({});\nconst BROWSER_PLAYER = \"browser\";\nconst MediaClassBrowserSettings = {\n  album: {\n    icon: mdiAlbum,\n    layout: \"grid\"\n  },\n  app: {\n    icon: mdiApplication,\n    layout: \"grid\"\n  },\n  artist: {\n    icon: mdiAccountMusic,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  channel: {\n    icon: mdiTelevisionClassic,\n    thumbnail_ratio: \"portrait\",\n    layout: \"grid\"\n  },\n  composer: {\n    icon: mdiAccountMusicOutline,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  contributing_artist: {\n    icon: mdiAccountMusic,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  directory: {\n    icon: mdiFolder,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  episode: {\n    icon: mdiTelevisionClassic,\n    layout: \"grid\",\n    thumbnail_ratio: \"portrait\"\n  },\n  game: {\n    icon: mdiGamepadVariant,\n    layout: \"grid\",\n    thumbnail_ratio: \"portrait\"\n  },\n  genre: {\n    icon: mdiDramaMasks,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  image: {\n    icon: mdiImage,\n    layout: \"grid\"\n  },\n  movie: {\n    icon: mdiMovie,\n    thumbnail_ratio: \"portrait\",\n    layout: \"grid\"\n  },\n  music: {\n    icon: mdiMusic\n  },\n  playlist: {\n    icon: mdiPlaylistMusic,\n    layout: \"grid\",\n    show_list_images: true\n  },\n  podcast: {\n    icon: mdiPodcast,\n    layout: \"grid\"\n  },\n  season: {\n    icon: mdiTelevisionClassic,\n    layout: \"grid\",\n    thumbnail_ratio: \"portrait\"\n  },\n  track: {\n    icon: mdiFileMusic\n  },\n  tv_show: {\n    icon: mdiTelevisionClassic,\n    layout: \"grid\",\n    thumbnail_ratio: \"portrait\"\n  },\n  url: {\n    icon: mdiWeb\n  },\n  video: {\n    icon: mdiVideo,\n    layout: \"grid\"\n  }\n};\nconst browseMediaPlayer = (hass, entityId, mediaContentId, mediaContentType) => hass.callWS({\n  type: \"media_player/browse_media\",\n  entity_id: entityId,\n  media_content_id: mediaContentId,\n  media_content_type: mediaContentType\n});\nconst getCurrentProgress = stateObj => {\n  let progress = stateObj.attributes.media_position;\n  if (stateObj.state !== \"playing\") {\n    return progress;\n  }\n  progress += (Date.now() - new Date(stateObj.attributes.media_position_updated_at).getTime()) / 1000.0;\n  // Prevent negative values, so we do not go back to 59:59 at the start\n  // for example if there are slight clock sync deltas between backend and frontend and\n  // therefore media_position_updated_at might be slightly larger than Date.now().\n  return progress < 0 ? 0 : progress;\n};\nconst computeMediaDescription = stateObj => {\n  let secondaryTitle;\n  switch (stateObj.attributes.media_content_type) {\n    case \"music\":\n    case \"image\":\n      secondaryTitle = stateObj.attributes.media_artist;\n      break;\n    case \"playlist\":\n      secondaryTitle = stateObj.attributes.media_playlist;\n      break;\n    case \"tvshow\":\n      secondaryTitle = stateObj.attributes.media_series_title;\n      if (stateObj.attributes.media_season) {\n        secondaryTitle += \" S\" + stateObj.attributes.media_season;\n        if (stateObj.attributes.media_episode) {\n          secondaryTitle += \"E\" + stateObj.attributes.media_episode;\n        }\n      }\n      break;\n    case \"channel\":\n      secondaryTitle = stateObj.attributes.media_channel;\n      break;\n    default:\n      secondaryTitle = stateObj.attributes.app_name || \"\";\n  }\n  return secondaryTitle;\n};\nconst computeMediaControls = (stateObj, useExtendedControls = false) => {\n  if (!stateObj) {\n    return undefined;\n  }\n  const state = stateObj.state;\n  if ((0,_entity__WEBPACK_IMPORTED_MODULE_1__.isUnavailableState)(state)) {\n    return undefined;\n  }\n  if (state === \"off\") {\n    return (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.TURN_ON) ? [{\n      icon: mdiPower,\n      action: \"turn_on\"\n    }] : undefined;\n  }\n  const buttons = [];\n  if ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.TURN_OFF)) {\n    buttons.push({\n      icon: mdiPower,\n      action: \"turn_off\"\n    });\n  }\n  const assumedState = stateObj.attributes.assumed_state === true;\n  const stateAttr = stateObj.attributes;\n  if ((state === \"playing\" || state === \"paused\" || assumedState) && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.SHUFFLE_SET) && useExtendedControls) {\n    buttons.push({\n      icon: stateAttr.shuffle === true ? mdiShuffle : mdiShuffleDisabled,\n      action: \"shuffle_set\"\n    });\n  }\n  if ((state === \"playing\" || state === \"paused\" || assumedState) && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PREVIOUS_TRACK)) {\n    buttons.push({\n      icon: mdiSkipPrevious,\n      action: \"media_previous_track\"\n    });\n  }\n  if (!assumedState && (state === \"playing\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PAUSE) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.STOP)) || (state === \"paused\" || state === \"idle\") && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PLAY) || state === \"on\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PLAY) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PAUSE)))) {\n    buttons.push({\n      icon: state === \"on\" ? mdiPlayPause : state !== \"playing\" ? mdiPlay : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PAUSE) ? mdiPause : mdiStop,\n      action: state !== \"playing\" ? \"media_play\" : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PAUSE) ? \"media_pause\" : \"media_stop\"\n    });\n  }\n  if (assumedState && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PLAY)) {\n    buttons.push({\n      icon: mdiPlay,\n      action: \"media_play\"\n    });\n  }\n  if (assumedState && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.PAUSE)) {\n    buttons.push({\n      icon: mdiPause,\n      action: \"media_pause\"\n    });\n  }\n  if (assumedState && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.STOP)) {\n    buttons.push({\n      icon: mdiStop,\n      action: \"media_stop\"\n    });\n  }\n  if ((state === \"playing\" || state === \"paused\" || assumedState) && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.NEXT_TRACK)) {\n    buttons.push({\n      icon: mdiSkipNext,\n      action: \"media_next_track\"\n    });\n  }\n  if ((state === \"playing\" || state === \"paused\" || assumedState) && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_0__.supportsFeature)(stateObj, MediaPlayerEntityFeature.REPEAT_SET) && useExtendedControls) {\n    buttons.push({\n      icon: stateAttr.repeat === \"all\" ? mdiRepeat : stateAttr.repeat === \"one\" ? mdiRepeatOnce : mdiRepeatOff,\n      action: \"repeat_set\"\n    });\n  }\n  return buttons.length > 0 ? buttons : undefined;\n};\nconst formatMediaTime = seconds => {\n  if (seconds === undefined || seconds === Infinity) {\n    return \"\";\n  }\n  let secondsString = new Date(seconds * 1000).toISOString();\n  secondsString = seconds > 3600 ? secondsString.substring(11, 16) : secondsString.substring(14, 19);\n  return secondsString.replace(/^0+/, \"\").padStart(4, \"0\");\n};\nconst cleanupMediaTitle = title => {\n  if (!title) {\n    return undefined;\n  }\n  const index = title.indexOf(\"?authSig=\");\n  let cleanTitle = index > 0 ? title.slice(0, index) : title;\n  if (cleanTitle.startsWith(\"http\")) {\n    cleanTitle = decodeURIComponent(cleanTitle.split(\"/\").pop());\n  }\n  return cleanTitle;\n};\n\n/**\n * Set volume of a media player entity.\n * @param hass ioBroker object\n * @param entity_id entity ID of media player\n * @param volume_level number between 0..1\n * @returns\n */\nconst setMediaPlayerVolume = (hass, entity_id, volume_level) => hass.callService(\"media_player\", \"volume_set\", {\n  entity_id,\n  volume_level\n});\nconst handleMediaControlClick = (hass, stateObj, action) => hass.callService(\"media_player\", action, action === \"shuffle_set\" ? {\n  entity_id: stateObj.entity_id,\n  shuffle: !stateObj.attributes.shuffle\n} : action === \"repeat_set\" ? {\n  entity_id: stateObj.entity_id,\n  repeat: stateObj.attributes.repeat === \"all\" ? \"one\" : stateObj.attributes.repeat === \"off\" ? \"all\" : \"off\"\n} : {\n  entity_id: stateObj.entity_id\n});\nconst mediaPlayerPlayMedia = (hass, entity_id, media_content_id, media_content_type, extra = {}) => {\n  // We set text-to-speech to announce.\n  if (!extra.enqueue && extra.announce === undefined && (0,_tts__WEBPACK_IMPORTED_MODULE_2__.isTTSMediaSource)(media_content_id)) {\n    extra.announce = true;\n  }\n  return hass.callService(\"media_player\", \"play_media\", {\n    entity_id,\n    media_content_id,\n    media_content_type,\n    ...extra\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9tZWRpYS1wbGF5ZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtDQTtBQUdBO0FBQ0E7QUEwQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF5QkE7QUFTQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQStCQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFDQTtBQVFBO0FBTUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBRUE7QUFVQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBR0E7QUFVQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9tZWRpYS1wbGF5ZXIudHM/MmJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBtZGlBY2NvdW50TXVzaWMsXG4gIG1kaUFjY291bnRNdXNpY091dGxpbmUsXG4gIG1kaUFsYnVtLFxuICBtZGlBcHBsaWNhdGlvbixcbiAgbWRpRHJhbWFNYXNrcyxcbiAgbWRpRmlsZU11c2ljLFxuICBtZGlGb2xkZXIsXG4gIG1kaUdhbWVwYWRWYXJpYW50LFxuICBtZGlJbWFnZSxcbiAgbWRpTW92aWUsXG4gIG1kaU11c2ljLFxuICBtZGlQYXVzZSxcbiAgbWRpUGxheSxcbiAgbWRpUGxheWxpc3RNdXNpYyxcbiAgbWRpUGxheVBhdXNlLFxuICBtZGlQb2RjYXN0LFxuICBtZGlQb3dlcixcbiAgbWRpUmVwZWF0LFxuICBtZGlSZXBlYXRPZmYsXG4gIG1kaVJlcGVhdE9uY2UsXG4gIG1kaVNodWZmbGUsXG4gIG1kaVNodWZmbGVEaXNhYmxlZCxcbiAgbWRpU2tpcE5leHQsXG4gIG1kaVNraXBQcmV2aW91cyxcbiAgbWRpU3RvcCxcbiAgbWRpVGVsZXZpc2lvbkNsYXNzaWMsXG4gIG1kaVZpZGVvLFxuICBtZGlXZWIsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEhhc3NFbnRpdHlBdHRyaWJ1dGVCYXNlLFxuICBIYXNzRW50aXR5QmFzZSxcbn0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgc3VwcG9ydHNGZWF0dXJlIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvc3VwcG9ydHMtZmVhdHVyZVwiO1xuaW1wb3J0IHsgTWVkaWFQbGF5ZXJJdGVtSWQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9tZWRpYS1wbGF5ZXIvaGEtbWVkaWEtcGxheWVyLWJyb3dzZVwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50LCBUcmFuc2xhdGlvbkRpY3QgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGlzVW5hdmFpbGFibGVTdGF0ZSB9IGZyb20gXCIuL2VudGl0eVwiO1xuaW1wb3J0IHsgaXNUVFNNZWRpYVNvdXJjZSB9IGZyb20gXCIuL3R0c1wiO1xuXG5pbnRlcmZhY2UgTWVkaWFQbGF5ZXJFbnRpdHlBdHRyaWJ1dGVzIGV4dGVuZHMgSGFzc0VudGl0eUF0dHJpYnV0ZUJhc2Uge1xuICBtZWRpYV9jb250ZW50X2lkPzogc3RyaW5nO1xuICBtZWRpYV9jb250ZW50X3R5cGU/OiBzdHJpbmc7XG4gIG1lZGlhX2FydGlzdD86IHN0cmluZztcbiAgbWVkaWFfcGxheWxpc3Q/OiBzdHJpbmc7XG4gIG1lZGlhX3Nlcmllc190aXRsZT86IHN0cmluZztcbiAgbWVkaWFfc2Vhc29uPzogYW55O1xuICBtZWRpYV9lcGlzb2RlPzogYW55O1xuICBhcHBfbmFtZT86IHN0cmluZztcbiAgbWVkaWFfcG9zaXRpb25fdXBkYXRlZF9hdD86IHN0cmluZyB8IG51bWJlciB8IERhdGU7XG4gIG1lZGlhX2R1cmF0aW9uPzogbnVtYmVyO1xuICBtZWRpYV9wb3NpdGlvbj86IG51bWJlcjtcbiAgbWVkaWFfdGl0bGU/OiBzdHJpbmc7XG4gIG1lZGlhX2NoYW5uZWw/OiBzdHJpbmc7XG4gIGljb24/OiBzdHJpbmc7XG4gIGVudGl0eV9waWN0dXJlX2xvY2FsPzogc3RyaW5nO1xuICBpc192b2x1bWVfbXV0ZWQ/OiBib29sZWFuO1xuICB2b2x1bWVfbGV2ZWw/OiBudW1iZXI7XG4gIHJlcGVhdD86IHN0cmluZztcbiAgc2h1ZmZsZT86IGJvb2xlYW47XG4gIHNvdXJjZT86IHN0cmluZztcbiAgc291cmNlX2xpc3Q/OiBzdHJpbmdbXTtcbiAgc291bmRfbW9kZT86IHN0cmluZztcbiAgc291bmRfbW9kZV9saXN0Pzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFQbGF5ZXJFbnRpdHkgZXh0ZW5kcyBIYXNzRW50aXR5QmFzZSB7XG4gIGF0dHJpYnV0ZXM6IE1lZGlhUGxheWVyRW50aXR5QXR0cmlidXRlcztcbiAgc3RhdGU6XG4gICAgfCBcInBsYXlpbmdcIlxuICAgIHwgXCJwYXVzZWRcIlxuICAgIHwgXCJpZGxlXCJcbiAgICB8IFwib2ZmXCJcbiAgICB8IFwib25cIlxuICAgIHwgXCJ1bmF2YWlsYWJsZVwiXG4gICAgfCBcInVua25vd25cIlxuICAgIHwgXCJzdGFuZGJ5XCJcbiAgICB8IFwiYnVmZmVyaW5nXCI7XG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIE1lZGlhUGxheWVyRW50aXR5RmVhdHVyZSB7XG4gIFBBVVNFID0gMSxcbiAgU0VFSyA9IDIsXG4gIFZPTFVNRV9TRVQgPSA0LFxuICBWT0xVTUVfTVVURSA9IDgsXG4gIFBSRVZJT1VTX1RSQUNLID0gMTYsXG4gIE5FWFRfVFJBQ0sgPSAzMixcblxuICBUVVJOX09OID0gMTI4LFxuICBUVVJOX09GRiA9IDI1NixcbiAgUExBWV9NRURJQSA9IDUxMixcbiAgVk9MVU1FX0JVVFRPTlMgPSAxMDI0LFxuICBTRUxFQ1RfU09VUkNFID0gMjA0OCxcbiAgU1RPUCA9IDQwOTYsXG4gIENMRUFSX1BMQVlMSVNUID0gODE5MixcbiAgUExBWSA9IDE2Mzg0LFxuICBTSFVGRkxFX1NFVCA9IDMyNzY4LFxuICBTRUxFQ1RfU09VTkRfTU9ERSA9IDY1NTM2LFxuICBCUk9XU0VfTUVESUEgPSAxMzEwNzIsXG4gIFJFUEVBVF9TRVQgPSAyNjIxNDQsXG4gIEdST1VQSU5HID0gNTI0Mjg4LFxufVxuXG5leHBvcnQgdHlwZSBNZWRpYVBsYXllckJyb3dzZUFjdGlvbiA9IFwicGlja1wiIHwgXCJwbGF5XCI7XG5cbmV4cG9ydCBjb25zdCBCUk9XU0VSX1BMQVlFUiA9IFwiYnJvd3NlclwiO1xuXG5leHBvcnQgdHlwZSBNZWRpYUNsYXNzQnJvd3NlclNldHRpbmcgPSB7XG4gIGljb246IHN0cmluZztcbiAgdGh1bWJuYWlsX3JhdGlvPzogc3RyaW5nO1xuICBsYXlvdXQ/OiBcImdyaWRcIjtcbiAgc2hvd19saXN0X2ltYWdlcz86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgTWVkaWFDbGFzc0Jyb3dzZXJTZXR0aW5nczoge1xuICBbdHlwZTogc3RyaW5nXTogTWVkaWFDbGFzc0Jyb3dzZXJTZXR0aW5nO1xufSA9IHtcbiAgYWxidW06IHsgaWNvbjogbWRpQWxidW0sIGxheW91dDogXCJncmlkXCIgfSxcbiAgYXBwOiB7IGljb246IG1kaUFwcGxpY2F0aW9uLCBsYXlvdXQ6IFwiZ3JpZFwiIH0sXG4gIGFydGlzdDogeyBpY29uOiBtZGlBY2NvdW50TXVzaWMsIGxheW91dDogXCJncmlkXCIsIHNob3dfbGlzdF9pbWFnZXM6IHRydWUgfSxcbiAgY2hhbm5lbDoge1xuICAgIGljb246IG1kaVRlbGV2aXNpb25DbGFzc2ljLFxuICAgIHRodW1ibmFpbF9yYXRpbzogXCJwb3J0cmFpdFwiLFxuICAgIGxheW91dDogXCJncmlkXCIsXG4gIH0sXG4gIGNvbXBvc2VyOiB7XG4gICAgaWNvbjogbWRpQWNjb3VudE11c2ljT3V0bGluZSxcbiAgICBsYXlvdXQ6IFwiZ3JpZFwiLFxuICAgIHNob3dfbGlzdF9pbWFnZXM6IHRydWUsXG4gIH0sXG4gIGNvbnRyaWJ1dGluZ19hcnRpc3Q6IHtcbiAgICBpY29uOiBtZGlBY2NvdW50TXVzaWMsXG4gICAgbGF5b3V0OiBcImdyaWRcIixcbiAgICBzaG93X2xpc3RfaW1hZ2VzOiB0cnVlLFxuICB9LFxuICBkaXJlY3Rvcnk6IHsgaWNvbjogbWRpRm9sZGVyLCBsYXlvdXQ6IFwiZ3JpZFwiLCBzaG93X2xpc3RfaW1hZ2VzOiB0cnVlIH0sXG4gIGVwaXNvZGU6IHtcbiAgICBpY29uOiBtZGlUZWxldmlzaW9uQ2xhc3NpYyxcbiAgICBsYXlvdXQ6IFwiZ3JpZFwiLFxuICAgIHRodW1ibmFpbF9yYXRpbzogXCJwb3J0cmFpdFwiLFxuICB9LFxuICBnYW1lOiB7XG4gICAgaWNvbjogbWRpR2FtZXBhZFZhcmlhbnQsXG4gICAgbGF5b3V0OiBcImdyaWRcIixcbiAgICB0aHVtYm5haWxfcmF0aW86IFwicG9ydHJhaXRcIixcbiAgfSxcbiAgZ2VucmU6IHsgaWNvbjogbWRpRHJhbWFNYXNrcywgbGF5b3V0OiBcImdyaWRcIiwgc2hvd19saXN0X2ltYWdlczogdHJ1ZSB9LFxuICBpbWFnZTogeyBpY29uOiBtZGlJbWFnZSwgbGF5b3V0OiBcImdyaWRcIiB9LFxuICBtb3ZpZTogeyBpY29uOiBtZGlNb3ZpZSwgdGh1bWJuYWlsX3JhdGlvOiBcInBvcnRyYWl0XCIsIGxheW91dDogXCJncmlkXCIgfSxcbiAgbXVzaWM6IHsgaWNvbjogbWRpTXVzaWMgfSxcbiAgcGxheWxpc3Q6IHsgaWNvbjogbWRpUGxheWxpc3RNdXNpYywgbGF5b3V0OiBcImdyaWRcIiwgc2hvd19saXN0X2ltYWdlczogdHJ1ZSB9LFxuICBwb2RjYXN0OiB7IGljb246IG1kaVBvZGNhc3QsIGxheW91dDogXCJncmlkXCIgfSxcbiAgc2Vhc29uOiB7XG4gICAgaWNvbjogbWRpVGVsZXZpc2lvbkNsYXNzaWMsXG4gICAgbGF5b3V0OiBcImdyaWRcIixcbiAgICB0aHVtYm5haWxfcmF0aW86IFwicG9ydHJhaXRcIixcbiAgfSxcbiAgdHJhY2s6IHsgaWNvbjogbWRpRmlsZU11c2ljIH0sXG4gIHR2X3Nob3c6IHtcbiAgICBpY29uOiBtZGlUZWxldmlzaW9uQ2xhc3NpYyxcbiAgICBsYXlvdXQ6IFwiZ3JpZFwiLFxuICAgIHRodW1ibmFpbF9yYXRpbzogXCJwb3J0cmFpdFwiLFxuICB9LFxuICB1cmw6IHsgaWNvbjogbWRpV2ViIH0sXG4gIHZpZGVvOiB7IGljb246IG1kaVZpZGVvLCBsYXlvdXQ6IFwiZ3JpZFwiIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhUGlja2VkRXZlbnQge1xuICBpdGVtOiBNZWRpYVBsYXllckl0ZW07XG4gIG5hdmlnYXRlSWRzOiBNZWRpYVBsYXllckl0ZW1JZFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhUGxheWVyVGh1bWJuYWlsIHtcbiAgY29udGVudF90eXBlOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sQnV0dG9uIHtcbiAgaWNvbjogc3RyaW5nO1xuICAvLyBVc2VkIGFzIGtleSBmb3IgYWN0aW9uIGFzIHdlbGwgYXMgdG9vbHRpcCBhbmQgYXJpYS1sYWJlbCB0cmFuc2xhdGlvbiBrZXlcbiAgYWN0aW9uOiBrZXlvZiBUcmFuc2xhdGlvbkRpY3RbXCJ1aVwiXVtcImNhcmRcIl1bXCJtZWRpYV9wbGF5ZXJcIl07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFQbGF5ZXJJdGVtIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgbWVkaWFfY29udGVudF90eXBlOiBzdHJpbmc7XG4gIG1lZGlhX2NvbnRlbnRfaWQ6IHN0cmluZztcbiAgbWVkaWFfY2xhc3M6IGtleW9mIFRyYW5zbGF0aW9uRGljdFtcInVpXCJdW1wiY29tcG9uZW50c1wiXVtcIm1lZGlhLWJyb3dzZXJcIl1bXCJjbGFzc1wiXTtcbiAgY2hpbGRyZW5fbWVkaWFfY2xhc3M/OiBzdHJpbmc7XG4gIGNhbl9wbGF5OiBib29sZWFuO1xuICBjYW5fZXhwYW5kOiBib29sZWFuO1xuICB0aHVtYm5haWw/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogTWVkaWFQbGF5ZXJJdGVtW107XG4gIG5vdF9zaG93bj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGJyb3dzZU1lZGlhUGxheWVyID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICBtZWRpYUNvbnRlbnRJZD86IHN0cmluZyxcbiAgbWVkaWFDb250ZW50VHlwZT86IHN0cmluZ1xuKTogUHJvbWlzZTxNZWRpYVBsYXllckl0ZW0+ID0+XG4gIGhhc3MuY2FsbFdTPE1lZGlhUGxheWVySXRlbT4oe1xuICAgIHR5cGU6IFwibWVkaWFfcGxheWVyL2Jyb3dzZV9tZWRpYVwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gICAgbWVkaWFfY29udGVudF9pZDogbWVkaWFDb250ZW50SWQsXG4gICAgbWVkaWFfY29udGVudF90eXBlOiBtZWRpYUNvbnRlbnRUeXBlLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRQcm9ncmVzcyA9IChzdGF0ZU9iajogTWVkaWFQbGF5ZXJFbnRpdHkpOiBudW1iZXIgPT4ge1xuICBsZXQgcHJvZ3Jlc3MgPSBzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX3Bvc2l0aW9uITtcblxuICBpZiAoc3RhdGVPYmouc3RhdGUgIT09IFwicGxheWluZ1wiKSB7XG4gICAgcmV0dXJuIHByb2dyZXNzO1xuICB9XG4gIHByb2dyZXNzICs9XG4gICAgKERhdGUubm93KCkgLVxuICAgICAgbmV3IERhdGUoc3RhdGVPYmouYXR0cmlidXRlcy5tZWRpYV9wb3NpdGlvbl91cGRhdGVkX2F0ISkuZ2V0VGltZSgpKSAvXG4gICAgMTAwMC4wO1xuICAvLyBQcmV2ZW50IG5lZ2F0aXZlIHZhbHVlcywgc28gd2UgZG8gbm90IGdvIGJhY2sgdG8gNTk6NTkgYXQgdGhlIHN0YXJ0XG4gIC8vIGZvciBleGFtcGxlIGlmIHRoZXJlIGFyZSBzbGlnaHQgY2xvY2sgc3luYyBkZWx0YXMgYmV0d2VlbiBiYWNrZW5kIGFuZCBmcm9udGVuZCBhbmRcbiAgLy8gdGhlcmVmb3JlIG1lZGlhX3Bvc2l0aW9uX3VwZGF0ZWRfYXQgbWlnaHQgYmUgc2xpZ2h0bHkgbGFyZ2VyIHRoYW4gRGF0ZS5ub3coKS5cbiAgcmV0dXJuIHByb2dyZXNzIDwgMCA/IDAgOiBwcm9ncmVzcztcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlTWVkaWFEZXNjcmlwdGlvbiA9IChcbiAgc3RhdGVPYmo6IE1lZGlhUGxheWVyRW50aXR5XG4pOiBzdHJpbmcgPT4ge1xuICBsZXQgc2Vjb25kYXJ5VGl0bGU6IHN0cmluZztcblxuICBzd2l0Y2ggKHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfY29udGVudF90eXBlKSB7XG4gICAgY2FzZSBcIm11c2ljXCI6XG4gICAgY2FzZSBcImltYWdlXCI6XG4gICAgICBzZWNvbmRhcnlUaXRsZSA9IHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfYXJ0aXN0ITtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwbGF5bGlzdFwiOlxuICAgICAgc2Vjb25kYXJ5VGl0bGUgPSBzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX3BsYXlsaXN0ITtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJ0dnNob3dcIjpcbiAgICAgIHNlY29uZGFyeVRpdGxlID0gc3RhdGVPYmouYXR0cmlidXRlcy5tZWRpYV9zZXJpZXNfdGl0bGUhO1xuICAgICAgaWYgKHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfc2Vhc29uKSB7XG4gICAgICAgIHNlY29uZGFyeVRpdGxlICs9IFwiIFNcIiArIHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfc2Vhc29uO1xuXG4gICAgICAgIGlmIChzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX2VwaXNvZGUpIHtcbiAgICAgICAgICBzZWNvbmRhcnlUaXRsZSArPSBcIkVcIiArIHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfZXBpc29kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNoYW5uZWxcIjpcbiAgICAgIHNlY29uZGFyeVRpdGxlID0gc3RhdGVPYmouYXR0cmlidXRlcy5tZWRpYV9jaGFubmVsITtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzZWNvbmRhcnlUaXRsZSA9IHN0YXRlT2JqLmF0dHJpYnV0ZXMuYXBwX25hbWUgfHwgXCJcIjtcbiAgfVxuXG4gIHJldHVybiBzZWNvbmRhcnlUaXRsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlTWVkaWFDb250cm9scyA9IChcbiAgc3RhdGVPYmo6IE1lZGlhUGxheWVyRW50aXR5LFxuICB1c2VFeHRlbmRlZENvbnRyb2xzID0gZmFsc2Vcbik6IENvbnRyb2xCdXR0b25bXSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghc3RhdGVPYmopIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3Qgc3RhdGUgPSBzdGF0ZU9iai5zdGF0ZTtcblxuICBpZiAoaXNVbmF2YWlsYWJsZVN0YXRlKHN0YXRlKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoc3RhdGUgPT09IFwib2ZmXCIpIHtcbiAgICByZXR1cm4gc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuVFVSTl9PTilcbiAgICAgID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGljb246IG1kaVBvd2VyLFxuICAgICAgICAgICAgYWN0aW9uOiBcInR1cm5fb25cIixcbiAgICAgICAgICB9LFxuICAgICAgICBdXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IGJ1dHRvbnM6IENvbnRyb2xCdXR0b25bXSA9IFtdO1xuXG4gIGlmIChzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIE1lZGlhUGxheWVyRW50aXR5RmVhdHVyZS5UVVJOX09GRikpIHtcbiAgICBidXR0b25zLnB1c2goe1xuICAgICAgaWNvbjogbWRpUG93ZXIsXG4gICAgICBhY3Rpb246IFwidHVybl9vZmZcIixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGFzc3VtZWRTdGF0ZSA9IHN0YXRlT2JqLmF0dHJpYnV0ZXMuYXNzdW1lZF9zdGF0ZSA9PT0gdHJ1ZTtcbiAgY29uc3Qgc3RhdGVBdHRyID0gc3RhdGVPYmouYXR0cmlidXRlcztcblxuICBpZiAoXG4gICAgKHN0YXRlID09PSBcInBsYXlpbmdcIiB8fCBzdGF0ZSA9PT0gXCJwYXVzZWRcIiB8fCBhc3N1bWVkU3RhdGUpICYmXG4gICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuU0hVRkZMRV9TRVQpICYmXG4gICAgdXNlRXh0ZW5kZWRDb250cm9sc1xuICApIHtcbiAgICBidXR0b25zLnB1c2goe1xuICAgICAgaWNvbjogc3RhdGVBdHRyLnNodWZmbGUgPT09IHRydWUgPyBtZGlTaHVmZmxlIDogbWRpU2h1ZmZsZURpc2FibGVkLFxuICAgICAgYWN0aW9uOiBcInNodWZmbGVfc2V0XCIsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoXG4gICAgKHN0YXRlID09PSBcInBsYXlpbmdcIiB8fCBzdGF0ZSA9PT0gXCJwYXVzZWRcIiB8fCBhc3N1bWVkU3RhdGUpICYmXG4gICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuUFJFVklPVVNfVFJBQ0spXG4gICkge1xuICAgIGJ1dHRvbnMucHVzaCh7XG4gICAgICBpY29uOiBtZGlTa2lwUHJldmlvdXMsXG4gICAgICBhY3Rpb246IFwibWVkaWFfcHJldmlvdXNfdHJhY2tcIixcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChcbiAgICAhYXNzdW1lZFN0YXRlICYmXG4gICAgKChzdGF0ZSA9PT0gXCJwbGF5aW5nXCIgJiZcbiAgICAgIChzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIE1lZGlhUGxheWVyRW50aXR5RmVhdHVyZS5QQVVTRSkgfHxcbiAgICAgICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuU1RPUCkpKSB8fFxuICAgICAgKChzdGF0ZSA9PT0gXCJwYXVzZWRcIiB8fCBzdGF0ZSA9PT0gXCJpZGxlXCIpICYmXG4gICAgICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgTWVkaWFQbGF5ZXJFbnRpdHlGZWF0dXJlLlBMQVkpKSB8fFxuICAgICAgKHN0YXRlID09PSBcIm9uXCIgJiZcbiAgICAgICAgKHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgTWVkaWFQbGF5ZXJFbnRpdHlGZWF0dXJlLlBMQVkpIHx8XG4gICAgICAgICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuUEFVU0UpKSkpXG4gICkge1xuICAgIGJ1dHRvbnMucHVzaCh7XG4gICAgICBpY29uOlxuICAgICAgICBzdGF0ZSA9PT0gXCJvblwiXG4gICAgICAgICAgPyBtZGlQbGF5UGF1c2VcbiAgICAgICAgICA6IHN0YXRlICE9PSBcInBsYXlpbmdcIlxuICAgICAgICAgID8gbWRpUGxheVxuICAgICAgICAgIDogc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuUEFVU0UpXG4gICAgICAgICAgPyBtZGlQYXVzZVxuICAgICAgICAgIDogbWRpU3RvcCxcbiAgICAgIGFjdGlvbjpcbiAgICAgICAgc3RhdGUgIT09IFwicGxheWluZ1wiXG4gICAgICAgICAgPyBcIm1lZGlhX3BsYXlcIlxuICAgICAgICAgIDogc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuUEFVU0UpXG4gICAgICAgICAgPyBcIm1lZGlhX3BhdXNlXCJcbiAgICAgICAgICA6IFwibWVkaWFfc3RvcFwiLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKFxuICAgIGFzc3VtZWRTdGF0ZSAmJlxuICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgTWVkaWFQbGF5ZXJFbnRpdHlGZWF0dXJlLlBMQVkpXG4gICkge1xuICAgIGJ1dHRvbnMucHVzaCh7XG4gICAgICBpY29uOiBtZGlQbGF5LFxuICAgICAgYWN0aW9uOiBcIm1lZGlhX3BsYXlcIixcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChcbiAgICBhc3N1bWVkU3RhdGUgJiZcbiAgICBzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIE1lZGlhUGxheWVyRW50aXR5RmVhdHVyZS5QQVVTRSlcbiAgKSB7XG4gICAgYnV0dG9ucy5wdXNoKHtcbiAgICAgIGljb246IG1kaVBhdXNlLFxuICAgICAgYWN0aW9uOiBcIm1lZGlhX3BhdXNlXCIsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoXG4gICAgYXNzdW1lZFN0YXRlICYmXG4gICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuU1RPUClcbiAgKSB7XG4gICAgYnV0dG9ucy5wdXNoKHtcbiAgICAgIGljb246IG1kaVN0b3AsXG4gICAgICBhY3Rpb246IFwibWVkaWFfc3RvcFwiLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKFxuICAgIChzdGF0ZSA9PT0gXCJwbGF5aW5nXCIgfHwgc3RhdGUgPT09IFwicGF1c2VkXCIgfHwgYXNzdW1lZFN0YXRlKSAmJlxuICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgTWVkaWFQbGF5ZXJFbnRpdHlGZWF0dXJlLk5FWFRfVFJBQ0spXG4gICkge1xuICAgIGJ1dHRvbnMucHVzaCh7XG4gICAgICBpY29uOiBtZGlTa2lwTmV4dCxcbiAgICAgIGFjdGlvbjogXCJtZWRpYV9uZXh0X3RyYWNrXCIsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoXG4gICAgKHN0YXRlID09PSBcInBsYXlpbmdcIiB8fCBzdGF0ZSA9PT0gXCJwYXVzZWRcIiB8fCBhc3N1bWVkU3RhdGUpICYmXG4gICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBNZWRpYVBsYXllckVudGl0eUZlYXR1cmUuUkVQRUFUX1NFVCkgJiZcbiAgICB1c2VFeHRlbmRlZENvbnRyb2xzXG4gICkge1xuICAgIGJ1dHRvbnMucHVzaCh7XG4gICAgICBpY29uOlxuICAgICAgICBzdGF0ZUF0dHIucmVwZWF0ID09PSBcImFsbFwiXG4gICAgICAgICAgPyBtZGlSZXBlYXRcbiAgICAgICAgICA6IHN0YXRlQXR0ci5yZXBlYXQgPT09IFwib25lXCJcbiAgICAgICAgICA/IG1kaVJlcGVhdE9uY2VcbiAgICAgICAgICA6IG1kaVJlcGVhdE9mZixcbiAgICAgIGFjdGlvbjogXCJyZXBlYXRfc2V0XCIsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYnV0dG9ucy5sZW5ndGggPiAwID8gYnV0dG9ucyA6IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRNZWRpYVRpbWUgPSAoc2Vjb25kczogbnVtYmVyIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcbiAgaWYgKHNlY29uZHMgPT09IHVuZGVmaW5lZCB8fCBzZWNvbmRzID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgbGV0IHNlY29uZHNTdHJpbmcgPSBuZXcgRGF0ZShzZWNvbmRzICogMTAwMCkudG9JU09TdHJpbmcoKTtcbiAgc2Vjb25kc1N0cmluZyA9XG4gICAgc2Vjb25kcyA+IDM2MDBcbiAgICAgID8gc2Vjb25kc1N0cmluZy5zdWJzdHJpbmcoMTEsIDE2KVxuICAgICAgOiBzZWNvbmRzU3RyaW5nLnN1YnN0cmluZygxNCwgMTkpO1xuICByZXR1cm4gc2Vjb25kc1N0cmluZy5yZXBsYWNlKC9eMCsvLCBcIlwiKS5wYWRTdGFydCg0LCBcIjBcIik7XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYW51cE1lZGlhVGl0bGUgPSAodGl0bGU/OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXRpdGxlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IGluZGV4ID0gdGl0bGUuaW5kZXhPZihcIj9hdXRoU2lnPVwiKTtcbiAgbGV0IGNsZWFuVGl0bGUgPSBpbmRleCA+IDAgPyB0aXRsZS5zbGljZSgwLCBpbmRleCkgOiB0aXRsZTtcblxuICBpZiAoY2xlYW5UaXRsZS5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xuICAgIGNsZWFuVGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQoY2xlYW5UaXRsZS5zcGxpdChcIi9cIikucG9wKCkhKTtcbiAgfVxuXG4gIHJldHVybiBjbGVhblRpdGxlO1xufTtcblxuLyoqXG4gKiBTZXQgdm9sdW1lIG9mIGEgbWVkaWEgcGxheWVyIGVudGl0eS5cbiAqIEBwYXJhbSBoYXNzIEhvbWUgQXNzaXN0YW50IG9iamVjdFxuICogQHBhcmFtIGVudGl0eV9pZCBlbnRpdHkgSUQgb2YgbWVkaWEgcGxheWVyXG4gKiBAcGFyYW0gdm9sdW1lX2xldmVsIG51bWJlciBiZXR3ZWVuIDAuLjFcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRNZWRpYVBsYXllclZvbHVtZSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5X2lkOiBzdHJpbmcsXG4gIHZvbHVtZV9sZXZlbDogbnVtYmVyXG4pID0+XG4gIGhhc3MuY2FsbFNlcnZpY2UoXCJtZWRpYV9wbGF5ZXJcIiwgXCJ2b2x1bWVfc2V0XCIsIHsgZW50aXR5X2lkLCB2b2x1bWVfbGV2ZWwgfSk7XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVNZWRpYUNvbnRyb2xDbGljayA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGVPYmo6IE1lZGlhUGxheWVyRW50aXR5LFxuICBhY3Rpb246IHN0cmluZ1xuKSA9PlxuICBoYXNzIS5jYWxsU2VydmljZShcbiAgICBcIm1lZGlhX3BsYXllclwiLFxuICAgIGFjdGlvbixcbiAgICBhY3Rpb24gPT09IFwic2h1ZmZsZV9zZXRcIlxuICAgICAgPyB7XG4gICAgICAgICAgZW50aXR5X2lkOiBzdGF0ZU9iaiEuZW50aXR5X2lkLFxuICAgICAgICAgIHNodWZmbGU6ICFzdGF0ZU9iaiEuYXR0cmlidXRlcy5zaHVmZmxlLFxuICAgICAgICB9XG4gICAgICA6IGFjdGlvbiA9PT0gXCJyZXBlYXRfc2V0XCJcbiAgICAgID8ge1xuICAgICAgICAgIGVudGl0eV9pZDogc3RhdGVPYmohLmVudGl0eV9pZCxcbiAgICAgICAgICByZXBlYXQ6XG4gICAgICAgICAgICBzdGF0ZU9iaiEuYXR0cmlidXRlcy5yZXBlYXQgPT09IFwiYWxsXCJcbiAgICAgICAgICAgICAgPyBcIm9uZVwiXG4gICAgICAgICAgICAgIDogc3RhdGVPYmohLmF0dHJpYnV0ZXMucmVwZWF0ID09PSBcIm9mZlwiXG4gICAgICAgICAgICAgID8gXCJhbGxcIlxuICAgICAgICAgICAgICA6IFwib2ZmXCIsXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIGVudGl0eV9pZDogc3RhdGVPYmohLmVudGl0eV9pZCxcbiAgICAgICAgfVxuICApO1xuXG5leHBvcnQgY29uc3QgbWVkaWFQbGF5ZXJQbGF5TWVkaWEgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eV9pZDogc3RyaW5nLFxuICBtZWRpYV9jb250ZW50X2lkOiBzdHJpbmcsXG4gIG1lZGlhX2NvbnRlbnRfdHlwZTogc3RyaW5nLFxuICBleHRyYToge1xuICAgIGVucXVldWU/OiBcInBsYXlcIiB8IFwibmV4dFwiIHwgXCJhZGRcIiB8IFwicmVwbGFjZVwiO1xuICAgIGFubm91bmNlPzogYm9vbGVhbjtcbiAgfSA9IHt9XG4pID0+IHtcbiAgLy8gV2Ugc2V0IHRleHQtdG8tc3BlZWNoIHRvIGFubm91bmNlLlxuICBpZiAoXG4gICAgIWV4dHJhLmVucXVldWUgJiZcbiAgICBleHRyYS5hbm5vdW5jZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgaXNUVFNNZWRpYVNvdXJjZShtZWRpYV9jb250ZW50X2lkKVxuICApIHtcbiAgICBleHRyYS5hbm5vdW5jZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGhhc3MuY2FsbFNlcnZpY2UoXCJtZWRpYV9wbGF5ZXJcIiwgXCJwbGF5X21lZGlhXCIsIHtcbiAgICBlbnRpdHlfaWQsXG4gICAgbWVkaWFfY29udGVudF9pZCxcbiAgICBtZWRpYV9jb250ZW50X3R5cGUsXG4gICAgLi4uZXh0cmEsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/media-player.ts\n");

/***/ }),

/***/ "./src/data/tts.ts":
/*!*************************!*\
  !*** ./src/data/tts.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertTextToSpeech: () => (/* binding */ convertTextToSpeech),\n/* harmony export */   getProviderFromTTSMediaSource: () => (/* binding */ getProviderFromTTSMediaSource),\n/* harmony export */   getTTSEngine: () => (/* binding */ getTTSEngine),\n/* harmony export */   isTTSMediaSource: () => (/* binding */ isTTSMediaSource),\n/* harmony export */   listTTSEngines: () => (/* binding */ listTTSEngines),\n/* harmony export */   listTTSVoices: () => (/* binding */ listTTSVoices)\n/* harmony export */ });\nconst convertTextToSpeech = (hass, data) => hass.callApi(\"POST\", \"tts_get_url\", data);\nconst TTS_MEDIA_SOURCE_PREFIX = \"media-source://tts/\";\nconst isTTSMediaSource = mediaContentId => mediaContentId.startsWith(TTS_MEDIA_SOURCE_PREFIX);\nconst getProviderFromTTSMediaSource = mediaContentId => mediaContentId.substring(TTS_MEDIA_SOURCE_PREFIX.length);\nconst listTTSEngines = (hass, language, country) => hass.callWS({\n  type: \"tts/engine/list\",\n  language,\n  country\n});\nconst getTTSEngine = (hass, engine_id) => hass.callWS({\n  type: \"tts/engine/get\",\n  engine_id\n});\nconst listTTSVoices = (hass, engine_id, language) => hass.callWS({\n  type: \"tts/engine/voices\",\n  engine_id,\n  language\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS90dHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBWUE7QUFXQTtBQUVBO0FBR0E7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS90dHMudHM/ZDlkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVFRTRW5naW5lIHtcbiAgZW5naW5lX2lkOiBzdHJpbmc7XG4gIHN1cHBvcnRlZF9sYW5ndWFnZXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUVFNWb2ljZSB7XG4gIHZvaWNlX2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnZlcnRUZXh0VG9TcGVlY2ggPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGRhdGE6IHtcbiAgICBwbGF0Zm9ybTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjYWNoZT86IGJvb2xlYW47XG4gICAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB9XG4pID0+IGhhc3MuY2FsbEFwaTx7IHVybDogc3RyaW5nOyBwYXRoOiBzdHJpbmcgfT4oXCJQT1NUXCIsIFwidHRzX2dldF91cmxcIiwgZGF0YSk7XG5cbmNvbnN0IFRUU19NRURJQV9TT1VSQ0VfUFJFRklYID0gXCJtZWRpYS1zb3VyY2U6Ly90dHMvXCI7XG5cbmV4cG9ydCBjb25zdCBpc1RUU01lZGlhU291cmNlID0gKG1lZGlhQ29udGVudElkOiBzdHJpbmcpID0+XG4gIG1lZGlhQ29udGVudElkLnN0YXJ0c1dpdGgoVFRTX01FRElBX1NPVVJDRV9QUkVGSVgpO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvdmlkZXJGcm9tVFRTTWVkaWFTb3VyY2UgPSAobWVkaWFDb250ZW50SWQ6IHN0cmluZykgPT5cbiAgbWVkaWFDb250ZW50SWQuc3Vic3RyaW5nKFRUU19NRURJQV9TT1VSQ0VfUFJFRklYLmxlbmd0aCk7XG5cbmV4cG9ydCBjb25zdCBsaXN0VFRTRW5naW5lcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmcsXG4gIGNvdW50cnk/OiBzdHJpbmdcbik6IFByb21pc2U8eyBwcm92aWRlcnM6IFRUU0VuZ2luZVtdIH0+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcInR0cy9lbmdpbmUvbGlzdFwiLFxuICAgIGxhbmd1YWdlLFxuICAgIGNvdW50cnksXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZ2V0VFRTRW5naW5lID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbmdpbmVfaWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx7IHByb3ZpZGVyOiBUVFNFbmdpbmUgfT4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwidHRzL2VuZ2luZS9nZXRcIixcbiAgICBlbmdpbmVfaWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgbGlzdFRUU1ZvaWNlcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW5naW5lX2lkOiBzdHJpbmcsXG4gIGxhbmd1YWdlOiBzdHJpbmdcbik6IFByb21pc2U8eyB2b2ljZXM6IFRUU1ZvaWNlW10gfCBudWxsIH0+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcInR0cy9lbmdpbmUvdm9pY2VzXCIsXG4gICAgZW5naW5lX2lkLFxuICAgIGxhbmd1YWdlLFxuICB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/tts.ts\n");

/***/ })

}]);