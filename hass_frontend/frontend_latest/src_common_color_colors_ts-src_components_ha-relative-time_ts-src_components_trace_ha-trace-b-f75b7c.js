"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_common_color_colors_ts-src_components_ha-relative-time_ts-src_components_trace_ha-trace-b-f75b7c"],{

/***/ "./src/common/color/colors.ts":
/*!************************************!*\
  !*** ./src/common/color/colors.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLORS: () => (/* binding */ COLORS),\n/* harmony export */   getColorByIndex: () => (/* binding */ getColorByIndex),\n/* harmony export */   getGraphColorByIndex: () => (/* binding */ getGraphColorByIndex)\n/* harmony export */ });\nconst COLORS = [\"#44739e\", \"#984ea3\", \"#00d2d5\", \"#ff7f00\", \"#af8d00\", \"#7f80cd\", \"#b3e900\", \"#c42e60\", \"#a65628\", \"#f781bf\", \"#8dd3c7\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#fccde5\", \"#bc80bd\", \"#ffed6f\", \"#c4eaff\", \"#cf8c00\", \"#1b9e77\", \"#d95f02\", \"#e7298a\", \"#e6ab02\", \"#a6761d\", \"#0097ff\", \"#00d067\", \"#f43600\", \"#4ba93b\", \"#5779bb\", \"#927acc\", \"#97ee3f\", \"#bf3947\", \"#9f5b00\", \"#f48758\", \"#8caed6\", \"#f2b94f\", \"#eff26e\", \"#e43872\", \"#d9b100\", \"#9d7a00\", \"#698cff\", \"#d9d9d9\", \"#00d27e\", \"#d06800\", \"#009f82\", \"#c49200\", \"#cbe8ff\", \"#fecddf\", \"#c27eb6\", \"#8cd2ce\", \"#c4b8d9\", \"#f883b0\", \"#a49100\", \"#f48800\", \"#27d0df\", \"#a04a9b\"];\nfunction getColorByIndex(index) {\n  return COLORS[index % COLORS.length];\n}\nfunction getGraphColorByIndex(index, style) {\n  // The CSS vars for the colors use range 1..n, so we need to adjust the index from the internal 0..n color index range.\n  return style.getPropertyValue(`--graph-color-${index + 1}`) || getColorByIndex(index);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2NvbG9yL2NvbG9ycy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQTREQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFJQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9jb2xvci9jb2xvcnMudHM/MzRkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQ09MT1JTID0gW1xuICBcIiM0NDczOWVcIixcbiAgXCIjOTg0ZWEzXCIsXG4gIFwiIzAwZDJkNVwiLFxuICBcIiNmZjdmMDBcIixcbiAgXCIjYWY4ZDAwXCIsXG4gIFwiIzdmODBjZFwiLFxuICBcIiNiM2U5MDBcIixcbiAgXCIjYzQyZTYwXCIsXG4gIFwiI2E2NTYyOFwiLFxuICBcIiNmNzgxYmZcIixcbiAgXCIjOGRkM2M3XCIsXG4gIFwiI2JlYmFkYVwiLFxuICBcIiNmYjgwNzJcIixcbiAgXCIjODBiMWQzXCIsXG4gIFwiI2ZkYjQ2MlwiLFxuICBcIiNmY2NkZTVcIixcbiAgXCIjYmM4MGJkXCIsXG4gIFwiI2ZmZWQ2ZlwiLFxuICBcIiNjNGVhZmZcIixcbiAgXCIjY2Y4YzAwXCIsXG4gIFwiIzFiOWU3N1wiLFxuICBcIiNkOTVmMDJcIixcbiAgXCIjZTcyOThhXCIsXG4gIFwiI2U2YWIwMlwiLFxuICBcIiNhNjc2MWRcIixcbiAgXCIjMDA5N2ZmXCIsXG4gIFwiIzAwZDA2N1wiLFxuICBcIiNmNDM2MDBcIixcbiAgXCIjNGJhOTNiXCIsXG4gIFwiIzU3NzliYlwiLFxuICBcIiM5MjdhY2NcIixcbiAgXCIjOTdlZTNmXCIsXG4gIFwiI2JmMzk0N1wiLFxuICBcIiM5ZjViMDBcIixcbiAgXCIjZjQ4NzU4XCIsXG4gIFwiIzhjYWVkNlwiLFxuICBcIiNmMmI5NGZcIixcbiAgXCIjZWZmMjZlXCIsXG4gIFwiI2U0Mzg3MlwiLFxuICBcIiNkOWIxMDBcIixcbiAgXCIjOWQ3YTAwXCIsXG4gIFwiIzY5OGNmZlwiLFxuICBcIiNkOWQ5ZDlcIixcbiAgXCIjMDBkMjdlXCIsXG4gIFwiI2QwNjgwMFwiLFxuICBcIiMwMDlmODJcIixcbiAgXCIjYzQ5MjAwXCIsXG4gIFwiI2NiZThmZlwiLFxuICBcIiNmZWNkZGZcIixcbiAgXCIjYzI3ZWI2XCIsXG4gIFwiIzhjZDJjZVwiLFxuICBcIiNjNGI4ZDlcIixcbiAgXCIjZjg4M2IwXCIsXG4gIFwiI2E0OTEwMFwiLFxuICBcIiNmNDg4MDBcIixcbiAgXCIjMjdkMGRmXCIsXG4gIFwiI2EwNGE5YlwiLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbG9yQnlJbmRleChpbmRleDogbnVtYmVyKSB7XG4gIHJldHVybiBDT0xPUlNbaW5kZXggJSBDT0xPUlMubGVuZ3RoXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYXBoQ29sb3JCeUluZGV4KFxuICBpbmRleDogbnVtYmVyLFxuICBzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvblxuKSB7XG4gIC8vIFRoZSBDU1MgdmFycyBmb3IgdGhlIGNvbG9ycyB1c2UgcmFuZ2UgMS4ubiwgc28gd2UgbmVlZCB0byBhZGp1c3QgdGhlIGluZGV4IGZyb20gdGhlIGludGVybmFsIDAuLm4gY29sb3IgaW5kZXggcmFuZ2UuXG4gIHJldHVybiAoXG4gICAgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShgLS1ncmFwaC1jb2xvci0ke2luZGV4ICsgMX1gKSB8fFxuICAgIGdldENvbG9yQnlJbmRleChpbmRleClcbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/color/colors.ts\n");

/***/ }),

/***/ "./src/components/ha-relative-time.ts":
/*!********************************************!*\
  !*** ./src/components/ha-relative-time.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_string_capitalize_first_letter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/string/capitalize-first-letter */ \"./src/common/string/capitalize-first-letter.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__]);\n_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nlet HaRelativeTime = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-relative-time\")], function (_initialize, _ReactiveElement) {\n  class HaRelativeTime extends _ReactiveElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaRelativeTime,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"datetime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean\n      })],\n      key: \"capitalize\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_interval\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"disconnectedCallback\", this).call(this);\n        this._clearInterval();\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"connectedCallback\", this).call(this);\n        if (this.datetime) {\n          this._startInterval();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"createRenderRoot\",\n      value: function createRenderRoot() {\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._updateRelative();\n      }\n    }, {\n      kind: \"method\",\n      key: \"update\",\n      value: function update(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"update\", this).call(this, changedProps);\n        this._updateRelative();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearInterval\",\n      value: function _clearInterval() {\n        if (this._interval) {\n          window.clearInterval(this._interval);\n          this._interval = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startInterval\",\n      value: function _startInterval() {\n        this._clearInterval();\n\n        // update every 60 seconds\n        this._interval = window.setInterval(() => this._updateRelative(), 60000);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateRelative\",\n      value: function _updateRelative() {\n        if (!this.datetime) {\n          this.innerHTML = this.hass.localize(\"ui.components.relative_time.never\");\n        } else {\n          const relTime = (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__.relativeTime)(new Date(this.datetime), this.hass.locale);\n          this.innerHTML = this.capitalize ? (0,_common_string_capitalize_first_letter__WEBPACK_IMPORTED_MODULE_6__.capitalizeFirstLetter)(relTime) : relTime;\n        }\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.ReactiveElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1yZWxhdGl2ZS10aW1lLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEyREE7QUFBQTtBQUFBO0FBM0RBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvaGEtcmVsYXRpdmUtdGltZS50cz9jYWFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3BlcnR5VmFsdWVzLCBSZWFjdGl2ZUVsZW1lbnQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgcmVsYXRpdmVUaW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9kYXRldGltZS9yZWxhdGl2ZV90aW1lXCI7XG5pbXBvcnQgeyBjYXBpdGFsaXplRmlyc3RMZXR0ZXIgfSBmcm9tIFwiLi4vY29tbW9uL3N0cmluZy9jYXBpdGFsaXplLWZpcnN0LWxldHRlclwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtcmVsYXRpdmUtdGltZVwiKVxuY2xhc3MgSGFSZWxhdGl2ZVRpbWUgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBkYXRldGltZT86IHN0cmluZyB8IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgY2FwaXRhbGl6ZSA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2ludGVydmFsPzogbnVtYmVyO1xuXG4gIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICh0aGlzLmRhdGV0aW1lKSB7XG4gICAgICB0aGlzLl9zdGFydEludGVydmFsKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLl91cGRhdGVSZWxhdGl2ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy5fdXBkYXRlUmVsYXRpdmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFySW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2ludGVydmFsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zdGFydEludGVydmFsKCk6IHZvaWQge1xuICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcblxuICAgIC8vIHVwZGF0ZSBldmVyeSA2MCBzZWNvbmRzXG4gICAgdGhpcy5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5fdXBkYXRlUmVsYXRpdmUoKSwgNjAwMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlUmVsYXRpdmUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRhdGV0aW1lKSB7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMucmVsYXRpdmVfdGltZS5uZXZlclwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVsVGltZSA9IHJlbGF0aXZlVGltZShuZXcgRGF0ZSh0aGlzLmRhdGV0aW1lKSwgdGhpcy5oYXNzLmxvY2FsZSk7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuY2FwaXRhbGl6ZVxuICAgICAgICA/IGNhcGl0YWxpemVGaXJzdExldHRlcihyZWxUaW1lKVxuICAgICAgICA6IHJlbFRpbWU7XG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1yZWxhdGl2ZS10aW1lXCI6IEhhUmVsYXRpdmVUaW1lO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-relative-time.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-timeline.ts":
/*!*********************************************!*\
  !*** ./src/components/trace/ha-timeline.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTimeline: () => (/* binding */ HaTimeline)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_svg_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n\nconst mdiCircleOutline = \"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\n\n\n\n\nlet HaTimeline = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-timeline\")], function (_initialize, _LitElement) {\n  class HaTimeline extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"label\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"raised\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"notEnabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"lastItem\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: String\n      })],\n      key: \"icon\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"moreItems\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_showMore\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <div class=\"timeline-start\">\n        ${this.label ? \"\" : lit__WEBPACK_IMPORTED_MODULE_1__.html`\n              <ha-svg-icon .path=${this.icon || mdiCircleOutline}></ha-svg-icon>\n            `}\n        ${this.lastItem ? \"\" : lit__WEBPACK_IMPORTED_MODULE_1__.html`<div class=\"line\"></div>`}\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n        ${!this.moreItems ? \"\" : lit__WEBPACK_IMPORTED_MODULE_1__.html`\n              <div>\n                ${this._showMore ||\n        // If there is only 1 item hidden behind \"show more\", just show it\n        // instead of showing the more info link. We're not animals.\n        this.moreItems.length === 1 ? this.moreItems : lit__WEBPACK_IMPORTED_MODULE_1__.html`\n                      <button class=\"link\" @click=${this._handleShowMore}>\n                        Show ${this.moreItems.length} more items\n                      </button>\n                    `}\n              </div>\n            `}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleShowMore\",\n      value: function _handleShowMore() {\n        this._showMore = true;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_1__.css`\n        :host {\n          display: flex;\n          flex-direction: row;\n        }\n        :host(:not([lastItem])) {\n          min-height: 50px;\n        }\n        :host([label]) {\n          margin-top: -8px;\n          font-style: italic;\n          color: var(--timeline-label-color, var(--secondary-text-color));\n        }\n        .timeline-start {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin-right: 8px;\n          width: 24px;\n        }\n        :host([notEnabled]) ha-svg-icon {\n          opacity: 0.5;\n        }\n        ha-svg-icon {\n          color: var(\n            --timeline-ball-color,\n            var(--timeline-color, var(--secondary-text-color))\n          );\n          border-radius: 50%;\n        }\n        :host([raised]) ha-svg-icon {\n          transform: scale(1.3);\n        }\n        .line {\n          flex: 1;\n          width: 2px;\n          background-color: var(\n            --timeline-line-color,\n            var(--timeline-color, var(--secondary-text-color))\n          );\n          margin: 4px 0;\n        }\n        .content {\n          margin-top: 2px;\n        }\n        :host(:not([lastItem])) .content {\n          padding-bottom: 16px;\n        }\n        :host([label]) .content {\n          margin-top: 0;\n          padding-top: 6px;\n        }\n      `, _resources_styles__WEBPACK_IMPORTED_MODULE_3__.buttonLinkStyle];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10aW1lbGluZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBNkdBO0FBQUE7QUFBQTtBQTdHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRpbWVsaW5lLnRzPzlmNjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWRpQ2lyY2xlT3V0bGluZSB9IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBjc3MsIGh0bWwsIExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBidXR0b25MaW5rU3R5bGUgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IFwiLi4vaGEtc3ZnLWljb25cIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS10aW1lbGluZVwiKVxuZXhwb3J0IGNsYXNzIEhhVGltZWxpbmUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KSBwdWJsaWMgbGFiZWwgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyByYWlzZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH0pIG5vdEVuYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBsYXN0SXRlbSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KSBwdWJsaWMgaWNvbj86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBtb3JlSXRlbXM/OiBUZW1wbGF0ZVJlc3VsdFtdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3Nob3dNb3JlID0gZmFsc2U7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lbGluZS1zdGFydFwiPlxuICAgICAgICAke3RoaXMubGFiZWxcbiAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgIDxoYS1zdmctaWNvbiAucGF0aD0ke3RoaXMuaWNvbiB8fCBtZGlDaXJjbGVPdXRsaW5lfT48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgYH1cbiAgICAgICAgJHt0aGlzLmxhc3RJdGVtID8gXCJcIiA6IGh0bWxgPGRpdiBjbGFzcz1cImxpbmVcIj48L2Rpdj5gfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgICR7IXRoaXMubW9yZUl0ZW1zXG4gICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICR7dGhpcy5fc2hvd01vcmUgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IDEgaXRlbSBoaWRkZW4gYmVoaW5kIFwic2hvdyBtb3JlXCIsIGp1c3Qgc2hvdyBpdFxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2Ygc2hvd2luZyB0aGUgbW9yZSBpbmZvIGxpbmsuIFdlJ3JlIG5vdCBhbmltYWxzLlxuICAgICAgICAgICAgICAgIHRoaXMubW9yZUl0ZW1zLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgICAgPyB0aGlzLm1vcmVJdGVtc1xuICAgICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsaW5rXCIgQGNsaWNrPSR7dGhpcy5faGFuZGxlU2hvd01vcmV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyAke3RoaXMubW9yZUl0ZW1zLmxlbmd0aH0gbW9yZSBpdGVtc1xuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGB9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlU2hvd01vcmUoKSB7XG4gICAgdGhpcy5fc2hvd01vcmUgPSB0cnVlO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFtsYXN0SXRlbV0pKSB7XG4gICAgICAgICAgbWluLWhlaWdodDogNTBweDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbbGFiZWxdKSB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogLThweDtcbiAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRpbWVsaW5lLWxhYmVsLWNvbG9yLCB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcikpO1xuICAgICAgICB9XG4gICAgICAgIC50aW1lbGluZS1zdGFydCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW25vdEVuYWJsZWRdKSBoYS1zdmctaWNvbiB7XG4gICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICB9XG4gICAgICAgIGhhLXN2Zy1pY29uIHtcbiAgICAgICAgICBjb2xvcjogdmFyKFxuICAgICAgICAgICAgLS10aW1lbGluZS1iYWxsLWNvbG9yLFxuICAgICAgICAgICAgdmFyKC0tdGltZWxpbmUtY29sb3IsIHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbcmFpc2VkXSkgaGEtc3ZnLWljb24ge1xuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4zKTtcbiAgICAgICAgfVxuICAgICAgICAubGluZSB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICB3aWR0aDogMnB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgICAgICAgIC0tdGltZWxpbmUtbGluZS1jb2xvcixcbiAgICAgICAgICAgIHZhcigtLXRpbWVsaW5lLWNvbG9yLCB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcikpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBtYXJnaW46IDRweCAwO1xuICAgICAgICB9XG4gICAgICAgIC5jb250ZW50IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAycHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoOm5vdChbbGFzdEl0ZW1dKSkgLmNvbnRlbnQge1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtsYWJlbF0pIC5jb250ZW50IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgICAgIHBhZGRpbmctdG9wOiA2cHg7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgICBidXR0b25MaW5rU3R5bGUsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtdGltZWxpbmVcIjogSGFUaW1lbGluZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/trace/ha-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-blueprint-config.ts":
/*!***********************************************************!*\
  !*** ./src/components/trace/ha-trace-blueprint-config.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceBlueprintConfig: () => (/* binding */ HaTraceBlueprintConfig)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n\n\n\n\n\n\nlet HaTraceBlueprintConfig = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-blueprint-config\")], function (_initialize, _LitElement) {\n  class HaTraceBlueprintConfig extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceBlueprintConfig,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_2__.html`\n      <ha-code-editor\n        .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(this.trace.blueprint_inputs || \"\").trimRight()}\n        readOnly\n        dir=\"ltr\"\n      ></ha-code-editor>\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1ibHVlcHJpbnQtY29uZmlnLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWNBO0FBQUE7QUFBQTtBQWRBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLWJsdWVwcmludC1jb25maWcudHM/NTY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkdW1wIH0gZnJvbSBcImpzLXlhbWxcIjtcbmltcG9ydCB7IGh0bWwsIExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCBcIi4uL2hhLWNvZGUtZWRpdG9yXCI7XG5pbXBvcnQgXCIuLi9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgVHJhY2VFeHRlbmRlZCB9IGZyb20gXCIuLi8uLi9kYXRhL3RyYWNlXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtdHJhY2UtYmx1ZXByaW50LWNvbmZpZ1wiKVxuZXhwb3J0IGNsYXNzIEhhVHJhY2VCbHVlcHJpbnRDb25maWcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgdHJhY2UhOiBUcmFjZUV4dGVuZGVkO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhLWNvZGUtZWRpdG9yXG4gICAgICAgIC52YWx1ZT0ke2R1bXAodGhpcy50cmFjZS5ibHVlcHJpbnRfaW5wdXRzIHx8IFwiXCIpLnRyaW1SaWdodCgpfVxuICAgICAgICByZWFkT25seVxuICAgICAgICBkaXI9XCJsdHJcIlxuICAgICAgPjwvaGEtY29kZS1lZGl0b3I+XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtdHJhY2UtYmx1ZXByaW50LWNvbmZpZ1wiOiBIYVRyYWNlQmx1ZXByaW50Q29uZmlnO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-blueprint-config.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-config.ts":
/*!*************************************************!*\
  !*** ./src/components/trace/ha-trace-config.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceConfig: () => (/* binding */ HaTraceConfig)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n\n\n\n\n\n\nlet HaTraceConfig = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-config\")], function (_initialize, _LitElement) {\n  class HaTraceConfig extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceConfig,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_2__.html`\n      <ha-code-editor\n        .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(this.trace.config).trimRight()}\n        readOnly\n        dir=\"ltr\"\n      ></ha-code-editor>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_2__.css``];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1jb25maWcudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBa0JBO0FBQUE7QUFBQTtBQWxCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLWNvbmZpZy50cz81ZDQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGR1bXAgfSBmcm9tIFwianMteWFtbFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IFwiLi4vaGEtY29kZS1lZGl0b3JcIjtcbmltcG9ydCBcIi4uL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyBUcmFjZUV4dGVuZGVkIH0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS10cmFjZS1jb25maWdcIilcbmV4cG9ydCBjbGFzcyBIYVRyYWNlQ29uZmlnIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlITogVHJhY2VFeHRlbmRlZDtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jb2RlLWVkaXRvclxuICAgICAgICAudmFsdWU9JHtkdW1wKHRoaXMudHJhY2UuY29uZmlnKS50cmltUmlnaHQoKX1cbiAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgZGlyPVwibHRyXCJcbiAgICAgID48L2hhLWNvZGUtZWRpdG9yPlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtjc3NgYF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXRyYWNlLWNvbmZpZ1wiOiBIYVRyYWNlQ29uZmlnO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-config.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-logbook.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/ha-trace-logbook.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceLogbook: () => (/* binding */ HaTraceLogbook)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../panels/logbook/ha-logbook-renderer */ \"./src/panels/logbook/ha-logbook-renderer.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__]);\n_panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet HaTraceLogbook = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-trace-logbook\")], function (_initialize, _LitElement) {\n  class HaTraceLogbook extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceLogbook,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return this.logbookEntries.length ? lit__WEBPACK_IMPORTED_MODULE_1__.html`\n          <ha-logbook-renderer\n            relative-time\n            .hass=${this.hass}\n            .entries=${this.logbookEntries}\n            .narrow=${this.narrow}\n          ></ha-logbook-renderer>\n          <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n        ` : lit__WEBPACK_IMPORTED_MODULE_1__.html`<div class=\"padded-box\">\n          No Logbook entries found for this step.\n        </div>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_1__.css`\n        .padded-box {\n          padding: 16px;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1sb2dib29rLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWtDQTtBQUFBO0FBQUE7QUFsQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGEtdHJhY2UtbG9nYm9vay50cz80YThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcywgQ1NTUmVzdWx0R3JvdXAsIGh0bWwsIExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IExvZ2Jvb2tFbnRyeSB9IGZyb20gXCIuLi8uLi9kYXRhL2xvZ2Jvb2tcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGF0LWxvZ2Jvb2stbm90ZVwiO1xuaW1wb3J0IFwiLi4vLi4vcGFuZWxzL2xvZ2Jvb2svaGEtbG9nYm9vay1yZW5kZXJlclwiO1xuaW1wb3J0IHsgVHJhY2VFeHRlbmRlZCB9IGZyb20gXCIuLi8uLi9kYXRhL3RyYWNlXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtdHJhY2UtbG9nYm9va1wiKVxuZXhwb3J0IGNsYXNzIEhhVHJhY2VMb2dib29rIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSkgcHVibGljIG5hcnJvdyE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgdHJhY2UhOiBUcmFjZUV4dGVuZGVkO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGxvZ2Jvb2tFbnRyaWVzITogTG9nYm9va0VudHJ5W107XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIHRoaXMubG9nYm9va0VudHJpZXMubGVuZ3RoXG4gICAgICA/IGh0bWxgXG4gICAgICAgICAgPGhhLWxvZ2Jvb2stcmVuZGVyZXJcbiAgICAgICAgICAgIHJlbGF0aXZlLXRpbWVcbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLmVudHJpZXM9JHt0aGlzLmxvZ2Jvb2tFbnRyaWVzfVxuICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgID48L2hhLWxvZ2Jvb2stcmVuZGVyZXI+XG4gICAgICAgICAgPGhhdC1sb2dib29rLW5vdGUgLmRvbWFpbj0ke3RoaXMudHJhY2UuZG9tYWlufT48L2hhdC1sb2dib29rLW5vdGU+XG4gICAgICAgIGBcbiAgICAgIDogaHRtbGA8ZGl2IGNsYXNzPVwicGFkZGVkLWJveFwiPlxuICAgICAgICAgIE5vIExvZ2Jvb2sgZW50cmllcyBmb3VuZCBmb3IgdGhpcyBzdGVwLlxuICAgICAgICA8L2Rpdj5gO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBjc3NgXG4gICAgICAgIC5wYWRkZWQtYm94IHtcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXRyYWNlLWxvZ2Jvb2tcIjogSGFUcmFjZUxvZ2Jvb2s7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-logbook.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-path-details.ts":
/*!*******************************************************!*\
  !*** ./src/components/trace/ha-trace-path-details.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTracePathDetails: () => (/* binding */ HaTracePathDetails)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _data_trace__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../data/trace */ \"./src/data/trace.ts\");\n/* harmony import */ var _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../panels/logbook/ha-logbook-renderer */ \"./src/panels/logbook/ha-logbook-renderer.ts\");\n/* harmony import */ var _trace_tab_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./trace-tab-styles */ \"./src/components/trace/trace-tab-styles.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__, _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__]);\n([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__, _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\nlet HaTracePathDetails = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-path-details\")], function (_initialize, _LitElement) {\n  class HaTracePathDetails extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTracePathDetails,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)()],\n      key: \"renderedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)()],\n      key: \"trackedNodes\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_view\",\n      value() {\n        return \"config\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_2__.html`\n      <div class=\"padded-box trace-info\">\n        ${this._renderSelectedTraceInfo()}\n      </div>\n\n      <div class=\"tabs top\">\n        ${[[\"config\", \"Step Config\"], [\"changed_variables\", \"Changed Variables\"], [\"logbook\", \"Related logbook entries\"]].map(([view, label]) => lit__WEBPACK_IMPORTED_MODULE_2__.html`\n            <button\n              .view=${view}\n              class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_4__.classMap)({\n          active: this._view === view\n        })}\n              @click=${this._showTab}\n            >\n              ${label}\n            </button>\n          `)}\n      </div>\n      ${this._view === \"config\" ? this._renderSelectedConfig() : this._view === \"changed_variables\" ? this._renderChangedVars() : this._renderLogbook()}\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderSelectedTraceInfo\",\n      value: function _renderSelectedTraceInfo() {\n        var _this$selected;\n        const paths = this.trace.trace;\n        if (!((_this$selected = this.selected) !== null && _this$selected !== void 0 && _this$selected.path)) {\n          return \"Select a node on the left for more information.\";\n        }\n\n        // HACK: default choice node is not part of paths. We filter them out here by checking parent.\n        const pathParts = this.selected.path.split(\"/\");\n        if (pathParts[pathParts.length - 1] === \"default\") {\n          var _parentTraceInfo$, _parentTraceInfo$$res;\n          const parentTraceInfo = paths[pathParts.slice(0, pathParts.length - 1).join(\"/\")];\n          if (parentTraceInfo && ((_parentTraceInfo$ = parentTraceInfo[0]) === null || _parentTraceInfo$ === void 0 ? void 0 : (_parentTraceInfo$$res = _parentTraceInfo$.result) === null || _parentTraceInfo$$res === void 0 ? void 0 : _parentTraceInfo$$res.choice) === \"default\") {\n            return \"The default action was executed because no options matched.\";\n          }\n        }\n        if (!(this.selected.path in paths)) {\n          return \"This node was not executed and so no further trace information is available.\";\n        }\n        const parts = [];\n        let active = false;\n        for (const curPath of Object.keys(this.trace.trace)) {\n          // Include all trace results until the next rendered node.\n          // Rendered nodes also include non-chosen choose paths.\n          if (active) {\n            if (curPath in this.renderedNodes) {\n              break;\n            }\n          } else if (curPath === this.selected.path) {\n            active = true;\n          } else {\n            continue;\n          }\n          const data = paths[curPath];\n          parts.push(data.map((trace, idx) => {\n            const {\n              path,\n              timestamp,\n              result,\n              error,\n              changed_variables,\n              ...rest\n            } = trace;\n            if ((result === null || result === void 0 ? void 0 : result.enabled) === false) {\n              return lit__WEBPACK_IMPORTED_MODULE_2__.html`This node was disabled and skipped during execution so\n            no further trace information is available.`;\n            }\n            return lit__WEBPACK_IMPORTED_MODULE_2__.html`\n            ${curPath === this.selected.path ? \"\" : lit__WEBPACK_IMPORTED_MODULE_2__.html`<h2>${curPath.substr(this.selected.path.length + 1)}</h2>`}\n            ${data.length === 1 ? \"\" : lit__WEBPACK_IMPORTED_MODULE_2__.html`<h3>Iteration ${idx + 1}</h3>`}\n            Executed:\n            ${(0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__.formatDateTimeWithSeconds)(new Date(timestamp), this.hass.locale)}<br />\n            ${result ? lit__WEBPACK_IMPORTED_MODULE_2__.html`Result:\n                  <pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(result)}</pre>` : error ? lit__WEBPACK_IMPORTED_MODULE_2__.html`<div class=\"error\">Error: ${error}</div>` : \"\"}\n            ${Object.keys(rest).length === 0 ? \"\" : lit__WEBPACK_IMPORTED_MODULE_2__.html`<pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(rest)}</pre>`}\n          `;\n          }));\n        }\n        return parts;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderSelectedConfig\",\n      value: function _renderSelectedConfig() {\n        var _this$selected2;\n        if (!((_this$selected2 = this.selected) !== null && _this$selected2 !== void 0 && _this$selected2.path)) {\n          return \"\";\n        }\n        const config = (0,_data_trace__WEBPACK_IMPORTED_MODULE_9__.getDataFromPath)(this.trace.config, this.selected.path);\n        return config ? lit__WEBPACK_IMPORTED_MODULE_2__.html`<ha-code-editor\n          .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(config).trimRight()}\n          readOnly\n          dir=\"ltr\"\n        ></ha-code-editor>` : \"Unable to find config\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderChangedVars\",\n      value: function _renderChangedVars() {\n        const paths = this.trace.trace;\n        const data = paths[this.selected.path];\n        return lit__WEBPACK_IMPORTED_MODULE_2__.html`\n      <div class=\"padded-box\">\n        ${data.map((trace, idx) => lit__WEBPACK_IMPORTED_MODULE_2__.html`\n            ${idx > 0 ? lit__WEBPACK_IMPORTED_MODULE_2__.html`<p>Iteration ${idx + 1}</p>` : \"\"}\n            ${Object.keys(trace.changed_variables || {}).length === 0 ? \"No variables changed\" : lit__WEBPACK_IMPORTED_MODULE_2__.html`<pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(trace.changed_variables).trimRight()}</pre>`}\n          `)}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderLogbook\",\n      value: function _renderLogbook() {\n        const paths = this.trace.trace;\n        const startTrace = paths[this.selected.path];\n        const trackedPaths = Object.keys(this.trackedNodes);\n        const index = trackedPaths.indexOf(this.selected.path);\n        if (index === -1) {\n          return lit__WEBPACK_IMPORTED_MODULE_2__.html`<div class=\"padded-box\">Node not tracked.</div>`;\n        }\n        let entries;\n        if (index === trackedPaths.length - 1) {\n          // it's the last entry. Find all logbook entries after start.\n          const startTime = new Date(startTrace[0].timestamp);\n          const idx = this.logbookEntries.findIndex(entry => new Date(entry.when * 1000) >= startTime);\n          if (idx === -1) {\n            entries = [];\n          } else {\n            entries = this.logbookEntries.slice(idx);\n          }\n        } else {\n          const nextTrace = paths[trackedPaths[index + 1]];\n          const startTime = new Date(startTrace[0].timestamp);\n          const endTime = new Date(nextTrace[0].timestamp);\n          entries = [];\n          for (const entry of this.logbookEntries || []) {\n            const entryDate = new Date(entry.when * 1000);\n            if (entryDate >= startTime) {\n              if (entryDate < endTime) {\n                entries.push(entry);\n              } else {\n                // All following entries are no longer valid.\n                break;\n              }\n            }\n          }\n        }\n        return entries.length ? lit__WEBPACK_IMPORTED_MODULE_2__.html`\n          <ha-logbook-renderer\n            relative-time\n            .hass=${this.hass}\n            .entries=${entries}\n            .narrow=${this.narrow}\n          ></ha-logbook-renderer>\n          <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n        ` : lit__WEBPACK_IMPORTED_MODULE_2__.html`<div class=\"padded-box\">\n          No Logbook entries found for this step.\n        </div>`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showTab\",\n      value: function _showTab(ev) {\n        this._view = ev.target.view;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_trace_tab_styles__WEBPACK_IMPORTED_MODULE_11__.traceTabStyles, lit__WEBPACK_IMPORTED_MODULE_2__.css`\n        .padded-box {\n          margin: 16px;\n        }\n\n        :host(:not([narrow])) .trace-info {\n          min-height: 250px;\n        }\n\n        pre {\n          margin: 0;\n        }\n\n        .error {\n          color: var(--error-color);\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1wYXRoLWRldGFpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBb1BBO0FBQUE7QUFBQTtBQXBQQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFJQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGEtdHJhY2UtcGF0aC1kZXRhaWxzLnRzPzNiYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHVtcCB9IGZyb20gXCJqcy15YW1sXCI7XG5pbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfZGF0ZV90aW1lXCI7XG5pbXBvcnQgXCIuLi9oYS1jb2RlLWVkaXRvclwiO1xuaW1wb3J0IFwiLi4vaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4vaGF0LWxvZ2Jvb2stbm90ZVwiO1xuaW1wb3J0IHsgTG9nYm9va0VudHJ5IH0gZnJvbSBcIi4uLy4uL2RhdGEvbG9nYm9va1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uVHJhY2VTdGVwLFxuICBDaG9vc2VBY3Rpb25UcmFjZVN0ZXAsXG4gIGdldERhdGFGcm9tUGF0aCxcbiAgVHJhY2VFeHRlbmRlZCxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCBcIi4uLy4uL3BhbmVscy9sb2dib29rL2hhLWxvZ2Jvb2stcmVuZGVyZXJcIjtcbmltcG9ydCB7IHRyYWNlVGFiU3R5bGVzIH0gZnJvbSBcIi4vdHJhY2UtdGFiLXN0eWxlc1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBOb2RlSW5mbyB9IGZyb20gXCIuL2hhdC1zY3JpcHQtZ3JhcGhcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS10cmFjZS1wYXRoLWRldGFpbHNcIilcbmV4cG9ydCBjbGFzcyBIYVRyYWNlUGF0aERldGFpbHMgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KSBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB0cmFjZSE6IFRyYWNlRXh0ZW5kZWQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbG9nYm9va0VudHJpZXMhOiBMb2dib29rRW50cnlbXTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzZWxlY3RlZCE6IE5vZGVJbmZvO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyByZW5kZXJlZE5vZGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHRyYWNrZWROb2RlcyE6IFJlY29yZDxzdHJpbmcsIGFueT47XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfdmlldzogXCJjb25maWdcIiB8IFwiY2hhbmdlZF92YXJpYWJsZXNcIiB8IFwibG9nYm9va1wiID0gXCJjb25maWdcIjtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94IHRyYWNlLWluZm9cIj5cbiAgICAgICAgJHt0aGlzLl9yZW5kZXJTZWxlY3RlZFRyYWNlSW5mbygpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWJzIHRvcFwiPlxuICAgICAgICAke1tcbiAgICAgICAgICBbXCJjb25maWdcIiwgXCJTdGVwIENvbmZpZ1wiXSxcbiAgICAgICAgICBbXCJjaGFuZ2VkX3ZhcmlhYmxlc1wiLCBcIkNoYW5nZWQgVmFyaWFibGVzXCJdLFxuICAgICAgICAgIFtcImxvZ2Jvb2tcIiwgXCJSZWxhdGVkIGxvZ2Jvb2sgZW50cmllc1wiXSxcbiAgICAgICAgXS5tYXAoXG4gICAgICAgICAgKFt2aWV3LCBsYWJlbF0pID0+IGh0bWxgXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIC52aWV3PSR7dmlld31cbiAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IGFjdGl2ZTogdGhpcy5fdmlldyA9PT0gdmlldyB9KX1cbiAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd1RhYn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJHtsYWJlbH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIGBcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgJHt0aGlzLl92aWV3ID09PSBcImNvbmZpZ1wiXG4gICAgICAgID8gdGhpcy5fcmVuZGVyU2VsZWN0ZWRDb25maWcoKVxuICAgICAgICA6IHRoaXMuX3ZpZXcgPT09IFwiY2hhbmdlZF92YXJpYWJsZXNcIlxuICAgICAgICA/IHRoaXMuX3JlbmRlckNoYW5nZWRWYXJzKClcbiAgICAgICAgOiB0aGlzLl9yZW5kZXJMb2dib29rKCl9XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlclNlbGVjdGVkVHJhY2VJbmZvKCkge1xuICAgIGNvbnN0IHBhdGhzID0gdGhpcy50cmFjZS50cmFjZTtcblxuICAgIGlmICghdGhpcy5zZWxlY3RlZD8ucGF0aCkge1xuICAgICAgcmV0dXJuIFwiU2VsZWN0IGEgbm9kZSBvbiB0aGUgbGVmdCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIjtcbiAgICB9XG5cbiAgICAvLyBIQUNLOiBkZWZhdWx0IGNob2ljZSBub2RlIGlzIG5vdCBwYXJ0IG9mIHBhdGhzLiBXZSBmaWx0ZXIgdGhlbSBvdXQgaGVyZSBieSBjaGVja2luZyBwYXJlbnQuXG4gICAgY29uc3QgcGF0aFBhcnRzID0gdGhpcy5zZWxlY3RlZC5wYXRoLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXSA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIGNvbnN0IHBhcmVudFRyYWNlSW5mbyA9IHBhdGhzW1xuICAgICAgICBwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oXCIvXCIpXG4gICAgICBdIGFzIENob29zZUFjdGlvblRyYWNlU3RlcFtdO1xuXG4gICAgICBpZiAocGFyZW50VHJhY2VJbmZvICYmIHBhcmVudFRyYWNlSW5mb1swXT8ucmVzdWx0Py5jaG9pY2UgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIHJldHVybiBcIlRoZSBkZWZhdWx0IGFjdGlvbiB3YXMgZXhlY3V0ZWQgYmVjYXVzZSBubyBvcHRpb25zIG1hdGNoZWQuXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCEodGhpcy5zZWxlY3RlZC5wYXRoIGluIHBhdGhzKSkge1xuICAgICAgcmV0dXJuIFwiVGhpcyBub2RlIHdhcyBub3QgZXhlY3V0ZWQgYW5kIHNvIG5vIGZ1cnRoZXIgdHJhY2UgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlLlwiO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnRzOiBUZW1wbGF0ZVJlc3VsdFtdW10gPSBbXTtcblxuICAgIGxldCBhY3RpdmUgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgY3VyUGF0aCBvZiBPYmplY3Qua2V5cyh0aGlzLnRyYWNlLnRyYWNlKSkge1xuICAgICAgLy8gSW5jbHVkZSBhbGwgdHJhY2UgcmVzdWx0cyB1bnRpbCB0aGUgbmV4dCByZW5kZXJlZCBub2RlLlxuICAgICAgLy8gUmVuZGVyZWQgbm9kZXMgYWxzbyBpbmNsdWRlIG5vbi1jaG9zZW4gY2hvb3NlIHBhdGhzLlxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAoY3VyUGF0aCBpbiB0aGlzLnJlbmRlcmVkTm9kZXMpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdXJQYXRoID09PSB0aGlzLnNlbGVjdGVkLnBhdGgpIHtcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhOiBBY3Rpb25UcmFjZVN0ZXBbXSA9IHBhdGhzW2N1clBhdGhdO1xuXG4gICAgICBwYXJ0cy5wdXNoKFxuICAgICAgICBkYXRhLm1hcCgodHJhY2UsIGlkeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgcGF0aCwgdGltZXN0YW1wLCByZXN1bHQsIGVycm9yLCBjaGFuZ2VkX3ZhcmlhYmxlcywgLi4ucmVzdCB9ID1cbiAgICAgICAgICAgIHRyYWNlIGFzIGFueTtcblxuICAgICAgICAgIGlmIChyZXN1bHQ/LmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbGBUaGlzIG5vZGUgd2FzIGRpc2FibGVkIGFuZCBza2lwcGVkIGR1cmluZyBleGVjdXRpb24gc29cbiAgICAgICAgICAgIG5vIGZ1cnRoZXIgdHJhY2UgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlLmA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICAke2N1clBhdGggPT09IHRoaXMuc2VsZWN0ZWQucGF0aFxuICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgOiBodG1sYDxoMj4ke2N1clBhdGguc3Vic3RyKHRoaXMuc2VsZWN0ZWQucGF0aC5sZW5ndGggKyAxKX08L2gyPmB9XG4gICAgICAgICAgICAke2RhdGEubGVuZ3RoID09PSAxID8gXCJcIiA6IGh0bWxgPGgzPkl0ZXJhdGlvbiAke2lkeCArIDF9PC9oMz5gfVxuICAgICAgICAgICAgRXhlY3V0ZWQ6XG4gICAgICAgICAgICAke2Zvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMoXG4gICAgICAgICAgICAgIG5ldyBEYXRlKHRpbWVzdGFtcCksXG4gICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICAgICAgICl9PGJyIC8+XG4gICAgICAgICAgICAke3Jlc3VsdFxuICAgICAgICAgICAgICA/IGh0bWxgUmVzdWx0OlxuICAgICAgICAgICAgICAgICAgPHByZT4ke2R1bXAocmVzdWx0KX08L3ByZT5gXG4gICAgICAgICAgICAgIDogZXJyb3JcbiAgICAgICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9XCJlcnJvclwiPkVycm9yOiAke2Vycm9yfTwvZGl2PmBcbiAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgJHtPYmplY3Qua2V5cyhyZXN0KS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgIDogaHRtbGA8cHJlPiR7ZHVtcChyZXN0KX08L3ByZT5gfVxuICAgICAgICAgIGA7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlclNlbGVjdGVkQ29uZmlnKCkge1xuICAgIGlmICghdGhpcy5zZWxlY3RlZD8ucGF0aCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IGdldERhdGFGcm9tUGF0aCh0aGlzLnRyYWNlIS5jb25maWcsIHRoaXMuc2VsZWN0ZWQucGF0aCk7XG4gICAgcmV0dXJuIGNvbmZpZ1xuICAgICAgPyBodG1sYDxoYS1jb2RlLWVkaXRvclxuICAgICAgICAgIC52YWx1ZT0ke2R1bXAoY29uZmlnKS50cmltUmlnaHQoKX1cbiAgICAgICAgICByZWFkT25seVxuICAgICAgICAgIGRpcj1cImx0clwiXG4gICAgICAgID48L2hhLWNvZGUtZWRpdG9yPmBcbiAgICAgIDogXCJVbmFibGUgdG8gZmluZCBjb25maWdcIjtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckNoYW5nZWRWYXJzKCkge1xuICAgIGNvbnN0IHBhdGhzID0gdGhpcy50cmFjZS50cmFjZTtcbiAgICBjb25zdCBkYXRhOiBBY3Rpb25UcmFjZVN0ZXBbXSA9IHBhdGhzW3RoaXMuc2VsZWN0ZWQucGF0aF07XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94XCI+XG4gICAgICAgICR7ZGF0YS5tYXAoXG4gICAgICAgICAgKHRyYWNlLCBpZHgpID0+IGh0bWxgXG4gICAgICAgICAgICAke2lkeCA+IDAgPyBodG1sYDxwPkl0ZXJhdGlvbiAke2lkeCArIDF9PC9wPmAgOiBcIlwifVxuICAgICAgICAgICAgJHtPYmplY3Qua2V5cyh0cmFjZS5jaGFuZ2VkX3ZhcmlhYmxlcyB8fCB7fSkubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgID8gXCJObyB2YXJpYWJsZXMgY2hhbmdlZFwiXG4gICAgICAgICAgICAgIDogaHRtbGA8cHJlPiR7ZHVtcCh0cmFjZS5jaGFuZ2VkX3ZhcmlhYmxlcykudHJpbVJpZ2h0KCl9PC9wcmU+YH1cbiAgICAgICAgICBgXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyTG9nYm9vaygpIHtcbiAgICBjb25zdCBwYXRocyA9IHRoaXMudHJhY2UudHJhY2U7XG4gICAgY29uc3Qgc3RhcnRUcmFjZSA9IHBhdGhzW3RoaXMuc2VsZWN0ZWQucGF0aF07XG4gICAgY29uc3QgdHJhY2tlZFBhdGhzID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkTm9kZXMpO1xuICAgIGNvbnN0IGluZGV4ID0gdHJhY2tlZFBhdGhzLmluZGV4T2YodGhpcy5zZWxlY3RlZC5wYXRoKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94XCI+Tm9kZSBub3QgdHJhY2tlZC48L2Rpdj5gO1xuICAgIH1cblxuICAgIGxldCBlbnRyaWVzOiBMb2dib29rRW50cnlbXTtcblxuICAgIGlmIChpbmRleCA9PT0gdHJhY2tlZFBhdGhzLmxlbmd0aCAtIDEpIHtcbiAgICAgIC8vIGl0J3MgdGhlIGxhc3QgZW50cnkuIEZpbmQgYWxsIGxvZ2Jvb2sgZW50cmllcyBhZnRlciBzdGFydC5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKHN0YXJ0VHJhY2VbMF0udGltZXN0YW1wKTtcbiAgICAgIGNvbnN0IGlkeCA9IHRoaXMubG9nYm9va0VudHJpZXMuZmluZEluZGV4KFxuICAgICAgICAoZW50cnkpID0+IG5ldyBEYXRlKGVudHJ5LndoZW4gKiAxMDAwKSA+PSBzdGFydFRpbWVcbiAgICAgICk7XG4gICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICBlbnRyaWVzID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRyaWVzID0gdGhpcy5sb2dib29rRW50cmllcy5zbGljZShpZHgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXh0VHJhY2UgPSBwYXRoc1t0cmFja2VkUGF0aHNbaW5kZXggKyAxXV07XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKHN0YXJ0VHJhY2VbMF0udGltZXN0YW1wKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShuZXh0VHJhY2VbMF0udGltZXN0YW1wKTtcblxuICAgICAgZW50cmllcyA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubG9nYm9va0VudHJpZXMgfHwgW10pIHtcbiAgICAgICAgY29uc3QgZW50cnlEYXRlID0gbmV3IERhdGUoZW50cnkud2hlbiAqIDEwMDApO1xuICAgICAgICBpZiAoZW50cnlEYXRlID49IHN0YXJ0VGltZSkge1xuICAgICAgICAgIGlmIChlbnRyeURhdGUgPCBlbmRUaW1lKSB7XG4gICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBbGwgZm9sbG93aW5nIGVudHJpZXMgYXJlIG5vIGxvbmdlciB2YWxpZC5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbnRyaWVzLmxlbmd0aFxuICAgICAgPyBodG1sYFxuICAgICAgICAgIDxoYS1sb2dib29rLXJlbmRlcmVyXG4gICAgICAgICAgICByZWxhdGl2ZS10aW1lXG4gICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgIC5lbnRyaWVzPSR7ZW50cmllc31cbiAgICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgICA+PC9oYS1sb2dib29rLXJlbmRlcmVyPlxuICAgICAgICAgIDxoYXQtbG9nYm9vay1ub3RlIC5kb21haW49JHt0aGlzLnRyYWNlLmRvbWFpbn0+PC9oYXQtbG9nYm9vay1ub3RlPlxuICAgICAgICBgXG4gICAgICA6IGh0bWxgPGRpdiBjbGFzcz1cInBhZGRlZC1ib3hcIj5cbiAgICAgICAgICBObyBMb2dib29rIGVudHJpZXMgZm91bmQgZm9yIHRoaXMgc3RlcC5cbiAgICAgICAgPC9kaXY+YDtcbiAgfVxuXG4gIHByaXZhdGUgX3Nob3dUYWIoZXYpIHtcbiAgICB0aGlzLl92aWV3ID0gZXYudGFyZ2V0LnZpZXc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRyYWNlVGFiU3R5bGVzLFxuICAgICAgY3NzYFxuICAgICAgICAucGFkZGVkLWJveCB7XG4gICAgICAgICAgbWFyZ2luOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QoOm5vdChbbmFycm93XSkpIC50cmFjZS1pbmZvIHtcbiAgICAgICAgICBtaW4taGVpZ2h0OiAyNTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZXJyb3ItY29sb3IpO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXRyYWNlLXBhdGgtZGV0YWlsc1wiOiBIYVRyYWNlUGF0aERldGFpbHM7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-path-details.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-timeline.ts":
/*!***************************************************!*\
  !*** ./src/components/trace/ha-trace-timeline.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceTimeline: () => (/* binding */ HaTraceTimeline)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hat-trace-timeline */ \"./src/components/trace/hat-trace-timeline.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__]);\n_hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet HaTraceTimeline = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-trace-timeline\")], function (_initialize, _LitElement) {\n  class HaTraceTimeline extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <hat-trace-timeline\n        .hass=${this.hass}\n        .trace=${this.trace}\n        .logbookEntries=${this.logbookEntries}\n        .selectedPath=${this.selected.path}\n        allowPick\n      >\n      </hat-trace-timeline>\n      <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_1__.css`\n        :host {\n          display: block;\n          padding: 16px;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS10aW1lbGluZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFpQ0E7QUFBQTtBQUFBO0FBakNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLXRpbWVsaW5lLnRzP2I3MjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IFwiLi9oYXQtbG9nYm9vay1ub3RlXCI7XG5pbXBvcnQgXCIuL2hhdC10cmFjZS10aW1lbGluZVwiO1xuaW1wb3J0IHR5cGUgeyBMb2dib29rRW50cnkgfSBmcm9tIFwiLi4vLi4vZGF0YS9sb2dib29rXCI7XG5pbXBvcnQgdHlwZSB7IFRyYWNlRXh0ZW5kZWQgfSBmcm9tIFwiLi4vLi4vZGF0YS90cmFjZVwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IE5vZGVJbmZvIH0gZnJvbSBcIi4vaGF0LXNjcmlwdC1ncmFwaFwiO1xuXG5AY3VzdG9tRWxlbWVudChcImhhLXRyYWNlLXRpbWVsaW5lXCIpXG5leHBvcnQgY2xhc3MgSGFUcmFjZVRpbWVsaW5lIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlITogVHJhY2VFeHRlbmRlZDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBsb2dib29rRW50cmllcyE6IExvZ2Jvb2tFbnRyeVtdO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHNlbGVjdGVkITogTm9kZUluZm87XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LXRyYWNlLXRpbWVsaW5lXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAudHJhY2U9JHt0aGlzLnRyYWNlfVxuICAgICAgICAubG9nYm9va0VudHJpZXM9JHt0aGlzLmxvZ2Jvb2tFbnRyaWVzfVxuICAgICAgICAuc2VsZWN0ZWRQYXRoPSR7dGhpcy5zZWxlY3RlZC5wYXRofVxuICAgICAgICBhbGxvd1BpY2tcbiAgICAgID5cbiAgICAgIDwvaGF0LXRyYWNlLXRpbWVsaW5lPlxuICAgICAgPGhhdC1sb2dib29rLW5vdGUgLmRvbWFpbj0ke3RoaXMudHJhY2UuZG9tYWlufT48L2hhdC1sb2dib29rLW5vdGU+XG4gICAgYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgY3NzYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS10cmFjZS10aW1lbGluZVwiOiBIYVRyYWNlVGltZWxpbmU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-branch.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-graph-branch.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphBranch: () => (/* binding */ HatGraphBranch)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphBranch = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-branch\")], function (_initialize, _LitElement) {\n  class HatGraphBranch extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphBranch,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"start\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"short\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_branches\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_totalWidth\",\n      value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_maxHeight\",\n      value() {\n        return 0;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateBranches\",\n      value: function _updateBranches(ev) {\n        let total_width = 0;\n        const heights = [];\n        const branches = [];\n        ev.target.assignedElements().forEach(c => {\n          const width = c.clientWidth;\n          const height = c.clientHeight;\n          branches.push({\n            x: width / 2 + total_width,\n            height,\n            start: c.hasAttribute(\"graphStart\"),\n            end: c.hasAttribute(\"graphEnd\"),\n            track: c.hasAttribute(\"track\")\n          });\n          total_width += width;\n          heights.push(height);\n        });\n        this._totalWidth = total_width;\n        this._maxHeight = Math.max(...heights);\n        this._branches = branches.sort((a, b) => {\n          if (a.track && !b.track) {\n            return 1;\n          }\n          if (a.track && b.track) {\n            return 0;\n          }\n          return -1;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <slot name=\"head\"></slot>\n      ${!this.start ? lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n            <svg\n              id=\"top\"\n              width=\"${this._totalWidth}\"\n            >\n              ${this._branches.map(branch => branch.start ? \"\" : lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n                  <path\n                    class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n          track: branch.track\n        })}\n                    d=\"\n                      M ${this._totalWidth / 2} 0\n                      L ${branch.x} ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.BRANCH_HEIGHT}\n                      \"/>\n                `)}\n            </svg>\n          ` : \"\"}\n      <div id=\"branches\">\n        <svg id=\"lines\" width=${this._totalWidth} height=${this._maxHeight}>\n          ${this._branches.map(branch => {\n          if (branch.end) return \"\";\n          return lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n                    <path\n                      class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            track: branch.track\n          })}\n                      d=\"\n                        M ${branch.x} ${branch.height}\n                        v ${this._maxHeight - branch.height}\n                        \"/>\n                  `;\n        })}\n        </svg>\n        <slot @slotchange=${this._updateBranches}></slot>\n      </div>\n\n      ${!this.short ? lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n            <svg\n              id=\"bottom\"\n              width=\"${this._totalWidth}\"\n            >\n              ${this._branches.map(branch => {\n          if (branch.end) return \"\";\n          return lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n                  <path\n                    class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            track: branch.track\n          })}\n                    d=\"\n                      M ${branch.x} 0\n                      V ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.SPACING}\n                      L ${this._totalWidth / 2} ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.BRANCH_HEIGHT + _hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.SPACING}\n                      \"/>\n                `;\n        })}\n            </svg>\n          ` : \"\"}\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      :host {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      :host(:focus) {\n        outline: none;\n      }\n      #branches {\n        position: relative;\n        display: flex;\n        flex-direction: row;\n        align-items: start;\n      }\n      ::slotted(*) {\n        z-index: 1;\n      }\n      ::slotted([slot=\"head\"]) {\n        margin-bottom: calc(var(--hat-graph-branch-height) / -2);\n      }\n      #lines {\n        position: absolute;\n      }\n      #top {\n        height: var(--hat-graph-branch-height);\n      }\n      #bottom {\n        height: calc(var(--hat-graph-branch-height) + var(--hat-graph-spacing));\n      }\n      path {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n      path.track {\n        stroke: var(--track-clr);\n      }\n      :host([disabled]) path {\n        stroke: var(--disabled-clr);\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtYnJhbmNoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBaUtBO0FBQUE7QUFBQTtBQWpLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhdC1ncmFwaC1icmFuY2gudHM/OGU2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIGh0bWwsIExpdEVsZW1lbnQsIHN2ZyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBCUkFOQ0hfSEVJR0hULCBTUEFDSU5HIH0gZnJvbSBcIi4vaGF0LWdyYXBoLWNvbnN0XCI7XG5cbmludGVyZmFjZSBCcmFuY2hDb25maWcge1xuICB4OiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBzdGFydDogYm9vbGVhbjtcbiAgZW5kOiBib29sZWFuO1xuICB0cmFjazogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAYXR0cmlidXRlIGFjdGl2ZVxuICogQGF0dHJpYnV0ZSB0cmFja1xuICovXG5AY3VzdG9tRWxlbWVudChcImhhdC1ncmFwaC1icmFuY2hcIilcbmV4cG9ydCBjbGFzcyBIYXRHcmFwaEJyYW5jaCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBCb29sZWFuIH0pIGRpc2FibGVkPzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHNlbGVjdGVkPzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHN0YXJ0ID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBzaG9ydCA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIF9icmFuY2hlczogQnJhbmNoQ29uZmlnW10gPSBbXTtcblxuICBwcml2YXRlIF90b3RhbFdpZHRoID0gMDtcblxuICBwcml2YXRlIF9tYXhIZWlnaHQgPSAwO1xuXG4gIHByaXZhdGUgX3VwZGF0ZUJyYW5jaGVzKGV2OiBFdmVudCkge1xuICAgIGxldCB0b3RhbF93aWR0aCA9IDA7XG4gICAgY29uc3QgaGVpZ2h0czogbnVtYmVyW10gPSBbXTtcbiAgICBjb25zdCBicmFuY2hlczogQnJhbmNoQ29uZmlnW10gPSBbXTtcbiAgICAoZXYudGFyZ2V0IGFzIEhUTUxTbG90RWxlbWVudCkuYXNzaWduZWRFbGVtZW50cygpLmZvckVhY2goKGMpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gYy5jbGllbnRXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGMuY2xpZW50SGVpZ2h0O1xuICAgICAgYnJhbmNoZXMucHVzaCh7XG4gICAgICAgIHg6IHdpZHRoIC8gMiArIHRvdGFsX3dpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHN0YXJ0OiBjLmhhc0F0dHJpYnV0ZShcImdyYXBoU3RhcnRcIiksXG4gICAgICAgIGVuZDogYy5oYXNBdHRyaWJ1dGUoXCJncmFwaEVuZFwiKSxcbiAgICAgICAgdHJhY2s6IGMuaGFzQXR0cmlidXRlKFwidHJhY2tcIiksXG4gICAgICB9KTtcbiAgICAgIHRvdGFsX3dpZHRoICs9IHdpZHRoO1xuICAgICAgaGVpZ2h0cy5wdXNoKGhlaWdodCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG90YWxXaWR0aCA9IHRvdGFsX3dpZHRoO1xuICAgIHRoaXMuX21heEhlaWdodCA9IE1hdGgubWF4KC4uLmhlaWdodHMpO1xuICAgIHRoaXMuX2JyYW5jaGVzID0gYnJhbmNoZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGEudHJhY2sgJiYgIWIudHJhY2spIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpZiAoYS50cmFjayAmJiBiLnRyYWNrKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHNsb3QgbmFtZT1cImhlYWRcIj48L3Nsb3Q+XG4gICAgICAkeyF0aGlzLnN0YXJ0XG4gICAgICAgID8gc3ZnYFxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICBpZD1cInRvcFwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiJHt0aGlzLl90b3RhbFdpZHRofVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICR7dGhpcy5fYnJhbmNoZXMubWFwKChicmFuY2gpID0+XG4gICAgICAgICAgICAgICAgYnJhbmNoLnN0YXJ0XG4gICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgIDogc3ZnYFxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgdHJhY2s6IGJyYW5jaC50cmFjayxcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIGQ9XCJcbiAgICAgICAgICAgICAgICAgICAgICBNICR7dGhpcy5fdG90YWxXaWR0aCAvIDJ9IDBcbiAgICAgICAgICAgICAgICAgICAgICBMICR7YnJhbmNoLnh9ICR7QlJBTkNIX0hFSUdIVH1cbiAgICAgICAgICAgICAgICAgICAgICBcIi8+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYFxuICAgICAgICA6IFwiXCJ9XG4gICAgICA8ZGl2IGlkPVwiYnJhbmNoZXNcIj5cbiAgICAgICAgPHN2ZyBpZD1cImxpbmVzXCIgd2lkdGg9JHt0aGlzLl90b3RhbFdpZHRofSBoZWlnaHQ9JHt0aGlzLl9tYXhIZWlnaHR9PlxuICAgICAgICAgICR7dGhpcy5fYnJhbmNoZXMubWFwKChicmFuY2gpID0+IHtcbiAgICAgICAgICAgIGlmIChicmFuY2guZW5kKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBzdmdgXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjazogYnJhbmNoLnRyYWNrLFxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIGQ9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIE0gJHticmFuY2gueH0gJHticmFuY2guaGVpZ2h0fVxuICAgICAgICAgICAgICAgICAgICAgICAgdiAke3RoaXMuX21heEhlaWdodCAtIGJyYW5jaC5oZWlnaHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBcIi8+XG4gICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPHNsb3QgQHNsb3RjaGFuZ2U9JHt0aGlzLl91cGRhdGVCcmFuY2hlc30+PC9zbG90PlxuICAgICAgPC9kaXY+XG5cbiAgICAgICR7IXRoaXMuc2hvcnRcbiAgICAgICAgPyBzdmdgXG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIGlkPVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIke3RoaXMuX3RvdGFsV2lkdGh9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJHt0aGlzLl9icmFuY2hlcy5tYXAoKGJyYW5jaCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChicmFuY2guZW5kKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ZnYFxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgdHJhY2s6IGJyYW5jaC50cmFjayxcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIGQ9XCJcbiAgICAgICAgICAgICAgICAgICAgICBNICR7YnJhbmNoLnh9IDBcbiAgICAgICAgICAgICAgICAgICAgICBWICR7U1BBQ0lOR31cbiAgICAgICAgICAgICAgICAgICAgICBMICR7dGhpcy5fdG90YWxXaWR0aCAvIDJ9ICR7QlJBTkNIX0hFSUdIVCArIFNQQUNJTkd9XG4gICAgICAgICAgICAgICAgICAgICAgXCIvPlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYFxuICAgICAgICA6IFwiXCJ9XG4gICAgYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIDpob3N0KDpmb2N1cykge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgICAgI2JyYW5jaGVzIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gICAgICB9XG4gICAgICA6OnNsb3R0ZWQoKikge1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgfVxuICAgICAgOjpzbG90dGVkKFtzbG90PVwiaGVhZFwiXSkge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiBjYWxjKHZhcigtLWhhdC1ncmFwaC1icmFuY2gtaGVpZ2h0KSAvIC0yKTtcbiAgICAgIH1cbiAgICAgICNsaW5lcyB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIH1cbiAgICAgICN0b3Age1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWhhdC1ncmFwaC1icmFuY2gtaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgICNib3R0b20ge1xuICAgICAgICBoZWlnaHQ6IGNhbGModmFyKC0taGF0LWdyYXBoLWJyYW5jaC1oZWlnaHQpICsgdmFyKC0taGF0LWdyYXBoLXNwYWNpbmcpKTtcbiAgICAgIH1cbiAgICAgIHBhdGgge1xuICAgICAgICBzdHJva2U6IHZhcigtLXN0cm9rZS1jbHIpO1xuICAgICAgICBzdHJva2Utd2lkdGg6IDI7XG4gICAgICAgIGZpbGw6IG5vbmU7XG4gICAgICB9XG4gICAgICBwYXRoLnRyYWNrIHtcbiAgICAgICAgc3Ryb2tlOiB2YXIoLS10cmFjay1jbHIpO1xuICAgICAgfVxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgcGF0aCB7XG4gICAgICAgIHN0cm9rZTogdmFyKC0tZGlzYWJsZWQtY2xyKTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtZ3JhcGgtYnJhbmNoXCI6IEhhdEdyYXBoQnJhbmNoO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-branch.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-const.ts":
/*!*************************************************!*\
  !*** ./src/components/trace/hat-graph-const.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BRANCH_HEIGHT: () => (/* binding */ BRANCH_HEIGHT),\n/* harmony export */   NODE_SIZE: () => (/* binding */ NODE_SIZE),\n/* harmony export */   SPACING: () => (/* binding */ SPACING)\n/* harmony export */ });\nconst SPACING = 10;\nconst NODE_SIZE = 30;\nconst BRANCH_HEIGHT = 20;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtY29uc3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtY29uc3QudHM/ZDYyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU1BBQ0lORyA9IDEwO1xuZXhwb3J0IGNvbnN0IE5PREVfU0laRSA9IDMwO1xuZXhwb3J0IGNvbnN0IEJSQU5DSF9IRUlHSFQgPSAyMDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-const.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-node.ts":
/*!************************************************!*\
  !*** ./src/components/trace/hat-graph-node.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphNode: () => (/* binding */ HatGraphNode)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphNode = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-node\")], function (_initialize, _LitElement) {\n  class HatGraphNode extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphNode,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"iconPath\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"notEnabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"graphStart\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"nofocus\"\n      })],\n      key: \"noFocus\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Number\n      })],\n      key: \"badge\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"noFocus\")) {\n          if (!this.hasAttribute(\"tabindex\") && !this.noFocus) {\n            this.setAttribute(\"tabindex\", \"0\");\n          } else if (changedProps.get(\"noFocus\") !== undefined && this.noFocus) {\n            this.removeAttribute(\"tabindex\");\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        const height = _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + (this.graphStart ? 2 : _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + 1);\n        const width = _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE;\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <svg\n        width=\"${width}px\"\n        height=\"${height}px\"\n        viewBox=\"-${Math.ceil(width / 2)} -${this.graphStart ? Math.ceil(height / 2) : Math.ceil((_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING * 2) / 2)} ${width} ${height}\"\n      >\n        ${this.graphStart ? `` : lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n          <path\n            class=\"connector\"\n            d=\"\n              M 0 ${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING - _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n              L 0 0\n            \"\n            line-caps=\"round\"\n          />\n          `}\n        <g class=\"node\">\n          <circle cx=\"0\" cy=\"0\" r=${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2} />\n          }\n          ${this.badge ? lit__WEBPACK_IMPORTED_MODULE_1__.svg`\n        <g class=\"number\">\n          <circle\n            cx=\"8\"\n            cy=${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n            r=\"8\"\n          ></circle>\n          <text\n            x=\"8\"\n            y=${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n            text-anchor=\"middle\"\n            alignment-baseline=\"middle\"\n          >${this.badge > 9 ? \"9+\" : this.badge}</text>\n        </g>\n      ` : \"\"}\n          <g style=\"pointer-events: none\" transform=\"translate(${-12} ${-12})\">\n            ${this.iconPath ? lit__WEBPACK_IMPORTED_MODULE_1__.svg`<path class=\"icon\" d=${this.iconPath}/>` : \"\"}\n          </g>\n        </g>\n      </svg>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        min-width: calc(var(--hat-graph-node-size) + var(--hat-graph-spacing));\n        height: calc(\n          var(--hat-graph-node-size) + var(--hat-graph-spacing) + 1px\n        );\n      }\n      :host([graphStart]) {\n        height: calc(var(--hat-graph-node-size) + 2px);\n      }\n      :host([track]) {\n        --stroke-clr: var(--track-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host([active]) circle {\n        --stroke-clr: var(--active-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host(:focus) {\n        outline: none;\n      }\n      :host(:hover) circle {\n        --stroke-clr: var(--hover-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host([notEnabled]) circle {\n        --stroke-clr: var(--disabled-clr);\n      }\n      :host([notEnabled][active]) circle {\n        --stroke-clr: var(--disabled-active-clr);\n      }\n      :host([notEnabled]:hover) circle {\n        --stroke-clr: var(--disabled-hover-clr);\n      }\n      svg {\n        width: 100%;\n        height: 100%;\n      }\n      circle,\n      path.connector {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n      circle {\n        fill: var(--background-clr);\n        stroke: var(--circle-clr, var(--stroke-clr));\n      }\n      .number circle {\n        fill: var(--track-clr);\n        stroke: none;\n        stroke-width: 0;\n      }\n      .number text {\n        font-size: smaller;\n      }\n      path.icon {\n        fill: var(--icon-clr);\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtbm9kZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQVFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEwSUE7QUFBQTtBQUFBO0FBMUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhdC1ncmFwaC1ub2RlLnRzPzNiNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3NzLFxuICBMaXRFbGVtZW50LFxuICBQcm9wZXJ0eVZhbHVlcyxcbiAgaHRtbCxcbiAgVGVtcGxhdGVSZXN1bHQsXG4gIHN2Zyxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IE5PREVfU0laRSwgU1BBQ0lORyB9IGZyb20gXCIuL2hhdC1ncmFwaC1jb25zdFwiO1xuXG4vKipcbiAqIEBhdHRyaWJ1dGUgYWN0aXZlXG4gKiBAYXR0cmlidXRlIHRyYWNrXG4gKi9cbkBjdXN0b21FbGVtZW50KFwiaGF0LWdyYXBoLW5vZGVcIilcbmV4cG9ydCBjbGFzcyBIYXRHcmFwaE5vZGUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KCkgaWNvblBhdGg/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9KSBkaXNhYmxlZD86IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9KSBub3RFbmFibGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9KSBncmFwaFN0YXJ0PzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6IFwibm9mb2N1c1wiIH0pIG5vRm9jdXMgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlLCB0eXBlOiBOdW1iZXIgfSkgYmFkZ2U/OiBudW1iZXI7XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwibm9Gb2N1c1wiKSkge1xuICAgICAgaWYgKCF0aGlzLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpICYmICF0aGlzLm5vRm9jdXMpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRQcm9wcy5nZXQoXCJub0ZvY3VzXCIpICE9PSB1bmRlZmluZWQgJiYgdGhpcy5ub0ZvY3VzKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgaGVpZ2h0ID0gTk9ERV9TSVpFICsgKHRoaXMuZ3JhcGhTdGFydCA/IDIgOiBTUEFDSU5HICsgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBTUEFDSU5HICsgTk9ERV9TSVpFO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN2Z1xuICAgICAgICB3aWR0aD1cIiR7d2lkdGh9cHhcIlxuICAgICAgICBoZWlnaHQ9XCIke2hlaWdodH1weFwiXG4gICAgICAgIHZpZXdCb3g9XCItJHtNYXRoLmNlaWwod2lkdGggLyAyKX0gLSR7dGhpcy5ncmFwaFN0YXJ0XG4gICAgICAgICAgPyBNYXRoLmNlaWwoaGVpZ2h0IC8gMilcbiAgICAgICAgICA6IE1hdGguY2VpbCgoTk9ERV9TSVpFICsgU1BBQ0lORyAqIDIpIC8gMil9ICR7d2lkdGh9ICR7aGVpZ2h0fVwiXG4gICAgICA+XG4gICAgICAgICR7dGhpcy5ncmFwaFN0YXJ0XG4gICAgICAgICAgPyBgYFxuICAgICAgICAgIDogc3ZnYFxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBjbGFzcz1cImNvbm5lY3RvclwiXG4gICAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgIE0gMCAkey1TUEFDSU5HIC0gTk9ERV9TSVpFIC8gMn1cbiAgICAgICAgICAgICAgTCAwIDBcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgICBsaW5lLWNhcHM9XCJyb3VuZFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICBgfVxuICAgICAgICA8ZyBjbGFzcz1cIm5vZGVcIj5cbiAgICAgICAgICA8Y2lyY2xlIGN4PVwiMFwiIGN5PVwiMFwiIHI9JHtOT0RFX1NJWkUgLyAyfSAvPlxuICAgICAgICAgIH1cbiAgICAgICAgICAke3RoaXMuYmFkZ2VcbiAgICAgICAgICAgID8gc3ZnYFxuICAgICAgICA8ZyBjbGFzcz1cIm51bWJlclwiPlxuICAgICAgICAgIDxjaXJjbGVcbiAgICAgICAgICAgIGN4PVwiOFwiXG4gICAgICAgICAgICBjeT0key1OT0RFX1NJWkUgLyAyfVxuICAgICAgICAgICAgcj1cIjhcIlxuICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICA8dGV4dFxuICAgICAgICAgICAgeD1cIjhcIlxuICAgICAgICAgICAgeT0key1OT0RFX1NJWkUgLyAyfVxuICAgICAgICAgICAgdGV4dC1hbmNob3I9XCJtaWRkbGVcIlxuICAgICAgICAgICAgYWxpZ25tZW50LWJhc2VsaW5lPVwibWlkZGxlXCJcbiAgICAgICAgICA+JHt0aGlzLmJhZGdlID4gOSA/IFwiOStcIiA6IHRoaXMuYmFkZ2V9PC90ZXh0PlxuICAgICAgICA8L2c+XG4gICAgICBgXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgPGcgc3R5bGU9XCJwb2ludGVyLWV2ZW50czogbm9uZVwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgkey0xMn0gJHstMTJ9KVwiPlxuICAgICAgICAgICAgJHt0aGlzLmljb25QYXRoID8gc3ZnYDxwYXRoIGNsYXNzPVwiaWNvblwiIGQ9JHt0aGlzLmljb25QYXRofS8+YCA6IFwiXCJ9XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICBgO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgbWluLXdpZHRoOiBjYWxjKHZhcigtLWhhdC1ncmFwaC1ub2RlLXNpemUpICsgdmFyKC0taGF0LWdyYXBoLXNwYWNpbmcpKTtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKFxuICAgICAgICAgIHZhcigtLWhhdC1ncmFwaC1ub2RlLXNpemUpICsgdmFyKC0taGF0LWdyYXBoLXNwYWNpbmcpICsgMXB4XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICA6aG9zdChbZ3JhcGhTdGFydF0pIHtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKHZhcigtLWhhdC1ncmFwaC1ub2RlLXNpemUpICsgMnB4KTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFt0cmFja10pIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS10cmFjay1jbHIpO1xuICAgICAgICAtLWljb24tY2xyOiB2YXIoLS1kZWZhdWx0LWljb24tY2xyKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFthY3RpdmVdKSBjaXJjbGUge1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLWFjdGl2ZS1jbHIpO1xuICAgICAgICAtLWljb24tY2xyOiB2YXIoLS1kZWZhdWx0LWljb24tY2xyKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KDpmb2N1cykge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgICAgOmhvc3QoOmhvdmVyKSBjaXJjbGUge1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLWhvdmVyLWNscik7XG4gICAgICAgIC0taWNvbi1jbHI6IHZhcigtLWRlZmF1bHQtaWNvbi1jbHIpO1xuICAgICAgfVxuICAgICAgOmhvc3QoW25vdEVuYWJsZWRdKSBjaXJjbGUge1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLWRpc2FibGVkLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdChbbm90RW5hYmxlZF1bYWN0aXZlXSkgY2lyY2xlIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1kaXNhYmxlZC1hY3RpdmUtY2xyKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFtub3RFbmFibGVkXTpob3ZlcikgY2lyY2xlIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1kaXNhYmxlZC1ob3Zlci1jbHIpO1xuICAgICAgfVxuICAgICAgc3ZnIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIH1cbiAgICAgIGNpcmNsZSxcbiAgICAgIHBhdGguY29ubmVjdG9yIHtcbiAgICAgICAgc3Ryb2tlOiB2YXIoLS1zdHJva2UtY2xyKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAyO1xuICAgICAgICBmaWxsOiBub25lO1xuICAgICAgfVxuICAgICAgY2lyY2xlIHtcbiAgICAgICAgZmlsbDogdmFyKC0tYmFja2dyb3VuZC1jbHIpO1xuICAgICAgICBzdHJva2U6IHZhcigtLWNpcmNsZS1jbHIsIHZhcigtLXN0cm9rZS1jbHIpKTtcbiAgICAgIH1cbiAgICAgIC5udW1iZXIgY2lyY2xlIHtcbiAgICAgICAgZmlsbDogdmFyKC0tdHJhY2stY2xyKTtcbiAgICAgICAgc3Ryb2tlOiBub25lO1xuICAgICAgICBzdHJva2Utd2lkdGg6IDA7XG4gICAgICB9XG4gICAgICAubnVtYmVyIHRleHQge1xuICAgICAgICBmb250LXNpemU6IHNtYWxsZXI7XG4gICAgICB9XG4gICAgICBwYXRoLmljb24ge1xuICAgICAgICBmaWxsOiB2YXIoLS1pY29uLWNscik7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGF0LWdyYXBoLW5vZGVcIjogSGF0R3JhcGhOb2RlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-node.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-spacer.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-graph-spacer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphSpacer: () => (/* binding */ HatGraphSpacer)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphSpacer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-spacer\")], function (_initialize, _LitElement) {\n  class HatGraphSpacer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphSpacer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      <svg viewBox=\"-${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING / 2} 0 10 ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + 1}\">\n        <path\n          d=\"\n              M 0 ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + 1}\n              V 0\n            \"\n          line-caps=\"round\"\n        />\n        }\n      </svg>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      svg {\n        width: var(--hat-graph-spacing);\n        height: calc(\n          var(--hat-graph-spacing) + var(--hat-graph-node-size) + 1px\n        );\n      }\n      :host([track]) {\n        --stroke-clr: var(--track-clr);\n      }\n      :host-context([disabled]) {\n        --stroke-clr: var(--disabled-clr);\n      }\n      path {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtc3BhY2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQTRDQTtBQUFBO0FBQUE7QUE1Q0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhdC1ncmFwaC1zcGFjZXIudHM/ZTIyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgU1BBQ0lORywgTk9ERV9TSVpFIH0gZnJvbSBcIi4vaGF0LWdyYXBoLWNvbnN0XCI7XG5cbi8qKlxuICogQGF0dHJpYnV0ZSBhY3RpdmVcbiAqIEBhdHRyaWJ1dGUgdHJhY2tcbiAqL1xuQGN1c3RvbUVsZW1lbnQoXCJoYXQtZ3JhcGgtc3BhY2VyXCIpXG5leHBvcnQgY2xhc3MgSGF0R3JhcGhTcGFjZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9KSBkaXNhYmxlZD86IGJvb2xlYW47XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN2ZyB2aWV3Qm94PVwiLSR7U1BBQ0lORyAvIDJ9IDAgMTAgJHtTUEFDSU5HICsgTk9ERV9TSVpFICsgMX1cIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgIE0gMCAke1NQQUNJTkcgKyBOT0RFX1NJWkUgKyAxfVxuICAgICAgICAgICAgICBWIDBcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgbGluZS1jYXBzPVwicm91bmRcIlxuICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICA8L3N2Zz5cbiAgICBgO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIHN2ZyB7XG4gICAgICAgIHdpZHRoOiB2YXIoLS1oYXQtZ3JhcGgtc3BhY2luZyk7XG4gICAgICAgIGhlaWdodDogY2FsYyhcbiAgICAgICAgICB2YXIoLS1oYXQtZ3JhcGgtc3BhY2luZykgKyB2YXIoLS1oYXQtZ3JhcGgtbm9kZS1zaXplKSArIDFweFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgOmhvc3QoW3RyYWNrXSkge1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLXRyYWNrLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdC1jb250ZXh0KFtkaXNhYmxlZF0pIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1kaXNhYmxlZC1jbHIpO1xuICAgICAgfVxuICAgICAgcGF0aCB7XG4gICAgICAgIHN0cm9rZTogdmFyKC0tc3Ryb2tlLWNscik7XG4gICAgICAgIHN0cm9rZS13aWR0aDogMjtcbiAgICAgICAgZmlsbDogbm9uZTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtZ3JhcGgtc3BhY2VyXCI6IEhhdEdyYXBoU3BhY2VyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-spacer.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-logbook-note.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-logbook-note.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\nlet HatLogbookNote = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-logbook-note\")], function (_initialize, _LitElement) {\n  class HatLogbookNote extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatLogbookNote,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"domain\",\n      value() {\n        return \"automation\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html`\n      Not all shown logbook entries might be related to this ${this.domain}.\n    `;\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n    :host {\n      display: block;\n      text-align: center;\n      font-style: italic;\n      padding: 16px;\n      margin-top: 8px;\n    }\n  `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtbG9nYm9vay1ub3RlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWtCQTtBQUFBO0FBQUE7QUFsQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtbG9nYm9vay1ub3RlLnRzP2E4ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBodG1sLCBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYXQtbG9nYm9vay1ub3RlXCIpXG5jbGFzcyBIYXRMb2dib29rTm90ZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoKSBwdWJsaWMgZG9tYWluID0gXCJhdXRvbWF0aW9uXCI7XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgTm90IGFsbCBzaG93biBsb2dib29rIGVudHJpZXMgbWlnaHQgYmUgcmVsYXRlZCB0byB0aGlzICR7dGhpcy5kb21haW59LlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgc3R5bGVzID0gY3NzYFxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICB9XG4gIGA7XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtbG9nYm9vay1ub3RlXCI6IEhhdExvZ2Jvb2tOb3RlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-logbook-note.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-script-graph.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-script-graph.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatScriptGraph: () => (/* binding */ HatScriptGraph)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _hat_graph_branch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hat-graph-branch */ \"./src/components/trace/hat-graph-branch.ts\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n/* harmony import */ var _hat_graph_node__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hat-graph-node */ \"./src/components/trace/hat-graph-node.ts\");\n/* harmony import */ var _hat_graph_spacer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hat-graph-spacer */ \"./src/components/trace/hat-graph-spacer.ts\");\n\n\n\nconst mdiAbTesting = \"M4 2A2 2 0 0 0 2 4V12H4V8H6V12H8V4A2 2 0 0 0 6 2H4M4 4H6V6H4M22 15.5V14A2 2 0 0 0 20 12H16V22H20A2 2 0 0 0 22 20V18.5A1.54 1.54 0 0 0 20.5 17A1.54 1.54 0 0 0 22 15.5M20 20H18V18H20V20M20 16H18V14H20M5.79 21.61L4.21 20.39L18.21 2.39L19.79 3.61Z\";\nconst mdiArrowDecision = \"M11,5H8L12,1L16,5H13V9.43C12.25,9.89 11.58,10.46 11,11.12V5M22,11L18,7V10C14.39,9.85 11.31,12.57 11,16.17C9.44,16.72 8.62,18.44 9.17,20C9.72,21.56 11.44,22.38 13,21.83C14.56,21.27 15.38,19.56 14.83,18C14.53,17.14 13.85,16.47 13,16.17C13.47,12.17 17.47,11.97 17.95,11.97V14.97L22,11M10.63,11.59C9.3,10.57 7.67,10 6,10V7L2,11L6,15V12C7.34,12.03 8.63,12.5 9.64,13.4C9.89,12.76 10.22,12.15 10.63,11.59Z\";\nconst mdiArrowUp = \"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z\";\nconst mdiAsterisk = \"M21 13H14.4L19.1 17.7L17.7 19.1L13 14.4V21H11V14.3L6.3 19L4.9 17.6L9.4 13H3V11H9.6L4.9 6.3L6.3 4.9L11 9.6V3H13V9.4L17.6 4.8L19 6.3L14.3 11H21V13Z\";\nconst mdiCallMissed = \"M19.59,7L12,14.59L6.41,9H11V7H3V15H5V10.41L12,17.41L21,8.41\";\nconst mdiCallReceived = \"M20,5.41L18.59,4L7,15.59V9H5V19H15V17H8.41\";\nconst mdiCallSplit = \"M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29\";\nconst mdiCheckboxBlankOutline = \"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\";\nconst mdiCheckboxMarkedOutline = \"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\";\nconst mdiChevronDown = \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\";\nconst mdiChevronUp = \"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\";\nconst mdiClose = \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\";\nconst mdiCodeBraces = \"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z\";\nconst mdiCodeBrackets = \"M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z\";\nconst mdiDevices = \"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z\";\nconst mdiGestureDoubleTap = \"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5M11,3A6,6 0 0,1 17,9C17,10.7 16.29,12.23 15.16,13.33L14.16,12.88C15.28,11.96 16,10.56 16,9A5,5 0 0,0 11,4A5,5 0 0,0 6,9C6,11.05 7.23,12.81 9,13.58V14.66C6.67,13.83 5,11.61 5,9A6,6 0 0,1 11,3Z\";\nconst mdiHandBackRight = \"M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z\";\nconst mdiPalette = \"M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z\";\nconst mdiRefresh = \"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\";\nconst mdiRoomService = \"M12,5A2,2 0 0,1 14,7C14,7.24 13.96,7.47 13.88,7.69C17.95,8.5 21,11.91 21,16H3C3,11.91 6.05,8.5 10.12,7.69C10.04,7.47 10,7.24 10,7A2,2 0 0,1 12,5M22,19H2V17H22V19Z\";\nconst mdiShuffleDisabled = \"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16\";\nconst mdiTimerOutline = \"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M19.03,7.39L20.45,5.97C20,5.46 19.55,5 19.04,4.56L17.62,6C16.07,4.74 14.12,4 12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22C17,22 21,17.97 21,13C21,10.88 20.26,8.93 19.03,7.39M11,14H13V8H11M15,1H9V3H15V1Z\";\n\n\n\n\n\n\n\n\n\nlet HatScriptGraph = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hat-script-graph\")], function (_initialize, _LitElement) {\n  class HatScriptGraph extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatScriptGraph,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"renderedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      key: \"trackedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"selectNode\",\n      value: function selectNode(config, path) {\n        return () => {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"graph-node-selected\", {\n            config,\n            path\n          });\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_trigger\",\n      value: function render_trigger(config, i) {\n        const path = `trigger/${i}`;\n        const track = this.trace && path in this.trace.trace;\n        this.renderedNodes[path] = {\n          config,\n          path\n        };\n        if (track) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        graphStart\n        ?track=${track}\n        @focus=${this.selectNode(config, path)}\n        ?active=${this.selected === path}\n        .iconPath=${mdiAsterisk}\n        .notEnabled=${config.enabled === false}\n        tabindex=${track ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_condition\",\n      value: function render_condition(config, i) {\n        const path = `condition/${i}`;\n        this.renderedNodes[path] = {\n          config,\n          path\n        };\n        if (this.trace && path in this.trace.trace) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return this.render_condition_node(config, path);\n      }\n    }, {\n      kind: \"field\",\n      key: \"typeRenderers\",\n      value() {\n        return {\n          condition: this.render_condition_node,\n          and: this.render_condition_node,\n          or: this.render_condition_node,\n          not: this.render_condition_node,\n          delay: this.render_delay_node,\n          event: this.render_event_node,\n          scene: this.render_scene_node,\n          service: this.render_service_node,\n          wait_template: this.render_wait_node,\n          wait_for_trigger: this.render_wait_node,\n          repeat: this.render_repeat_node,\n          choose: this.render_choose_node,\n          device_id: this.render_device_node,\n          if: this.render_if_node,\n          stop: this.render_stop_node,\n          parallel: this.render_parallel_node,\n          other: this.render_other_node\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_action_node\",\n      value: function render_action_node(node, path, graphStart = false, disabled = false) {\n        const type = Object.keys(this.typeRenderers).find(key => key in node) || \"other\";\n        this.renderedNodes[path] = {\n          config: node,\n          path\n        };\n        if (this.trace && path in this.trace.trace) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return this.typeRenderers[type].bind(this)(node, path, graphStart, disabled);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_choose_node\",\n      value: function render_choose_node(config, path, graphStart = false, disabled = false) {\n        var _ensureArray, _ensureArray2;\n        const trace = this.trace.trace[path];\n        const trace_path = trace ? trace.map(trc => trc.result === undefined || trc.result.choice === \"default\" ? \"default\" : trc.result.choice) : [];\n        const track_default = trace_path.includes(\"default\");\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(config, path)}\n        ?track=${trace !== undefined}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || config.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiArrowDecision}\n          ?track=${trace !== undefined}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || config.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n\n        ${config.choose ? (_ensureArray = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(config.choose)) === null || _ensureArray === void 0 ? void 0 : _ensureArray.map((branch, i) => {\n          const branch_path = `${path}/choose/${i}`;\n          const track_this = trace_path.includes(i);\n          this.renderedNodes[branch_path] = {\n            config,\n            path: branch_path\n          };\n          if (track_this) {\n            this.trackedNodes[branch_path] = this.renderedNodes[branch_path];\n          }\n          return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                <div class=\"graph-container\" ?track=${track_this}>\n                  <hat-graph-node\n                    .iconPath=${!trace || track_this ? mdiCheckboxMarkedOutline : mdiCheckboxBlankOutline}\n                    @focus=${this.selectNode(config, branch_path)}\n                    ?track=${track_this}\n                    ?active=${this.selected === branch_path}\n                    .notEnabled=${disabled || config.enabled === false}\n                  ></hat-graph-node>\n                  ${branch.sequence !== null ? (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(branch.sequence).map((action, j) => this.render_action_node(action, `${branch_path}/sequence/${j}`, false, disabled || config.enabled === false)) : \"\"}\n                </div>\n              `;\n        }) : \"\"}\n        <div ?track=${track_default}>\n          <hat-graph-spacer ?track=${track_default}></hat-graph-spacer>\n          ${config.default !== null ? (_ensureArray2 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(config.default)) === null || _ensureArray2 === void 0 ? void 0 : _ensureArray2.map((action, i) => this.render_action_node(action, `${path}/default/${i}`, false, disabled || config.enabled === false)) : \"\"}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_if_node\",\n      value: function render_if_node(config, path, graphStart = false, disabled = false) {\n        const trace = this.trace.trace[path];\n        let trackThen = false;\n        let trackElse = false;\n        for (const trc of trace || []) {\n          var _trc$result, _trc$result2;\n          if (!trackThen && ((_trc$result = trc.result) === null || _trc$result === void 0 ? void 0 : _trc$result.choice) === \"then\") {\n            trackThen = true;\n          }\n          if (!trackElse && ((_trc$result2 = trc.result) === null || _trc$result2 === void 0 ? void 0 : _trc$result2.choice) === \"else\" || !trc.result) {\n            trackElse = true;\n          }\n          if (trackElse && trackThen) {\n            break;\n          }\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(config, path)}\n        ?track=${trace !== undefined}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || config.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiCallSplit}\n          ?track=${trace !== undefined}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || config.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        ${config.else ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<div class=\"graph-container\" ?track=${trackElse}>\n              <hat-graph-node\n                .iconPath=${mdiCallMissed}\n                ?track=${trackElse}\n                ?active=${this.selected === path}\n                .notEnabled=${disabled || config.enabled === false}\n                nofocus\n              ></hat-graph-node\n              >${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(config.else).map((action, j) => this.render_action_node(action, `${path}/else/${j}`, false, disabled || config.enabled === false))}\n            </div>` : lit__WEBPACK_IMPORTED_MODULE_3__.html`<hat-graph-spacer ?track=${trackElse}></hat-graph-spacer>`}\n        <div class=\"graph-container\" ?track=${trackThen}>\n          <hat-graph-node\n            .iconPath=${mdiCallReceived}\n            ?track=${trackThen}\n            ?active=${this.selected === path}\n            .notEnabled=${disabled || config.enabled === false}\n            nofocus\n          ></hat-graph-node>\n          ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(config.then).map((action, j) => this.render_action_node(action, `${path}/then/${j}`, false, disabled || config.enabled === false))}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_condition_node\",\n      value: function render_condition_node(node, path, graphStart = false, disabled = false) {\n        const trace = this.trace.trace[path];\n        let track = false;\n        let trackPass = false;\n        let trackFailed = false;\n        if (trace) {\n          for (const trc of trace) {\n            if (trc.result) {\n              track = true;\n              if (trc.result.result) {\n                trackPass = true;\n              } else {\n                trackFailed = true;\n              }\n            }\n            if (trackPass && trackFailed) {\n              break;\n            }\n          }\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-branch\n        @focus=${this.selectNode(node, path)}\n        ?track=${track}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        short\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          slot=\"head\"\n          ?track=${track}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          .iconPath=${mdiAbTesting}\n          nofocus\n        ></hat-graph-node>\n        <div\n          style=${`width: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_9__.NODE_SIZE + _hat_graph_const__WEBPACK_IMPORTED_MODULE_9__.SPACING}px;`}\n          graphStart\n          graphEnd\n        ></div>\n        <div ?track=${trackPass}></div>\n        <hat-graph-node\n          .iconPath=${mdiClose}\n          nofocus\n          ?track=${trackFailed}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n        ></hat-graph-node>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_delay_node\",\n      value: function render_delay_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiTimerOutline}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_device_node\",\n      value: function render_device_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiDevices}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_event_node\",\n      value: function render_event_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiGestureDoubleTap}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_repeat_node\",\n      value: function render_repeat_node(node, path, graphStart = false, disabled = false) {\n        var _this$trace, _this$trace$trace;\n        const trace = this.trace.trace[path];\n        const repeats = (_this$trace = this.trace) === null || _this$trace === void 0 ? void 0 : (_this$trace$trace = _this$trace.trace[`${path}/repeat/sequence/0`]) === null || _this$trace$trace === void 0 ? void 0 : _this$trace$trace.length;\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiRefresh}\n          ?track=${path in this.trace.trace}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        <hat-graph-node\n          .iconPath=${mdiArrowUp}\n          ?track=${repeats > 1}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          nofocus\n          .badge=${repeats > 1 ? repeats : undefined}\n        ></hat-graph-node>\n        <div ?track=${trace}>\n          ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(node.repeat.sequence).map((action, i) => this.render_action_node(action, `${path}/repeat/sequence/${i}`, false, disabled || node.enabled === false))}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_scene_node\",\n      value: function render_scene_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiPalette}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_service_node\",\n      value: function render_service_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiRoomService}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_wait_node\",\n      value: function render_wait_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiCodeBraces}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_parallel_node\",\n      value: function render_parallel_node(node, path, graphStart = false, disabled = false) {\n        const trace = this.trace.trace[path];\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiShuffleDisabled}\n          ?track=${path in this.trace.trace}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(node.parallel).map((action, i) => \"sequence\" in action ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<div ?track=${path in this.trace.trace}>\n                ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(action.sequence).map((sAction, j) => this.render_action_node(sAction, `${path}/parallel/${i}/sequence/${j}`, false, disabled || node.enabled === false))}\n              </div>` : this.render_action_node(action, `${path}/parallel/${i}/sequence/0`, false, disabled || node.enabled === false))}\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_stop_node\",\n      value: function render_stop_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiHandBackRight}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_other_node\",\n      value: function render_other_node(node, path, graphStart = false, disabled = false) {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiCodeBrackets}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        const paths = Object.keys(this.trackedNodes);\n        const trigger_nodes = \"trigger\" in this.trace.config ? (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(this.trace.config.trigger).map((trigger, i) => this.render_trigger(trigger, i)) : undefined;\n        try {\n          var _ensureArray3;\n          return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n        <div class=\"parent graph-container\">\n          ${trigger_nodes ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<hat-graph-branch start .short=${trigger_nodes.length < 2}>\n                ${trigger_nodes}\n              </hat-graph-branch>` : \"\"}\n          ${\"condition\" in this.trace.config ? lit__WEBPACK_IMPORTED_MODULE_3__.html`${(_ensureArray3 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(this.trace.config.condition)) === null || _ensureArray3 === void 0 ? void 0 : _ensureArray3.map((condition, i) => this.render_condition(condition, i))}` : \"\"}\n          ${\"action\" in this.trace.config ? lit__WEBPACK_IMPORTED_MODULE_3__.html`${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(this.trace.config.action).map((action, i) => this.render_action_node(action, `action/${i}`))}` : \"\"}\n          ${\"sequence\" in this.trace.config ? lit__WEBPACK_IMPORTED_MODULE_3__.html`${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_6__.ensureArray)(this.trace.config.sequence).map((action, i) => this.render_action_node(action, `sequence/${i}`, i === 0))}` : \"\"}\n        </div>\n        <div class=\"actions\">\n          <ha-icon-button\n            .disabled=${paths.length === 0 || paths[0] === this.selected}\n            @click=${this._previousTrackedNode}\n            .path=${mdiChevronUp}\n          ></ha-icon-button>\n          <ha-icon-button\n            .disabled=${paths.length === 0 || paths[paths.length - 1] === this.selected}\n            @click=${this._nextTrackedNode}\n            .path=${mdiChevronDown}\n          ></ha-icon-button>\n        </div>\n      `;\n        } catch (err) {\n          if (true) {\n            // eslint-disable-next-line no-console\n            console.log(\"Error creating script graph:\", err);\n          }\n          return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n        <div class=\"error\">\n          Error rendering graph. Please download trace and share with the\n          developers.\n        </div>\n      `;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HatScriptGraph.prototype), \"willUpdate\", this).call(this, changedProps);\n        if (changedProps.has(\"trace\")) {\n          this.renderedNodes = {};\n          this.trackedNodes = {};\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HatScriptGraph.prototype), \"updated\", this).call(this, changedProps);\n        if (!changedProps.has(\"trace\")) {\n          return;\n        }\n\n        // If trace changed and we have no or an invalid selection, select first option.\n        if (!this.selected || !(this.selected in this.trackedNodes)) {\n          const firstNode = this.trackedNodes[Object.keys(this.trackedNodes)[0]];\n          if (firstNode) {\n            (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"graph-node-selected\", firstNode);\n          }\n        }\n        if (this.trace) {\n          const sortKeys = Object.keys(this.trace.trace);\n          const keys = Object.keys(this.renderedNodes).sort((a, b) => sortKeys.indexOf(a) - sortKeys.indexOf(b));\n          const sortedTrackedNodes = {};\n          const sortedRenderedNodes = {};\n          for (const key of keys) {\n            sortedRenderedNodes[key] = this.renderedNodes[key];\n            if (key in this.trackedNodes) {\n              sortedTrackedNodes[key] = this.trackedNodes[key];\n            }\n          }\n          this.renderedNodes = sortedRenderedNodes;\n          this.trackedNodes = sortedTrackedNodes;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_previousTrackedNode\",\n      value: function _previousTrackedNode() {\n        const nodes = Object.keys(this.trackedNodes);\n        const prevIndex = nodes.indexOf(this.selected) - 1;\n        if (prevIndex >= 0) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"graph-node-selected\", this.trackedNodes[nodes[prevIndex]]);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_nextTrackedNode\",\n      value: function _nextTrackedNode() {\n        const nodes = Object.keys(this.trackedNodes);\n        const nextIndex = nodes.indexOf(this.selected) + 1;\n        if (nextIndex < nodes.length) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"graph-node-selected\", this.trackedNodes[nodes[nextIndex]]);\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.css`\n      :host {\n        display: flex;\n        --stroke-clr: var(--stroke-color, var(--secondary-text-color));\n        --active-clr: var(--active-color, var(--primary-color));\n        --track-clr: var(--track-color, var(--accent-color));\n        --hover-clr: var(--hover-color, var(--primary-color));\n        --disabled-clr: var(--disabled-color, var(--disabled-text-color));\n        --disabled-active-clr: rgba(var(--rgb-primary-color), 0.5);\n        --disabled-hover-clr: rgba(var(--rgb-primary-color), 0.7);\n        --default-trigger-color: 3, 169, 244;\n        --rgb-trigger-color: var(--trigger-color, var(--default-trigger-color));\n        --background-clr: var(--background-color, white);\n        --default-icon-clr: var(--icon-color, black);\n        --icon-clr: var(--stroke-clr);\n\n        --hat-graph-spacing: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_9__.SPACING}px;\n        --hat-graph-node-size: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_9__.NODE_SIZE}px;\n        --hat-graph-branch-height: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_9__.BRANCH_HEIGHT}px;\n      }\n      .graph-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      .actions {\n        display: flex;\n        flex-direction: column;\n      }\n      .parent {\n        margin-left: 8px;\n        margin-top: 16px;\n      }\n      .error {\n        padding: 16px;\n        max-width: 300px;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtc2NyaXB0LWdyYXBoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEyc0JBO0FBQUE7QUFBQTtBQTNzQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBU0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtc2NyaXB0LWdyYXBoLnRzP2I5YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpQWJUZXN0aW5nLFxuICBtZGlBcnJvd0RlY2lzaW9uLFxuICBtZGlBcnJvd1VwLFxuICBtZGlBc3RlcmlzayxcbiAgbWRpQ2FsbE1pc3NlZCxcbiAgbWRpQ2FsbFJlY2VpdmVkLFxuICBtZGlDYWxsU3BsaXQsXG4gIG1kaUNoZWNrYm94QmxhbmtPdXRsaW5lLFxuICBtZGlDaGVja2JveE1hcmtlZE91dGxpbmUsXG4gIG1kaUNoZXZyb25Eb3duLFxuICBtZGlDaGV2cm9uVXAsXG4gIG1kaUNsb3NlLFxuICBtZGlDb2RlQnJhY2VzLFxuICBtZGlDb2RlQnJhY2tldHMsXG4gIG1kaURldmljZXMsXG4gIG1kaUdlc3R1cmVEb3VibGVUYXAsXG4gIG1kaUhhbmRCYWNrUmlnaHQsXG4gIG1kaVBhbGV0dGUsXG4gIG1kaVJlZnJlc2gsXG4gIG1kaVJvb21TZXJ2aWNlLFxuICBtZGlTaHVmZmxlRGlzYWJsZWQsXG4gIG1kaVRpbWVyT3V0bGluZSxcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgZW5zdXJlQXJyYXkgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2FycmF5L2Vuc3VyZS1hcnJheVwiO1xuaW1wb3J0IHsgQ29uZGl0aW9uLCBUcmlnZ2VyIH0gZnJvbSBcIi4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBDaG9vc2VBY3Rpb24sXG4gIERlbGF5QWN0aW9uLFxuICBEZXZpY2VBY3Rpb24sXG4gIEV2ZW50QWN0aW9uLFxuICBJZkFjdGlvbixcbiAgTWFudWFsU2NyaXB0Q29uZmlnLFxuICBQYXJhbGxlbEFjdGlvbixcbiAgUmVwZWF0QWN0aW9uLFxuICBTY2VuZUFjdGlvbixcbiAgU2VydmljZUFjdGlvbixcbiAgV2FpdEFjdGlvbixcbiAgV2FpdEZvclRyaWdnZXJBY3Rpb24sXG59IGZyb20gXCIuLi8uLi9kYXRhL3NjcmlwdFwiO1xuaW1wb3J0IHtcbiAgQ2hvb3NlQWN0aW9uVHJhY2VTdGVwLFxuICBDb25kaXRpb25UcmFjZVN0ZXAsXG4gIElmQWN0aW9uVHJhY2VTdGVwLFxuICBUcmFjZUV4dGVuZGVkLFxufSBmcm9tIFwiLi4vLi4vZGF0YS90cmFjZVwiO1xuaW1wb3J0IFwiLi4vaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4vaGF0LWdyYXBoLWJyYW5jaFwiO1xuaW1wb3J0IHsgQlJBTkNIX0hFSUdIVCwgTk9ERV9TSVpFLCBTUEFDSU5HIH0gZnJvbSBcIi4vaGF0LWdyYXBoLWNvbnN0XCI7XG5pbXBvcnQgXCIuL2hhdC1ncmFwaC1ub2RlXCI7XG5pbXBvcnQgXCIuL2hhdC1ncmFwaC1zcGFjZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBOb2RlSW5mbyB7XG4gIHBhdGg6IHN0cmluZztcbiAgY29uZmlnOiBhbnk7XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhBU1NEb21FdmVudHMge1xuICAgIFwiZ3JhcGgtbm9kZS1zZWxlY3RlZFwiOiBOb2RlSW5mbztcbiAgfVxufVxuXG5AY3VzdG9tRWxlbWVudChcImhhdC1zY3JpcHQtZ3JhcGhcIilcbmV4cG9ydCBjbGFzcyBIYXRTY3JpcHRHcmFwaCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB0cmFjZSE6IFRyYWNlRXh0ZW5kZWQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgc2VsZWN0ZWQ/OiBzdHJpbmc7XG5cbiAgcHVibGljIHJlbmRlcmVkTm9kZXM6IFJlY29yZDxzdHJpbmcsIE5vZGVJbmZvPiA9IHt9O1xuXG4gIHB1YmxpYyB0cmFja2VkTm9kZXM6IFJlY29yZDxzdHJpbmcsIE5vZGVJbmZvPiA9IHt9O1xuXG4gIHByaXZhdGUgc2VsZWN0Tm9kZShjb25maWcsIHBhdGgpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50KHRoaXMsIFwiZ3JhcGgtbm9kZS1zZWxlY3RlZFwiLCB7IGNvbmZpZywgcGF0aCB9KTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfdHJpZ2dlcihjb25maWc6IFRyaWdnZXIsIGk6IG51bWJlcikge1xuICAgIGNvbnN0IHBhdGggPSBgdHJpZ2dlci8ke2l9YDtcbiAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlO1xuICAgIHRoaXMucmVuZGVyZWROb2Rlc1twYXRoXSA9IHsgY29uZmlnLCBwYXRoIH07XG4gICAgaWYgKHRyYWNrKSB7XG4gICAgICB0aGlzLnRyYWNrZWROb2Rlc1twYXRoXSA9IHRoaXMucmVuZGVyZWROb2Rlc1twYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgZ3JhcGhTdGFydFxuICAgICAgICA/dHJhY2s9JHt0cmFja31cbiAgICAgICAgQGZvY3VzPSR7dGhpcy5zZWxlY3ROb2RlKGNvbmZpZywgcGF0aCl9XG4gICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAuaWNvblBhdGg9JHttZGlBc3Rlcmlza31cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgIHRhYmluZGV4PSR7dHJhY2sgPyBcIjBcIiA6IFwiLTFcIn1cbiAgICAgID48L2hhdC1ncmFwaC1ub2RlPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9jb25kaXRpb24oY29uZmlnOiBDb25kaXRpb24sIGk6IG51bWJlcikge1xuICAgIGNvbnN0IHBhdGggPSBgY29uZGl0aW9uLyR7aX1gO1xuICAgIHRoaXMucmVuZGVyZWROb2Rlc1twYXRoXSA9IHsgY29uZmlnLCBwYXRoIH07XG4gICAgaWYgKHRoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlKSB7XG4gICAgICB0aGlzLnRyYWNrZWROb2Rlc1twYXRoXSA9IHRoaXMucmVuZGVyZWROb2Rlc1twYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyX2NvbmRpdGlvbl9ub2RlKGNvbmZpZywgcGF0aCk7XG4gIH1cblxuICBwcml2YXRlIHR5cGVSZW5kZXJlcnMgPSB7XG4gICAgY29uZGl0aW9uOiB0aGlzLnJlbmRlcl9jb25kaXRpb25fbm9kZSxcbiAgICBhbmQ6IHRoaXMucmVuZGVyX2NvbmRpdGlvbl9ub2RlLFxuICAgIG9yOiB0aGlzLnJlbmRlcl9jb25kaXRpb25fbm9kZSxcbiAgICBub3Q6IHRoaXMucmVuZGVyX2NvbmRpdGlvbl9ub2RlLFxuICAgIGRlbGF5OiB0aGlzLnJlbmRlcl9kZWxheV9ub2RlLFxuICAgIGV2ZW50OiB0aGlzLnJlbmRlcl9ldmVudF9ub2RlLFxuICAgIHNjZW5lOiB0aGlzLnJlbmRlcl9zY2VuZV9ub2RlLFxuICAgIHNlcnZpY2U6IHRoaXMucmVuZGVyX3NlcnZpY2Vfbm9kZSxcbiAgICB3YWl0X3RlbXBsYXRlOiB0aGlzLnJlbmRlcl93YWl0X25vZGUsXG4gICAgd2FpdF9mb3JfdHJpZ2dlcjogdGhpcy5yZW5kZXJfd2FpdF9ub2RlLFxuICAgIHJlcGVhdDogdGhpcy5yZW5kZXJfcmVwZWF0X25vZGUsXG4gICAgY2hvb3NlOiB0aGlzLnJlbmRlcl9jaG9vc2Vfbm9kZSxcbiAgICBkZXZpY2VfaWQ6IHRoaXMucmVuZGVyX2RldmljZV9ub2RlLFxuICAgIGlmOiB0aGlzLnJlbmRlcl9pZl9ub2RlLFxuICAgIHN0b3A6IHRoaXMucmVuZGVyX3N0b3Bfbm9kZSxcbiAgICBwYXJhbGxlbDogdGhpcy5yZW5kZXJfcGFyYWxsZWxfbm9kZSxcbiAgICBvdGhlcjogdGhpcy5yZW5kZXJfb3RoZXJfbm9kZSxcbiAgfTtcblxuICBwcml2YXRlIHJlbmRlcl9hY3Rpb25fbm9kZShcbiAgICBub2RlOiBBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHR5cGUgPVxuICAgICAgT2JqZWN0LmtleXModGhpcy50eXBlUmVuZGVyZXJzKS5maW5kKChrZXkpID0+IGtleSBpbiBub2RlKSB8fCBcIm90aGVyXCI7XG4gICAgdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdID0geyBjb25maWc6IG5vZGUsIHBhdGggfTtcbiAgICBpZiAodGhpcy50cmFjZSAmJiBwYXRoIGluIHRoaXMudHJhY2UudHJhY2UpIHtcbiAgICAgIHRoaXMudHJhY2tlZE5vZGVzW3BhdGhdID0gdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50eXBlUmVuZGVyZXJzW3R5cGVdLmJpbmQodGhpcykoXG4gICAgICBub2RlLFxuICAgICAgcGF0aCxcbiAgICAgIGdyYXBoU3RhcnQsXG4gICAgICBkaXNhYmxlZFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9jaG9vc2Vfbm9kZShcbiAgICBjb25maWc6IENob29zZUFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgdHJhY2UgPSB0aGlzLnRyYWNlLnRyYWNlW3BhdGhdIGFzIENob29zZUFjdGlvblRyYWNlU3RlcFtdIHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHRyYWNlX3BhdGggPSB0cmFjZVxuICAgICAgPyB0cmFjZS5tYXAoKHRyYykgPT5cbiAgICAgICAgICB0cmMucmVzdWx0ID09PSB1bmRlZmluZWQgfHwgdHJjLnJlc3VsdC5jaG9pY2UgPT09IFwiZGVmYXVsdFwiXG4gICAgICAgICAgICA/IFwiZGVmYXVsdFwiXG4gICAgICAgICAgICA6IHRyYy5yZXN1bHQuY2hvaWNlXG4gICAgICAgIClcbiAgICAgIDogW107XG4gICAgY29uc3QgdHJhY2tfZGVmYXVsdCA9IHRyYWNlX3BhdGguaW5jbHVkZXMoXCJkZWZhdWx0XCIpO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1icmFuY2hcbiAgICAgICAgdGFiaW5kZXg9JHt0cmFjZSA9PT0gdW5kZWZpbmVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShjb25maWcsIHBhdGgpfVxuICAgICAgICA/dHJhY2s9JHt0cmFjZSAhPT0gdW5kZWZpbmVkfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgIC5ncmFwaFN0YXJ0PSR7Z3JhcGhTdGFydH1cbiAgICAgICAgICAuaWNvblBhdGg9JHttZGlBcnJvd0RlY2lzaW9ufVxuICAgICAgICAgID90cmFjaz0ke3RyYWNlICE9PSB1bmRlZmluZWR9XG4gICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG5cbiAgICAgICAgJHtjb25maWcuY2hvb3NlXG4gICAgICAgICAgPyBlbnN1cmVBcnJheShjb25maWcuY2hvb3NlKT8ubWFwKChicmFuY2gsIGkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgYnJhbmNoX3BhdGggPSBgJHtwYXRofS9jaG9vc2UvJHtpfWA7XG4gICAgICAgICAgICAgIGNvbnN0IHRyYWNrX3RoaXMgPSB0cmFjZV9wYXRoLmluY2x1ZGVzKGkpO1xuICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkTm9kZXNbYnJhbmNoX3BhdGhdID0geyBjb25maWcsIHBhdGg6IGJyYW5jaF9wYXRoIH07XG4gICAgICAgICAgICAgIGlmICh0cmFja190aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2VkTm9kZXNbYnJhbmNoX3BhdGhdID1cbiAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWROb2Rlc1ticmFuY2hfcGF0aF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyYXBoLWNvbnRhaW5lclwiID90cmFjaz0ke3RyYWNrX3RoaXN9PlxuICAgICAgICAgICAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgICAgICAgICAgIC5pY29uUGF0aD0keyF0cmFjZSB8fCB0cmFja190aGlzXG4gICAgICAgICAgICAgICAgICAgICAgPyBtZGlDaGVja2JveE1hcmtlZE91dGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICA6IG1kaUNoZWNrYm94QmxhbmtPdXRsaW5lfVxuICAgICAgICAgICAgICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUoY29uZmlnLCBicmFuY2hfcGF0aCl9XG4gICAgICAgICAgICAgICAgICAgID90cmFjaz0ke3RyYWNrX3RoaXN9XG4gICAgICAgICAgICAgICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBicmFuY2hfcGF0aH1cbiAgICAgICAgICAgICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgICAgICAgICAgICAgICR7YnJhbmNoLnNlcXVlbmNlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gZW5zdXJlQXJyYXkoYnJhbmNoLnNlcXVlbmNlKS5tYXAoKGFjdGlvbiwgaikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGAke2JyYW5jaF9wYXRofS9zZXF1ZW5jZS8ke2p9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDxkaXYgP3RyYWNrPSR7dHJhY2tfZGVmYXVsdH0+XG4gICAgICAgICAgPGhhdC1ncmFwaC1zcGFjZXIgP3RyYWNrPSR7dHJhY2tfZGVmYXVsdH0+PC9oYXQtZ3JhcGgtc3BhY2VyPlxuICAgICAgICAgICR7Y29uZmlnLmRlZmF1bHQgIT09IG51bGxcbiAgICAgICAgICAgID8gZW5zdXJlQXJyYXkoY29uZmlnLmRlZmF1bHQpPy5tYXAoKGFjdGlvbiwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcl9hY3Rpb25fbm9kZShcbiAgICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICAgIGAke3BhdGh9L2RlZmF1bHQvJHtpfWAsXG4gICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGF0LWdyYXBoLWJyYW5jaD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfaWZfbm9kZShcbiAgICBjb25maWc6IElmQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICBjb25zdCB0cmFjZSA9IHRoaXMudHJhY2UudHJhY2VbcGF0aF0gYXMgSWZBY3Rpb25UcmFjZVN0ZXBbXSB8IHVuZGVmaW5lZDtcbiAgICBsZXQgdHJhY2tUaGVuID0gZmFsc2U7XG4gICAgbGV0IHRyYWNrRWxzZSA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgdHJjIG9mIHRyYWNlIHx8IFtdKSB7XG4gICAgICBpZiAoIXRyYWNrVGhlbiAmJiB0cmMucmVzdWx0Py5jaG9pY2UgPT09IFwidGhlblwiKSB7XG4gICAgICAgIHRyYWNrVGhlbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoKCF0cmFja0Vsc2UgJiYgdHJjLnJlc3VsdD8uY2hvaWNlID09PSBcImVsc2VcIikgfHwgIXRyYy5yZXN1bHQpIHtcbiAgICAgICAgdHJhY2tFbHNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFja0Vsc2UgJiYgdHJhY2tUaGVuKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtYnJhbmNoXG4gICAgICAgIHRhYmluZGV4PSR7dHJhY2UgPT09IHVuZGVmaW5lZCA/IFwiLTFcIiA6IFwiMFwifVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUoY29uZmlnLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7dHJhY2UgIT09IHVuZGVmaW5lZH1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgPlxuICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgICAgLmljb25QYXRoPSR7bWRpQ2FsbFNwbGl0fVxuICAgICAgICAgID90cmFjaz0ke3RyYWNlICE9PSB1bmRlZmluZWR9XG4gICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgICR7Y29uZmlnLmVsc2VcbiAgICAgICAgICA/IGh0bWxgPGRpdiBjbGFzcz1cImdyYXBoLWNvbnRhaW5lclwiID90cmFjaz0ke3RyYWNrRWxzZX0+XG4gICAgICAgICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgICAgICAgIC5pY29uUGF0aD0ke21kaUNhbGxNaXNzZWR9XG4gICAgICAgICAgICAgICAgP3RyYWNrPSR7dHJhY2tFbHNlfVxuICAgICAgICAgICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAgICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAgICAgPiR7ZW5zdXJlQXJyYXkoY29uZmlnLmVsc2UpLm1hcCgoYWN0aW9uLCBqKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgYCR7cGF0aH0vZWxzZS8ke2p9YCxcbiAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgIDogaHRtbGA8aGF0LWdyYXBoLXNwYWNlciA/dHJhY2s9JHt0cmFja0Vsc2V9PjwvaGF0LWdyYXBoLXNwYWNlcj5gfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JhcGgtY29udGFpbmVyXCIgP3RyYWNrPSR7dHJhY2tUaGVufT5cbiAgICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAgIC5pY29uUGF0aD0ke21kaUNhbGxSZWNlaXZlZH1cbiAgICAgICAgICAgID90cmFjaz0ke3RyYWNrVGhlbn1cbiAgICAgICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgICBub2ZvY3VzXG4gICAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgICAgJHtlbnN1cmVBcnJheShjb25maWcudGhlbikubWFwKChhY3Rpb24sIGopID0+XG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9hY3Rpb25fbm9kZShcbiAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICBgJHtwYXRofS90aGVuLyR7an1gLFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hhdC1ncmFwaC1icmFuY2g+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX2NvbmRpdGlvbl9ub2RlKFxuICAgIG5vZGU6IENvbmRpdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgdHJhY2UgPSB0aGlzLnRyYWNlLnRyYWNlW3BhdGhdIGFzIENvbmRpdGlvblRyYWNlU3RlcFtdIHwgdW5kZWZpbmVkO1xuICAgIGxldCB0cmFjayA9IGZhbHNlO1xuICAgIGxldCB0cmFja1Bhc3MgPSBmYWxzZTtcbiAgICBsZXQgdHJhY2tGYWlsZWQgPSBmYWxzZTtcbiAgICBpZiAodHJhY2UpIHtcbiAgICAgIGZvciAoY29uc3QgdHJjIG9mIHRyYWNlKSB7XG4gICAgICAgIGlmICh0cmMucmVzdWx0KSB7XG4gICAgICAgICAgdHJhY2sgPSB0cnVlO1xuICAgICAgICAgIGlmICh0cmMucmVzdWx0LnJlc3VsdCkge1xuICAgICAgICAgICAgdHJhY2tQYXNzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tGYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tQYXNzICYmIHRyYWNrRmFpbGVkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLWJyYW5jaFxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3RyYWNrfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RyYWNlID09PSB1bmRlZmluZWQgPyBcIi0xXCIgOiBcIjBcIn1cbiAgICAgICAgc2hvcnRcbiAgICAgID5cbiAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAgIHNsb3Q9XCJoZWFkXCJcbiAgICAgICAgICA/dHJhY2s9JHt0cmFja31cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgLmljb25QYXRoPSR7bWRpQWJUZXN0aW5nfVxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT0ke2B3aWR0aDogJHtOT0RFX1NJWkUgKyBTUEFDSU5HfXB4O2B9XG4gICAgICAgICAgZ3JhcGhTdGFydFxuICAgICAgICAgIGdyYXBoRW5kXG4gICAgICAgID48L2Rpdj5cbiAgICAgICAgPGRpdiA/dHJhY2s9JHt0cmFja1Bhc3N9PjwvZGl2PlxuICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAuaWNvblBhdGg9JHttZGlDbG9zZX1cbiAgICAgICAgICBub2ZvY3VzXG4gICAgICAgICAgP3RyYWNrPSR7dHJhY2tGYWlsZWR9XG4gICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgIDwvaGF0LWdyYXBoLWJyYW5jaD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfZGVsYXlfbm9kZShcbiAgICBub2RlOiBEZWxheUFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAuaWNvblBhdGg9JHttZGlUaW1lck91dGxpbmV9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlID8gXCIwXCIgOiBcIi0xXCJ9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfZGV2aWNlX25vZGUoXG4gICAgbm9kZTogRGV2aWNlQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgIC5pY29uUGF0aD0ke21kaURldmljZXN9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlID8gXCIwXCIgOiBcIi0xXCJ9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfZXZlbnRfbm9kZShcbiAgICBub2RlOiBFdmVudEFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAuaWNvblBhdGg9JHttZGlHZXN0dXJlRG91YmxlVGFwfVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgdGFiaW5kZXg9JHt0aGlzLnRyYWNlICYmIHBhdGggaW4gdGhpcy50cmFjZS50cmFjZSA/IFwiMFwiIDogXCItMVwifVxuICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX3JlcGVhdF9ub2RlKFxuICAgIG5vZGU6IFJlcGVhdEFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgdHJhY2U6IGFueSA9IHRoaXMudHJhY2UudHJhY2VbcGF0aF07XG4gICAgY29uc3QgcmVwZWF0cyA9IHRoaXMudHJhY2U/LnRyYWNlW2Ake3BhdGh9L3JlcGVhdC9zZXF1ZW5jZS8wYF0/Lmxlbmd0aDtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtYnJhbmNoXG4gICAgICAgIHRhYmluZGV4PSR7dHJhY2UgPT09IHVuZGVmaW5lZCA/IFwiLTFcIiA6IFwiMFwifVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAgIC5pY29uUGF0aD0ke21kaVJlZnJlc2h9XG4gICAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICBzbG90PVwiaGVhZFwiXG4gICAgICAgICAgbm9mb2N1c1xuICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgLmljb25QYXRoPSR7bWRpQXJyb3dVcH1cbiAgICAgICAgICA/dHJhY2s9JHtyZXBlYXRzID4gMX1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgbm9mb2N1c1xuICAgICAgICAgIC5iYWRnZT0ke3JlcGVhdHMgPiAxID8gcmVwZWF0cyA6IHVuZGVmaW5lZH1cbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgIDxkaXYgP3RyYWNrPSR7dHJhY2V9PlxuICAgICAgICAgICR7ZW5zdXJlQXJyYXkobm9kZS5yZXBlYXQuc2VxdWVuY2UpLm1hcCgoYWN0aW9uLCBpKSA9PlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJfYWN0aW9uX25vZGUoXG4gICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgYCR7cGF0aH0vcmVwZWF0L3NlcXVlbmNlLyR7aX1gLFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYXQtZ3JhcGgtYnJhbmNoPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9zY2VuZV9ub2RlKFxuICAgIG5vZGU6IFNjZW5lQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgIC5pY29uUGF0aD0ke21kaVBhbGV0dGV9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlID8gXCIwXCIgOiBcIi0xXCJ9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfc2VydmljZV9ub2RlKFxuICAgIG5vZGU6IFNlcnZpY2VBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgIC5ncmFwaFN0YXJ0PSR7Z3JhcGhTdGFydH1cbiAgICAgICAgLmljb25QYXRoPSR7bWRpUm9vbVNlcnZpY2V9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlID8gXCIwXCIgOiBcIi0xXCJ9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfd2FpdF9ub2RlKFxuICAgIG5vZGU6IFdhaXRBY3Rpb24gfCBXYWl0Rm9yVHJpZ2dlckFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAuaWNvblBhdGg9JHttZGlDb2RlQnJhY2VzfVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgdGFiaW5kZXg9JHt0aGlzLnRyYWNlICYmIHBhdGggaW4gdGhpcy50cmFjZS50cmFjZSA/IFwiMFwiIDogXCItMVwifVxuICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX3BhcmFsbGVsX25vZGUoXG4gICAgbm9kZTogUGFyYWxsZWxBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHRyYWNlOiBhbnkgPSB0aGlzLnRyYWNlLnRyYWNlW3BhdGhdO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1icmFuY2hcbiAgICAgICAgdGFiaW5kZXg9JHt0cmFjZSA9PT0gdW5kZWZpbmVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgPlxuICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgICAgLmljb25QYXRoPSR7bWRpU2h1ZmZsZURpc2FibGVkfVxuICAgICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgICR7ZW5zdXJlQXJyYXkobm9kZS5wYXJhbGxlbCkubWFwKChhY3Rpb24sIGkpID0+XG4gICAgICAgICAgXCJzZXF1ZW5jZVwiIGluIGFjdGlvblxuICAgICAgICAgICAgPyBodG1sYDxkaXYgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfT5cbiAgICAgICAgICAgICAgICAke2Vuc3VyZUFycmF5KChhY3Rpb24gYXMgTWFudWFsU2NyaXB0Q29uZmlnKS5zZXF1ZW5jZSkubWFwKFxuICAgICAgICAgICAgICAgICAgKHNBY3Rpb24sIGopID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgICAgICAgIHNBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYCR7cGF0aH0vcGFyYWxsZWwvJHtpfS9zZXF1ZW5jZS8ke2p9YCxcbiAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6IHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICBgJHtwYXRofS9wYXJhbGxlbC8ke2l9L3NlcXVlbmNlLzBgLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICApfVxuICAgICAgPC9oYXQtZ3JhcGgtYnJhbmNoPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9zdG9wX25vZGUoXG4gICAgbm9kZTogQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgIC5pY29uUGF0aD0ke21kaUhhbmRCYWNrUmlnaHR9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX290aGVyX25vZGUoXG4gICAgbm9kZTogQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgIC5pY29uUGF0aD0ke21kaUNvZGVCcmFja2V0c31cbiAgICAgICAgQGZvY3VzPSR7dGhpcy5zZWxlY3ROb2RlKG5vZGUsIHBhdGgpfVxuICAgICAgICA/dHJhY2s9JHtwYXRoIGluIHRoaXMudHJhY2UudHJhY2V9XG4gICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBjb25zdCBwYXRocyA9IE9iamVjdC5rZXlzKHRoaXMudHJhY2tlZE5vZGVzKTtcbiAgICBjb25zdCB0cmlnZ2VyX25vZGVzID1cbiAgICAgIFwidHJpZ2dlclwiIGluIHRoaXMudHJhY2UuY29uZmlnXG4gICAgICAgID8gZW5zdXJlQXJyYXkodGhpcy50cmFjZS5jb25maWcudHJpZ2dlcikubWFwKCh0cmlnZ2VyLCBpKSA9PlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJfdHJpZ2dlcih0cmlnZ2VyLCBpKVxuICAgICAgICAgIClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFyZW50IGdyYXBoLWNvbnRhaW5lclwiPlxuICAgICAgICAgICR7dHJpZ2dlcl9ub2Rlc1xuICAgICAgICAgICAgPyBodG1sYDxoYXQtZ3JhcGgtYnJhbmNoIHN0YXJ0IC5zaG9ydD0ke3RyaWdnZXJfbm9kZXMubGVuZ3RoIDwgMn0+XG4gICAgICAgICAgICAgICAgJHt0cmlnZ2VyX25vZGVzfVxuICAgICAgICAgICAgICA8L2hhdC1ncmFwaC1icmFuY2g+YFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICR7XCJjb25kaXRpb25cIiBpbiB0aGlzLnRyYWNlLmNvbmZpZ1xuICAgICAgICAgICAgPyBodG1sYCR7ZW5zdXJlQXJyYXkodGhpcy50cmFjZS5jb25maWcuY29uZGl0aW9uKT8ubWFwKFxuICAgICAgICAgICAgICAgIChjb25kaXRpb24sIGkpID0+IHRoaXMucmVuZGVyX2NvbmRpdGlvbihjb25kaXRpb24sIGkpXG4gICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICR7XCJhY3Rpb25cIiBpbiB0aGlzLnRyYWNlLmNvbmZpZ1xuICAgICAgICAgICAgPyBodG1sYCR7ZW5zdXJlQXJyYXkodGhpcy50cmFjZS5jb25maWcuYWN0aW9uKS5tYXAoKGFjdGlvbiwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcl9hY3Rpb25fbm9kZShhY3Rpb24sIGBhY3Rpb24vJHtpfWApXG4gICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICR7XCJzZXF1ZW5jZVwiIGluIHRoaXMudHJhY2UuY29uZmlnXG4gICAgICAgICAgICA/IGh0bWxgJHtlbnN1cmVBcnJheSh0aGlzLnRyYWNlLmNvbmZpZy5zZXF1ZW5jZSkubWFwKChhY3Rpb24sIGkpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJfYWN0aW9uX25vZGUoYWN0aW9uLCBgc2VxdWVuY2UvJHtpfWAsIGkgPT09IDApXG4gICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgIC5kaXNhYmxlZD0ke3BhdGhzLmxlbmd0aCA9PT0gMCB8fCBwYXRoc1swXSA9PT0gdGhpcy5zZWxlY3RlZH1cbiAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3ByZXZpb3VzVHJhY2tlZE5vZGV9XG4gICAgICAgICAgICAucGF0aD0ke21kaUNoZXZyb25VcH1cbiAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgIC5kaXNhYmxlZD0ke3BhdGhzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgcGF0aHNbcGF0aHMubGVuZ3RoIC0gMV0gPT09IHRoaXMuc2VsZWN0ZWR9XG4gICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9uZXh0VHJhY2tlZE5vZGV9XG4gICAgICAgICAgICAucGF0aD0ke21kaUNoZXZyb25Eb3dufVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgY3JlYXRpbmcgc2NyaXB0IGdyYXBoOlwiLCBlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvclwiPlxuICAgICAgICAgIEVycm9yIHJlbmRlcmluZyBncmFwaC4gUGxlYXNlIGRvd25sb2FkIHRyYWNlIGFuZCBzaGFyZSB3aXRoIHRoZVxuICAgICAgICAgIGRldmVsb3BlcnMuXG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzPHRoaXM+KSB7XG4gICAgc3VwZXIud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHMpO1xuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwidHJhY2VcIikpIHtcbiAgICAgIHRoaXMucmVuZGVyZWROb2RlcyA9IHt9O1xuICAgICAgdGhpcy50cmFja2VkTm9kZXMgPSB7fTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzPHRoaXM+KSB7XG4gICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuXG4gICAgaWYgKCFjaGFuZ2VkUHJvcHMuaGFzKFwidHJhY2VcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0cmFjZSBjaGFuZ2VkIGFuZCB3ZSBoYXZlIG5vIG9yIGFuIGludmFsaWQgc2VsZWN0aW9uLCBzZWxlY3QgZmlyc3Qgb3B0aW9uLlxuICAgIGlmICghdGhpcy5zZWxlY3RlZCB8fCAhKHRoaXMuc2VsZWN0ZWQgaW4gdGhpcy50cmFja2VkTm9kZXMpKSB7XG4gICAgICBjb25zdCBmaXJzdE5vZGUgPSB0aGlzLnRyYWNrZWROb2Rlc1tPYmplY3Qua2V5cyh0aGlzLnRyYWNrZWROb2RlcylbMF1dO1xuICAgICAgaWYgKGZpcnN0Tm9kZSkge1xuICAgICAgICBmaXJlRXZlbnQodGhpcywgXCJncmFwaC1ub2RlLXNlbGVjdGVkXCIsIGZpcnN0Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudHJhY2UpIHtcbiAgICAgIGNvbnN0IHNvcnRLZXlzID0gT2JqZWN0LmtleXModGhpcy50cmFjZS50cmFjZSk7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5yZW5kZXJlZE5vZGVzKS5zb3J0KFxuICAgICAgICAoYSwgYikgPT4gc29ydEtleXMuaW5kZXhPZihhKSAtIHNvcnRLZXlzLmluZGV4T2YoYilcbiAgICAgICk7XG4gICAgICBjb25zdCBzb3J0ZWRUcmFja2VkTm9kZXMgPSB7fTtcbiAgICAgIGNvbnN0IHNvcnRlZFJlbmRlcmVkTm9kZXMgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgc29ydGVkUmVuZGVyZWROb2Rlc1trZXldID0gdGhpcy5yZW5kZXJlZE5vZGVzW2tleV07XG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy50cmFja2VkTm9kZXMpIHtcbiAgICAgICAgICBzb3J0ZWRUcmFja2VkTm9kZXNba2V5XSA9IHRoaXMudHJhY2tlZE5vZGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyZWROb2RlcyA9IHNvcnRlZFJlbmRlcmVkTm9kZXM7XG4gICAgICB0aGlzLnRyYWNrZWROb2RlcyA9IHNvcnRlZFRyYWNrZWROb2RlcztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wcmV2aW91c1RyYWNrZWROb2RlKCkge1xuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkTm9kZXMpO1xuICAgIGNvbnN0IHByZXZJbmRleCA9IG5vZGVzLmluZGV4T2YodGhpcy5zZWxlY3RlZCEpIC0gMTtcbiAgICBpZiAocHJldkluZGV4ID49IDApIHtcbiAgICAgIGZpcmVFdmVudChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJncmFwaC1ub2RlLXNlbGVjdGVkXCIsXG4gICAgICAgIHRoaXMudHJhY2tlZE5vZGVzW25vZGVzW3ByZXZJbmRleF1dXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX25leHRUcmFja2VkTm9kZSgpIHtcbiAgICBjb25zdCBub2RlcyA9IE9iamVjdC5rZXlzKHRoaXMudHJhY2tlZE5vZGVzKTtcbiAgICBjb25zdCBuZXh0SW5kZXggPSBub2Rlcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWQhKSArIDE7XG4gICAgaWYgKG5leHRJbmRleCA8IG5vZGVzLmxlbmd0aCkge1xuICAgICAgZmlyZUV2ZW50KFxuICAgICAgICB0aGlzLFxuICAgICAgICBcImdyYXBoLW5vZGUtc2VsZWN0ZWRcIixcbiAgICAgICAgdGhpcy50cmFja2VkTm9kZXNbbm9kZXNbbmV4dEluZGV4XV1cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1zdHJva2UtY29sb3IsIHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKSk7XG4gICAgICAgIC0tYWN0aXZlLWNscjogdmFyKC0tYWN0aXZlLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG4gICAgICAgIC0tdHJhY2stY2xyOiB2YXIoLS10cmFjay1jb2xvciwgdmFyKC0tYWNjZW50LWNvbG9yKSk7XG4gICAgICAgIC0taG92ZXItY2xyOiB2YXIoLS1ob3Zlci1jb2xvciwgdmFyKC0tcHJpbWFyeS1jb2xvcikpO1xuICAgICAgICAtLWRpc2FibGVkLWNscjogdmFyKC0tZGlzYWJsZWQtY29sb3IsIHZhcigtLWRpc2FibGVkLXRleHQtY29sb3IpKTtcbiAgICAgICAgLS1kaXNhYmxlZC1hY3RpdmUtY2xyOiByZ2JhKHZhcigtLXJnYi1wcmltYXJ5LWNvbG9yKSwgMC41KTtcbiAgICAgICAgLS1kaXNhYmxlZC1ob3Zlci1jbHI6IHJnYmEodmFyKC0tcmdiLXByaW1hcnktY29sb3IpLCAwLjcpO1xuICAgICAgICAtLWRlZmF1bHQtdHJpZ2dlci1jb2xvcjogMywgMTY5LCAyNDQ7XG4gICAgICAgIC0tcmdiLXRyaWdnZXItY29sb3I6IHZhcigtLXRyaWdnZXItY29sb3IsIHZhcigtLWRlZmF1bHQtdHJpZ2dlci1jb2xvcikpO1xuICAgICAgICAtLWJhY2tncm91bmQtY2xyOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yLCB3aGl0ZSk7XG4gICAgICAgIC0tZGVmYXVsdC1pY29uLWNscjogdmFyKC0taWNvbi1jb2xvciwgYmxhY2spO1xuICAgICAgICAtLWljb24tY2xyOiB2YXIoLS1zdHJva2UtY2xyKTtcblxuICAgICAgICAtLWhhdC1ncmFwaC1zcGFjaW5nOiAke1NQQUNJTkd9cHg7XG4gICAgICAgIC0taGF0LWdyYXBoLW5vZGUtc2l6ZTogJHtOT0RFX1NJWkV9cHg7XG4gICAgICAgIC0taGF0LWdyYXBoLWJyYW5jaC1oZWlnaHQ6ICR7QlJBTkNIX0hFSUdIVH1weDtcbiAgICAgIH1cbiAgICAgIC5ncmFwaC1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuICAgICAgLmFjdGlvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuICAgICAgLnBhcmVudCB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgICB9XG4gICAgICAuZXJyb3Ige1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhdC1zY3JpcHQtZ3JhcGhcIjogSGF0U2NyaXB0R3JhcGg7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/hat-script-graph.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-trace-timeline.ts":
/*!****************************************************!*\
  !*** ./src/components/trace/hat-trace-timeline.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaAutomationTracer: () => (/* binding */ HaAutomationTracer)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_if_defined__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/if-defined */ \"./node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_dom_toggle_attribute__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/dom/toggle_attribute */ \"./src/common/dom/toggle_attribute.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../data/script_i18n */ \"./src/data/script_i18n.ts\");\n/* harmony import */ var _data_trace__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../data/trace */ \"./src/data/trace.ts\");\n/* harmony import */ var _ha_timeline__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ha-timeline */ \"./src/components/trace/ha-timeline.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__, _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__]);\n([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__, _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst mdiAlertCircle = \"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiCircle = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiCircleOutline = \"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiProgressClock = \"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z\";\nconst mdiProgressWrench = \"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M16.82,15.19L12.71,11.08C13.12,10.04 12.89,8.82 12.03,7.97C11.13,7.06 9.78,6.88 8.69,7.38L10.63,9.32L9.28,10.68L7.29,8.73C6.75,9.82 7,11.17 7.88,12.08C8.74,12.94 9.96,13.16 11,12.76L15.11,16.86C15.29,17.05 15.56,17.05 15.74,16.86L16.78,15.83C17,15.65 17,15.33 16.82,15.19Z\";\nconst mdiRecordCircleOutline = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z\";\n\n\n\n\n\n\n\n\n\n\n\n\nconst LOGBOOK_ENTRIES_BEFORE_FOLD = 2;\n\n/* eslint max-classes-per-file: \"off\" */\n\n// Report time entry when more than this time has passed\nconst SIGNIFICANT_TIME_CHANGE = 1000; // 1 seconds\n\nconst isSignificantTimeChange = (a, b) => Math.abs(b.getTime() - a.getTime()) > SIGNIFICANT_TIME_CHANGE;\nclass RenderedTimeTracker {\n  constructor(hass, entries, trace) {\n    this.hass = hass;\n    this.entries = entries;\n    this.lastReportedTime = void 0;\n    this.lastReportedTime = new Date(trace.timestamp.start);\n  }\n  setLastReportedTime(date) {\n    this.lastReportedTime = date;\n  }\n  renderTime(from, to) {\n    this.entries.push(lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-timeline label>\n        ${(0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__.relativeTime)(from, this.hass.locale, to, false)} later\n      </ha-timeline>\n    `);\n    this.lastReportedTime = to;\n  }\n  maybeRenderTime(timestamp) {\n    if (!isSignificantTimeChange(timestamp, this.lastReportedTime)) {\n      this.lastReportedTime = timestamp;\n      return false;\n    }\n    this.renderTime(this.lastReportedTime, timestamp);\n    return true;\n  }\n}\nclass LogbookRenderer {\n  constructor(entries, timeTracker, logbookEntries) {\n    this.entries = entries;\n    this.timeTracker = timeTracker;\n    this.logbookEntries = logbookEntries;\n    this.curIndex = void 0;\n    this.pendingItems = [];\n    // Skip the \"automation got triggered item\"\n    this.curIndex = logbookEntries.length > 0 && logbookEntries[0].domain === \"automation\" ? 1 : 0;\n  }\n  get curItem() {\n    return this.logbookEntries[this.curIndex];\n  }\n  get hasNext() {\n    return this.curIndex < this.logbookEntries.length;\n  }\n  maybeRenderItem() {\n    const logbookEntry = this.curItem;\n    this.curIndex++;\n    const entryDate = new Date(logbookEntry.when * 1000);\n    if (this.pendingItems.length === 0) {\n      this.pendingItems.push([entryDate, logbookEntry]);\n      return;\n    }\n    const previousEntryDate = this.pendingItems[this.pendingItems.length - 1][0];\n\n    // If logbook entry is too long after the last one,\n    // add a time passed label\n    if (isSignificantTimeChange(previousEntryDate, entryDate)) {\n      this._renderLogbookEntries();\n      this.timeTracker.renderTime(previousEntryDate, entryDate);\n    }\n    this.pendingItems.push([entryDate, logbookEntry]);\n  }\n  flush() {\n    if (this.pendingItems.length > 0) {\n      this._renderLogbookEntries();\n    }\n  }\n  _renderLogbookEntries() {\n    this.timeTracker.maybeRenderTime(this.pendingItems[0][0]);\n    const parts = [];\n    let i;\n    for (i = 0; i < Math.min(this.pendingItems.length, LOGBOOK_ENTRIES_BEFORE_FOLD); i++) {\n      parts.push(this._renderLogbookEntryHelper(this.pendingItems[i][1]));\n    }\n    let moreItems;\n\n    // If we didn't render all items, push rest into `moreItems`\n    if (i < this.pendingItems.length) {\n      moreItems = [];\n      for (; i < this.pendingItems.length; i++) {\n        moreItems.push(this._renderLogbookEntryHelper(this.pendingItems[i][1]));\n      }\n    }\n    this.entries.push(lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-timeline .icon=${mdiCircleOutline} .moreItems=${moreItems}>\n        ${parts}\n      </ha-timeline>\n    `);\n\n    // Clear rendered items.\n    this.timeTracker.setLastReportedTime(this.pendingItems[this.pendingItems.length - 1][0]);\n    this.pendingItems = [];\n  }\n  _renderLogbookEntryHelper(entry) {\n    return lit__WEBPACK_IMPORTED_MODULE_3__.html`${entry.name} (${entry.entity_id})\n      ${entry.message || `turned ${entry.state}`}<br />`;\n  }\n}\nclass ActionRenderer {\n  constructor(hass, entityReg, entries, trace, logbookRenderer, timeTracker) {\n    this.hass = hass;\n    this.entityReg = entityReg;\n    this.entries = entries;\n    this.trace = trace;\n    this.logbookRenderer = logbookRenderer;\n    this.timeTracker = timeTracker;\n    this.curIndex = 0;\n    this.keys = void 0;\n    this.keys = Object.keys(trace.trace);\n  }\n  get curItem() {\n    return this._getItem(this.curIndex);\n  }\n  get hasNext() {\n    return this.curIndex < this.keys.length;\n  }\n  renderItem() {\n    this.curIndex = this._renderItem(this.curIndex);\n  }\n  _getItem(index) {\n    return this.trace.trace[this.keys[index]];\n  }\n  _renderItem(index, actionType, renderAllIterations) {\n    const value = this._getItem(index);\n    if (renderAllIterations) {\n      let i;\n      value.forEach(item => {\n        i = this._renderIteration(index, item, actionType);\n      });\n      return i;\n    }\n    return this._renderIteration(index, value[0], actionType);\n  }\n  _renderIteration(index, value, actionType) {\n    if ((0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.isTriggerPath)(value.path)) {\n      return this._handleTrigger(index, value);\n    }\n    const timestamp = new Date(value.timestamp);\n\n    // Render all logbook items that are in front of this item.\n    while (this.logbookRenderer.hasNext && new Date(this.logbookRenderer.curItem.when * 1000) < timestamp) {\n      this.logbookRenderer.maybeRenderItem();\n    }\n    this.logbookRenderer.flush();\n    this.timeTracker.maybeRenderTime(timestamp);\n    const path = value.path;\n    let data;\n    try {\n      data = (0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.getDataFromPath)(this.trace.config, path);\n    } catch (err) {\n      this._renderEntry(path, `Unable to extract path ${path}. Download trace and report as bug`);\n      return index + 1;\n    }\n    const parts = path.split(\"/\");\n    const isTopLevel = parts.length === 2;\n    if (!isTopLevel && !actionType) {\n      this._renderEntry(path, path.replace(/\\//g, \" \"));\n      return index + 1;\n    }\n    if (!actionType) {\n      actionType = (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(data);\n    }\n    if (actionType === \"choose\") {\n      return this._handleChoose(index);\n    }\n    if (actionType === \"repeat\") {\n      return this._handleRepeat(index);\n    }\n    if (actionType === \"if\") {\n      return this._handleIf(index);\n    }\n    if (actionType === \"parallel\") {\n      return this._handleParallel(index);\n    }\n    this._renderEntry(path, (0,_data_script_i18n__WEBPACK_IMPORTED_MODULE_12__.describeAction)(this.hass, this.entityReg, data, actionType), undefined, data.enabled === false);\n    let i = index + 1;\n    for (; i < this.keys.length; i++) {\n      if (this.keys[i].split(\"/\").length === parts.length) {\n        break;\n      }\n    }\n    return i;\n  }\n  _handleTrigger(index, triggerStep) {\n    this._renderEntry(triggerStep.path, `${triggerStep.changed_variables.trigger.alias ? `${triggerStep.changed_variables.trigger.alias} triggered` : \"Triggered\"} ${triggerStep.path === \"trigger\" ? \"manually\" : `by the ${this.trace.trigger}`} at\n    ${(0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatDateTimeWithSeconds)(new Date(triggerStep.timestamp), this.hass.locale)}`, mdiCircle);\n    return index + 1;\n  }\n  _handleChoose(index) {\n    var _chooseTrace$result;\n    // startLevel: choose root config\n\n    // +1: 'default\n    // +2: executed sequence\n\n    // +1: 'choose'\n    // +2: current choice\n\n    // +3: 'conditions'\n    // +4: evaluated condition\n\n    // +3: 'sequence'\n    // +4: executed sequence\n\n    const choosePath = this.keys[index];\n    const startLevel = choosePath.split(\"/\").length;\n    const chooseTrace = this._getItem(index)[0];\n    const defaultExecuted = ((_chooseTrace$result = chooseTrace.result) === null || _chooseTrace$result === void 0 ? void 0 : _chooseTrace$result.choice) === \"default\";\n    const chooseConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = chooseConfig.enabled === false;\n    const name = chooseConfig.alias || \"Choose\";\n    if (defaultExecuted) {\n      this._renderEntry(choosePath, `${name}: Default action executed`, undefined, disabled);\n    } else if (chooseTrace.result) {\n      const choiceNumeric = chooseTrace.result.choice !== \"default\" ? chooseTrace.result.choice + 1 : undefined;\n      const choiceConfig = this._getDataFromPath(`${this.keys[index]}/choose/${chooseTrace.result.choice}`);\n      const choiceName = choiceConfig ? `${choiceConfig.alias || `Option ${choiceNumeric}`} executed` : `Error: ${chooseTrace.error}`;\n      this._renderEntry(choosePath, `${name}: ${choiceName}`, undefined, disabled);\n    } else {\n      this._renderEntry(choosePath, `${name}: No action taken`, undefined, disabled);\n    }\n    let i;\n\n    // Skip over conditions\n    for (i = index + 1; i < this.keys.length; i++) {\n      const parts = this.keys[i].split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We're going to skip all conditions\n      if (defaultExecuted && parts[startLevel + 1] === \"default\" || !defaultExecuted && parts[startLevel + 3] === \"sequence\") {\n        break;\n      }\n    }\n\n    // Render choice\n    while (i < this.keys.length) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We know it's an action sequence, so force the type like that\n      // for rendering.\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _handleRepeat(index) {\n    const repeatPath = this.keys[index];\n    const startLevel = repeatPath.split(\"/\").length;\n    const repeatConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = repeatConfig.enabled === false;\n    const name = repeatConfig.alias || (0,_data_script_i18n__WEBPACK_IMPORTED_MODULE_12__.describeAction)(this.hass, this.entityReg, repeatConfig);\n    this._renderEntry(repeatPath, name, undefined, disabled);\n    let i;\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)), true);\n    }\n    return i;\n  }\n  _handleIf(index) {\n    var _ifTrace$result;\n    const ifPath = this.keys[index];\n    const startLevel = ifPath.split(\"/\").length;\n    const ifTrace = this._getItem(index)[0];\n    const ifConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = ifConfig.enabled === false;\n    const name = ifConfig.alias || \"If\";\n    if ((_ifTrace$result = ifTrace.result) !== null && _ifTrace$result !== void 0 && _ifTrace$result.choice) {\n      const choiceConfig = this._getDataFromPath(`${this.keys[index]}/${ifTrace.result.choice}/`);\n      const choiceName = choiceConfig ? `${choiceConfig.alias || `${ifTrace.result.choice} action executed`}` : `Error: ${ifTrace.error}`;\n      this._renderEntry(ifPath, `${name}: ${choiceName}`, undefined, disabled);\n    } else {\n      this._renderEntry(ifPath, `${name}: No action taken`, undefined, disabled);\n    }\n    let i;\n\n    // Skip over conditions\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = this.keys[i].split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We're going to skip all conditions\n      if (parts[startLevel + 1] === \"condition\" || parts.length < startLevel + 2) {\n        continue;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _handleParallel(index) {\n    const parallelPath = this.keys[index];\n    const startLevel = parallelPath.split(\"/\").length;\n    const parallelConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = parallelConfig.enabled === false;\n    const name = parallelConfig.alias || \"Execute in parallel\";\n    this._renderEntry(parallelPath, name, undefined, disabled);\n    let i;\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _renderEntry(path, description, icon = mdiRecordCircleOutline, disabled = false) {\n    this.entries.push(lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-timeline .icon=${icon} data-path=${path} .notEnabled=${disabled}>\n        ${description}${disabled ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<span class=\"disabled\"> (disabled)</span>` : \"\"}\n      </ha-timeline>\n    `);\n  }\n  _getDataFromPath(path) {\n    return (0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.getDataFromPath)(this.trace.config, path);\n  }\n}\nlet HaAutomationTracer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hat-trace-timeline\")], function (_initialize, _LitElement) {\n  class HaAutomationTracer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaAutomationTracer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"selectedPath\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean\n      })],\n      key: \"allowPick\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_entityReg\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [(0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_10__.subscribeEntityRegistry)(this.hass.connection, entities => {\n          this._entityReg = entities;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.trace) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        const entries = [];\n        const timeTracker = new RenderedTimeTracker(this.hass, entries, this.trace);\n        const logbookRenderer = new LogbookRenderer(entries, timeTracker, this.logbookEntries || []);\n        const actionRenderer = new ActionRenderer(this.hass, this._entityReg, entries, this.trace, logbookRenderer, timeTracker);\n        while (actionRenderer.hasNext) {\n          actionRenderer.renderItem();\n        }\n        while (logbookRenderer.hasNext) {\n          logbookRenderer.maybeRenderItem();\n        }\n        logbookRenderer.flush();\n\n        // Render footer\n        const renderFinishedAt = () => (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatDateTimeWithSeconds)(new Date(this.trace.timestamp.finish), this.hass.locale);\n        const renderRuntime = () => `(runtime:\n      ${((new Date(this.trace.timestamp.finish).getTime() - new Date(this.trace.timestamp.start).getTime()) / 1000).toFixed(2)}\n      seconds)`;\n        let entry;\n        if (this.trace.state === \"running\") {\n          entry = {\n            description: \"Still running\",\n            icon: mdiProgressClock\n          };\n        } else if (this.trace.state === \"debugged\") {\n          entry = {\n            description: \"Debugged\",\n            icon: mdiProgressWrench\n          };\n        } else if (this.trace.script_execution === \"finished\") {\n          entry = {\n            description: `Finished at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiCircle\n          };\n        } else if (this.trace.script_execution === \"aborted\") {\n          entry = {\n            description: `Aborted at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiAlertCircle\n          };\n        } else if (this.trace.script_execution === \"cancelled\") {\n          entry = {\n            description: `Cancelled at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiAlertCircle\n          };\n        } else {\n          let reason;\n          let isError = false;\n          let extra;\n          switch (this.trace.script_execution) {\n            case \"failed_conditions\":\n              reason = \"a condition failed\";\n              break;\n            case \"failed_single\":\n              reason = \"only a single execution is allowed\";\n              break;\n            case \"failed_max_runs\":\n              reason = \"maximum number of parallel runs reached\";\n              break;\n            case \"error\":\n              reason = \"an error was encountered\";\n              isError = true;\n              extra = lit__WEBPACK_IMPORTED_MODULE_3__.html`<br /><br />${this.trace.error}`;\n              break;\n            default:\n              reason = `of unknown reason \"${this.trace.script_execution}\"`;\n              isError = true;\n          }\n          entry = {\n            description: lit__WEBPACK_IMPORTED_MODULE_3__.html`Stopped because ${reason} at ${renderFinishedAt()}\n        ${renderRuntime()}${extra || \"\"}`,\n            icon: mdiAlertCircle,\n            className: isError ? \"error\" : undefined\n          };\n        }\n        entries.push(lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-timeline\n        lastItem\n        .icon=${entry.icon}\n        class=${(0,lit_directives_if_defined__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(entry.className)}\n      >\n        ${entry.description}\n      </ha-timeline>\n    `);\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`${entries}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(props) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaAutomationTracer.prototype), \"updated\", this).call(this, props);\n\n        // Pick first path when we load a new trace.\n        if (this.allowPick && props.has(\"trace\") && this.trace && this.selectedPath && !(this.selectedPath in this.trace.trace)) {\n          const element = this.shadowRoot.querySelector(\"ha-timeline[data-path]\");\n          if (element) {\n            (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"value-changed\", {\n              value: element.dataset.path\n            });\n            this.selectedPath = element.dataset.path;\n          }\n        }\n        if (props.has(\"trace\") || props.has(\"selectedPath\")) {\n          this.shadowRoot.querySelectorAll(\"ha-timeline[data-path]\").forEach(el => {\n            (0,_common_dom_toggle_attribute__WEBPACK_IMPORTED_MODULE_9__.toggleAttribute)(el, \"selected\", this.selectedPath === el.dataset.path);\n            if (!this.allowPick || el.tabIndex === 0) {\n              return;\n            }\n            el.tabIndex = 0;\n            const selectEl = () => {\n              this.selectedPath = el.dataset.path;\n              (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"value-changed\", {\n                value: el.dataset.path\n              });\n            };\n            el.addEventListener(\"click\", selectEl);\n            el.addEventListener(\"keydown\", ev => {\n              if (ev.key === \"Enter\" || ev.key === \" \") {\n                selectEl();\n              }\n            });\n            el.addEventListener(\"mouseover\", () => {\n              el.raised = true;\n            });\n            el.addEventListener(\"mouseout\", () => {\n              el.raised = false;\n            });\n          });\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_3__.css`\n        ha-timeline[lastItem].condition {\n          --timeline-ball-color: var(--error-color);\n        }\n        ha-timeline[data-path] {\n          cursor: pointer;\n        }\n        ha-timeline[selected] {\n          --timeline-ball-color: var(--primary-color);\n        }\n        ha-timeline:focus {\n          outline: none;\n          --timeline-ball-color: var(--accent-color);\n        }\n        .error {\n          --timeline-ball-color: var(--error-color);\n          color: var(--error-color);\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtdHJhY2UtdGltZWxpbmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQVFBO0FBQ0E7QUFVQTtBQUdBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFHQTtBQUdBO0FBSUE7QUFIQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSUE7QUFIQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFPQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBV0E7QUFNQTtBQUNBO0FBRUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUlBO0FBR0E7QUFHQTtBQU1BO0FBQ0E7QUFNQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBd05BO0FBQUE7QUFBQTtBQXhOQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUtBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGF0LXRyYWNlLXRpbWVsaW5lLnRzP2Y3NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpQWxlcnRDaXJjbGUsXG4gIG1kaUNpcmNsZSxcbiAgbWRpQ2lyY2xlT3V0bGluZSxcbiAgbWRpUHJvZ3Jlc3NDbG9jayxcbiAgbWRpUHJvZ3Jlc3NXcmVuY2gsXG4gIG1kaVJlY29yZENpcmNsZU91dGxpbmUsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBQcm9wZXJ0eVZhbHVlcyxcbiAgVGVtcGxhdGVSZXN1bHQsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWRcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlX3RpbWVcIjtcbmltcG9ydCB7IHJlbGF0aXZlVGltZSB9IGZyb20gXCIuLi8uLi9jb21tb24vZGF0ZXRpbWUvcmVsYXRpdmVfdGltZVwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgdG9nZ2xlQXR0cmlidXRlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vdG9nZ2xlX2F0dHJpYnV0ZVwiO1xuaW1wb3J0IHtcbiAgRW50aXR5UmVnaXN0cnlFbnRyeSxcbiAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2VudGl0eV9yZWdpc3RyeVwiO1xuaW1wb3J0IHsgTG9nYm9va0VudHJ5IH0gZnJvbSBcIi4uLy4uL2RhdGEvbG9nYm9va1wiO1xuaW1wb3J0IHtcbiAgQ2hvb3NlQWN0aW9uLFxuICBDaG9vc2VBY3Rpb25DaG9pY2UsXG4gIGdldEFjdGlvblR5cGUsXG4gIElmQWN0aW9uLFxuICBQYXJhbGxlbEFjdGlvbixcbiAgUmVwZWF0QWN0aW9uLFxufSBmcm9tIFwiLi4vLi4vZGF0YS9zY3JpcHRcIjtcbmltcG9ydCB7IGRlc2NyaWJlQWN0aW9uIH0gZnJvbSBcIi4uLy4uL2RhdGEvc2NyaXB0X2kxOG5cIjtcbmltcG9ydCB7XG4gIEFjdGlvblRyYWNlU3RlcCxcbiAgQXV0b21hdGlvblRyYWNlRXh0ZW5kZWQsXG4gIENob29zZUFjdGlvblRyYWNlU3RlcCxcbiAgZ2V0RGF0YUZyb21QYXRoLFxuICBJZkFjdGlvblRyYWNlU3RlcCxcbiAgaXNUcmlnZ2VyUGF0aCxcbiAgVHJpZ2dlclRyYWNlU3RlcCxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGEtdGltZWxpbmVcIjtcbmltcG9ydCB0eXBlIHsgSGFUaW1lbGluZSB9IGZyb20gXCIuL2hhLXRpbWVsaW5lXCI7XG5cbmNvbnN0IExPR0JPT0tfRU5UUklFU19CRUZPUkVfRk9MRCA9IDI7XG5cbi8qIGVzbGludCBtYXgtY2xhc3Nlcy1wZXItZmlsZTogXCJvZmZcIiAqL1xuXG4vLyBSZXBvcnQgdGltZSBlbnRyeSB3aGVuIG1vcmUgdGhhbiB0aGlzIHRpbWUgaGFzIHBhc3NlZFxuY29uc3QgU0lHTklGSUNBTlRfVElNRV9DSEFOR0UgPSAxMDAwOyAvLyAxIHNlY29uZHNcblxuY29uc3QgaXNTaWduaWZpY2FudFRpbWVDaGFuZ2UgPSAoYTogRGF0ZSwgYjogRGF0ZSkgPT5cbiAgTWF0aC5hYnMoYi5nZXRUaW1lKCkgLSBhLmdldFRpbWUoKSkgPiBTSUdOSUZJQ0FOVF9USU1FX0NIQU5HRTtcblxuY2xhc3MgUmVuZGVyZWRUaW1lVHJhY2tlciB7XG4gIHByaXZhdGUgbGFzdFJlcG9ydGVkVGltZTogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gICAgcHJpdmF0ZSBlbnRyaWVzOiBUZW1wbGF0ZVJlc3VsdFtdLFxuICAgIHRyYWNlOiBBdXRvbWF0aW9uVHJhY2VFeHRlbmRlZFxuICApIHtcbiAgICB0aGlzLmxhc3RSZXBvcnRlZFRpbWUgPSBuZXcgRGF0ZSh0cmFjZS50aW1lc3RhbXAuc3RhcnQpO1xuICB9XG5cbiAgc2V0TGFzdFJlcG9ydGVkVGltZShkYXRlOiBEYXRlKSB7XG4gICAgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lID0gZGF0ZTtcbiAgfVxuXG4gIHJlbmRlclRpbWUoZnJvbTogRGF0ZSwgdG86IERhdGUpOiB2b2lkIHtcbiAgICB0aGlzLmVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lIGxhYmVsPlxuICAgICAgICAke3JlbGF0aXZlVGltZShmcm9tLCB0aGlzLmhhc3MubG9jYWxlLCB0bywgZmFsc2UpfSBsYXRlclxuICAgICAgPC9oYS10aW1lbGluZT5cbiAgICBgKTtcbiAgICB0aGlzLmxhc3RSZXBvcnRlZFRpbWUgPSB0bztcbiAgfVxuXG4gIG1heWJlUmVuZGVyVGltZSh0aW1lc3RhbXA6IERhdGUpOiBib29sZWFuIHtcbiAgICBpZiAoIWlzU2lnbmlmaWNhbnRUaW1lQ2hhbmdlKHRpbWVzdGFtcCwgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lKSkge1xuICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lID0gdGltZXN0YW1wO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyVGltZSh0aGlzLmxhc3RSZXBvcnRlZFRpbWUsIHRpbWVzdGFtcCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY2xhc3MgTG9nYm9va1JlbmRlcmVyIHtcbiAgcHJpdmF0ZSBjdXJJbmRleDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcGVuZGluZ0l0ZW1zOiBBcnJheTxbRGF0ZSwgTG9nYm9va0VudHJ5XT4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGVudHJpZXM6IFRlbXBsYXRlUmVzdWx0W10sXG4gICAgcHJpdmF0ZSB0aW1lVHJhY2tlcjogUmVuZGVyZWRUaW1lVHJhY2tlcixcbiAgICBwcml2YXRlIGxvZ2Jvb2tFbnRyaWVzOiBMb2dib29rRW50cnlbXVxuICApIHtcbiAgICAvLyBTa2lwIHRoZSBcImF1dG9tYXRpb24gZ290IHRyaWdnZXJlZCBpdGVtXCJcbiAgICB0aGlzLmN1ckluZGV4ID1cbiAgICAgIGxvZ2Jvb2tFbnRyaWVzLmxlbmd0aCA+IDAgJiYgbG9nYm9va0VudHJpZXNbMF0uZG9tYWluID09PSBcImF1dG9tYXRpb25cIlxuICAgICAgICA/IDFcbiAgICAgICAgOiAwO1xuICB9XG5cbiAgZ2V0IGN1ckl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMubG9nYm9va0VudHJpZXNbdGhpcy5jdXJJbmRleF07XG4gIH1cblxuICBnZXQgaGFzTmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJJbmRleCA8IHRoaXMubG9nYm9va0VudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgbWF5YmVSZW5kZXJJdGVtKCkge1xuICAgIGNvbnN0IGxvZ2Jvb2tFbnRyeSA9IHRoaXMuY3VySXRlbTtcbiAgICB0aGlzLmN1ckluZGV4Kys7XG4gICAgY29uc3QgZW50cnlEYXRlID0gbmV3IERhdGUobG9nYm9va0VudHJ5LndoZW4gKiAxMDAwKTtcblxuICAgIGlmICh0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucGVuZGluZ0l0ZW1zLnB1c2goW2VudHJ5RGF0ZSwgbG9nYm9va0VudHJ5XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNFbnRyeURhdGUgPVxuICAgICAgdGhpcy5wZW5kaW5nSXRlbXNbdGhpcy5wZW5kaW5nSXRlbXMubGVuZ3RoIC0gMV1bMF07XG5cbiAgICAvLyBJZiBsb2dib29rIGVudHJ5IGlzIHRvbyBsb25nIGFmdGVyIHRoZSBsYXN0IG9uZSxcbiAgICAvLyBhZGQgYSB0aW1lIHBhc3NlZCBsYWJlbFxuICAgIGlmIChpc1NpZ25pZmljYW50VGltZUNoYW5nZShwcmV2aW91c0VudHJ5RGF0ZSwgZW50cnlEYXRlKSkge1xuICAgICAgdGhpcy5fcmVuZGVyTG9nYm9va0VudHJpZXMoKTtcbiAgICAgIHRoaXMudGltZVRyYWNrZXIucmVuZGVyVGltZShwcmV2aW91c0VudHJ5RGF0ZSwgZW50cnlEYXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlbmRpbmdJdGVtcy5wdXNoKFtlbnRyeURhdGUsIGxvZ2Jvb2tFbnRyeV0pO1xuICB9XG5cbiAgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX3JlbmRlckxvZ2Jvb2tFbnRyaWVzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyTG9nYm9va0VudHJpZXMoKSB7XG4gICAgdGhpcy50aW1lVHJhY2tlci5tYXliZVJlbmRlclRpbWUodGhpcy5wZW5kaW5nSXRlbXNbMF1bMF0pO1xuXG4gICAgY29uc3QgcGFydHM6IFRlbXBsYXRlUmVzdWx0W10gPSBbXTtcblxuICAgIGxldCBpO1xuXG4gICAgZm9yIChcbiAgICAgIGkgPSAwO1xuICAgICAgaSA8IE1hdGgubWluKHRoaXMucGVuZGluZ0l0ZW1zLmxlbmd0aCwgTE9HQk9PS19FTlRSSUVTX0JFRk9SRV9GT0xEKTtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgcGFydHMucHVzaCh0aGlzLl9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIodGhpcy5wZW5kaW5nSXRlbXNbaV1bMV0pKTtcbiAgICB9XG5cbiAgICBsZXQgbW9yZUl0ZW1zOiBUZW1wbGF0ZVJlc3VsdFtdIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gSWYgd2UgZGlkbid0IHJlbmRlciBhbGwgaXRlbXMsIHB1c2ggcmVzdCBpbnRvIGBtb3JlSXRlbXNgXG4gICAgaWYgKGkgPCB0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGgpIHtcbiAgICAgIG1vcmVJdGVtcyA9IFtdO1xuICAgICAgZm9yICg7IGkgPCB0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3JlSXRlbXMucHVzaCh0aGlzLl9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIodGhpcy5wZW5kaW5nSXRlbXNbaV1bMV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lIC5pY29uPSR7bWRpQ2lyY2xlT3V0bGluZX0gLm1vcmVJdGVtcz0ke21vcmVJdGVtc30+XG4gICAgICAgICR7cGFydHN9XG4gICAgICA8L2hhLXRpbWVsaW5lPlxuICAgIGApO1xuXG4gICAgLy8gQ2xlYXIgcmVuZGVyZWQgaXRlbXMuXG4gICAgdGhpcy50aW1lVHJhY2tlci5zZXRMYXN0UmVwb3J0ZWRUaW1lKFxuICAgICAgdGhpcy5wZW5kaW5nSXRlbXNbdGhpcy5wZW5kaW5nSXRlbXMubGVuZ3RoIC0gMV1bMF1cbiAgICApO1xuICAgIHRoaXMucGVuZGluZ0l0ZW1zID0gW107XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIoZW50cnk6IExvZ2Jvb2tFbnRyeSkge1xuICAgIHJldHVybiBodG1sYCR7ZW50cnkubmFtZX0gKCR7ZW50cnkuZW50aXR5X2lkfSlcbiAgICAgICR7ZW50cnkubWVzc2FnZSB8fCBgdHVybmVkICR7ZW50cnkuc3RhdGV9YH08YnIgLz5gO1xuICB9XG59XG5cbmNsYXNzIEFjdGlvblJlbmRlcmVyIHtcbiAgcHJpdmF0ZSBjdXJJbmRleCA9IDA7XG5cbiAgcHJpdmF0ZSBrZXlzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gICAgcHJpdmF0ZSBlbnRpdHlSZWc6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSxcbiAgICBwcml2YXRlIGVudHJpZXM6IFRlbXBsYXRlUmVzdWx0W10sXG4gICAgcHJpdmF0ZSB0cmFjZTogQXV0b21hdGlvblRyYWNlRXh0ZW5kZWQsXG4gICAgcHJpdmF0ZSBsb2dib29rUmVuZGVyZXI6IExvZ2Jvb2tSZW5kZXJlcixcbiAgICBwcml2YXRlIHRpbWVUcmFja2VyOiBSZW5kZXJlZFRpbWVUcmFja2VyXG4gICkge1xuICAgIHRoaXMua2V5cyA9IE9iamVjdC5rZXlzKHRyYWNlLnRyYWNlKTtcbiAgfVxuXG4gIGdldCBjdXJJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRJdGVtKHRoaXMuY3VySW5kZXgpO1xuICB9XG5cbiAgZ2V0IGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VySW5kZXggPCB0aGlzLmtleXMubGVuZ3RoO1xuICB9XG5cbiAgcmVuZGVySXRlbSgpIHtcbiAgICB0aGlzLmN1ckluZGV4ID0gdGhpcy5fcmVuZGVySXRlbSh0aGlzLmN1ckluZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldEl0ZW0oaW5kZXg6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnRyYWNlLnRyYWNlW3RoaXMua2V5c1tpbmRleF1dO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVySXRlbShcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGFjdGlvblR5cGU/OiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRBY3Rpb25UeXBlPixcbiAgICByZW5kZXJBbGxJdGVyYXRpb25zPzogYm9vbGVhblxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0SXRlbShpbmRleCk7XG5cbiAgICBpZiAocmVuZGVyQWxsSXRlcmF0aW9ucykge1xuICAgICAgbGV0IGk7XG4gICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGkgPSB0aGlzLl9yZW5kZXJJdGVyYXRpb24oaW5kZXgsIGl0ZW0sIGFjdGlvblR5cGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlckl0ZXJhdGlvbihpbmRleCwgdmFsdWVbMF0sIGFjdGlvblR5cGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVySXRlcmF0aW9uKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmFsdWU6IEFjdGlvblRyYWNlU3RlcCxcbiAgICBhY3Rpb25UeXBlPzogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0QWN0aW9uVHlwZT5cbiAgKSB7XG4gICAgaWYgKGlzVHJpZ2dlclBhdGgodmFsdWUucGF0aCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVUcmlnZ2VyKGluZGV4LCB2YWx1ZSBhcyBUcmlnZ2VyVHJhY2VTdGVwKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSh2YWx1ZS50aW1lc3RhbXApO1xuXG4gICAgLy8gUmVuZGVyIGFsbCBsb2dib29rIGl0ZW1zIHRoYXQgYXJlIGluIGZyb250IG9mIHRoaXMgaXRlbS5cbiAgICB3aGlsZSAoXG4gICAgICB0aGlzLmxvZ2Jvb2tSZW5kZXJlci5oYXNOZXh0ICYmXG4gICAgICBuZXcgRGF0ZSh0aGlzLmxvZ2Jvb2tSZW5kZXJlci5jdXJJdGVtLndoZW4gKiAxMDAwKSA8IHRpbWVzdGFtcFxuICAgICkge1xuICAgICAgdGhpcy5sb2dib29rUmVuZGVyZXIubWF5YmVSZW5kZXJJdGVtKCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dib29rUmVuZGVyZXIuZmx1c2goKTtcbiAgICB0aGlzLnRpbWVUcmFja2VyLm1heWJlUmVuZGVyVGltZSh0aW1lc3RhbXApO1xuXG4gICAgY29uc3QgcGF0aCA9IHZhbHVlLnBhdGg7XG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBnZXREYXRhRnJvbVBhdGgodGhpcy50cmFjZS5jb25maWcsIHBhdGgpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aGlzLl9yZW5kZXJFbnRyeShcbiAgICAgICAgcGF0aCxcbiAgICAgICAgYFVuYWJsZSB0byBleHRyYWN0IHBhdGggJHtwYXRofS4gRG93bmxvYWQgdHJhY2UgYW5kIHJlcG9ydCBhcyBidWdgXG4gICAgICApO1xuICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgIGNvbnN0IGlzVG9wTGV2ZWwgPSBwYXJ0cy5sZW5ndGggPT09IDI7XG5cbiAgICBpZiAoIWlzVG9wTGV2ZWwgJiYgIWFjdGlvblR5cGUpIHtcbiAgICAgIHRoaXMuX3JlbmRlckVudHJ5KHBhdGgsIHBhdGgucmVwbGFjZSgvXFwvL2csIFwiIFwiKSk7XG4gICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIGlmICghYWN0aW9uVHlwZSkge1xuICAgICAgYWN0aW9uVHlwZSA9IGdldEFjdGlvblR5cGUoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvblR5cGUgPT09IFwiY2hvb3NlXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVDaG9vc2UoaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25UeXBlID09PSBcInJlcGVhdFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVwZWF0KGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gXCJpZlwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlSWYoaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25UeXBlID09PSBcInBhcmFsbGVsXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVQYXJhbGxlbChpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICBwYXRoLFxuICAgICAgZGVzY3JpYmVBY3Rpb24odGhpcy5oYXNzLCB0aGlzLmVudGl0eVJlZywgZGF0YSwgYWN0aW9uVHlwZSksXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBkYXRhLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgKTtcblxuICAgIGxldCBpID0gaW5kZXggKyAxO1xuXG4gICAgZm9yICg7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmtleXNbaV0uc3BsaXQoXCIvXCIpLmxlbmd0aCA9PT0gcGFydHMubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlVHJpZ2dlcihpbmRleDogbnVtYmVyLCB0cmlnZ2VyU3RlcDogVHJpZ2dlclRyYWNlU3RlcCk6IG51bWJlciB7XG4gICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICB0cmlnZ2VyU3RlcC5wYXRoLFxuICAgICAgYCR7XG4gICAgICAgIHRyaWdnZXJTdGVwLmNoYW5nZWRfdmFyaWFibGVzLnRyaWdnZXIuYWxpYXNcbiAgICAgICAgICA/IGAke3RyaWdnZXJTdGVwLmNoYW5nZWRfdmFyaWFibGVzLnRyaWdnZXIuYWxpYXN9IHRyaWdnZXJlZGBcbiAgICAgICAgICA6IFwiVHJpZ2dlcmVkXCJcbiAgICAgIH0gJHtcbiAgICAgICAgdHJpZ2dlclN0ZXAucGF0aCA9PT0gXCJ0cmlnZ2VyXCJcbiAgICAgICAgICA/IFwibWFudWFsbHlcIlxuICAgICAgICAgIDogYGJ5IHRoZSAke3RoaXMudHJhY2UudHJpZ2dlcn1gXG4gICAgICB9IGF0XG4gICAgJHtmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKFxuICAgICAgbmV3IERhdGUodHJpZ2dlclN0ZXAudGltZXN0YW1wKSxcbiAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICApfWAsXG4gICAgICBtZGlDaXJjbGVcbiAgICApO1xuICAgIHJldHVybiBpbmRleCArIDE7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVDaG9vc2UoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gc3RhcnRMZXZlbDogY2hvb3NlIHJvb3QgY29uZmlnXG5cbiAgICAvLyArMTogJ2RlZmF1bHRcbiAgICAvLyArMjogZXhlY3V0ZWQgc2VxdWVuY2VcblxuICAgIC8vICsxOiAnY2hvb3NlJ1xuICAgIC8vICsyOiBjdXJyZW50IGNob2ljZVxuXG4gICAgLy8gKzM6ICdjb25kaXRpb25zJ1xuICAgIC8vICs0OiBldmFsdWF0ZWQgY29uZGl0aW9uXG5cbiAgICAvLyArMzogJ3NlcXVlbmNlJ1xuICAgIC8vICs0OiBleGVjdXRlZCBzZXF1ZW5jZVxuXG4gICAgY29uc3QgY2hvb3NlUGF0aCA9IHRoaXMua2V5c1tpbmRleF07XG4gICAgY29uc3Qgc3RhcnRMZXZlbCA9IGNob29zZVBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblxuICAgIGNvbnN0IGNob29zZVRyYWNlID0gdGhpcy5fZ2V0SXRlbShpbmRleClbMF0gYXMgQ2hvb3NlQWN0aW9uVHJhY2VTdGVwO1xuICAgIGNvbnN0IGRlZmF1bHRFeGVjdXRlZCA9IGNob29zZVRyYWNlLnJlc3VsdD8uY2hvaWNlID09PSBcImRlZmF1bHRcIjtcbiAgICBjb25zdCBjaG9vc2VDb25maWcgPSB0aGlzLl9nZXREYXRhRnJvbVBhdGgoXG4gICAgICB0aGlzLmtleXNbaW5kZXhdXG4gICAgKSBhcyBDaG9vc2VBY3Rpb247XG4gICAgY29uc3QgZGlzYWJsZWQgPSBjaG9vc2VDb25maWcuZW5hYmxlZCA9PT0gZmFsc2U7XG4gICAgY29uc3QgbmFtZSA9IGNob29zZUNvbmZpZy5hbGlhcyB8fCBcIkNob29zZVwiO1xuXG4gICAgaWYgKGRlZmF1bHRFeGVjdXRlZCkge1xuICAgICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICAgIGNob29zZVBhdGgsXG4gICAgICAgIGAke25hbWV9OiBEZWZhdWx0IGFjdGlvbiBleGVjdXRlZGAsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjaG9vc2VUcmFjZS5yZXN1bHQpIHtcbiAgICAgIGNvbnN0IGNob2ljZU51bWVyaWMgPVxuICAgICAgICBjaG9vc2VUcmFjZS5yZXN1bHQuY2hvaWNlICE9PSBcImRlZmF1bHRcIlxuICAgICAgICAgID8gY2hvb3NlVHJhY2UucmVzdWx0LmNob2ljZSArIDFcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IGNob2ljZUNvbmZpZyA9IHRoaXMuX2dldERhdGFGcm9tUGF0aChcbiAgICAgICAgYCR7dGhpcy5rZXlzW2luZGV4XX0vY2hvb3NlLyR7Y2hvb3NlVHJhY2UucmVzdWx0LmNob2ljZX1gXG4gICAgICApIGFzIENob29zZUFjdGlvbkNob2ljZSB8IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IGNob2ljZU5hbWUgPSBjaG9pY2VDb25maWdcbiAgICAgICAgPyBgJHtjaG9pY2VDb25maWcuYWxpYXMgfHwgYE9wdGlvbiAke2Nob2ljZU51bWVyaWN9YH0gZXhlY3V0ZWRgXG4gICAgICAgIDogYEVycm9yOiAke2Nob29zZVRyYWNlLmVycm9yfWA7XG4gICAgICB0aGlzLl9yZW5kZXJFbnRyeShcbiAgICAgICAgY2hvb3NlUGF0aCxcbiAgICAgICAgYCR7bmFtZX06ICR7Y2hvaWNlTmFtZX1gLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJFbnRyeShcbiAgICAgICAgY2hvb3NlUGF0aCxcbiAgICAgICAgYCR7bmFtZX06IE5vIGFjdGlvbiB0YWtlbmAsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGk7XG5cbiAgICAvLyBTa2lwIG92ZXIgY29uZGl0aW9uc1xuICAgIGZvciAoaSA9IGluZGV4ICsgMTsgaSA8IHRoaXMua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGFydHMgPSB0aGlzLmtleXNbaV0uc3BsaXQoXCIvXCIpO1xuXG4gICAgICAvLyBXZSdyZSBkb25lIGlmIG5vIG1vcmUgc2VxdWVuY2UgaW4gY3VycmVudCBsZXZlbFxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8PSBzdGFydExldmVsKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSdyZSBnb2luZyB0byBza2lwIGFsbCBjb25kaXRpb25zXG4gICAgICBpZiAoXG4gICAgICAgIChkZWZhdWx0RXhlY3V0ZWQgJiYgcGFydHNbc3RhcnRMZXZlbCArIDFdID09PSBcImRlZmF1bHRcIikgfHxcbiAgICAgICAgKCFkZWZhdWx0RXhlY3V0ZWQgJiYgcGFydHNbc3RhcnRMZXZlbCArIDNdID09PSBcInNlcXVlbmNlXCIpXG4gICAgICApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGNob2ljZVxuICAgIHdoaWxlIChpIDwgdGhpcy5rZXlzLmxlbmd0aCkge1xuICAgICAgY29uc3QgcGF0aCA9IHRoaXMua2V5c1tpXTtcbiAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG5cbiAgICAgIC8vIFdlJ3JlIGRvbmUgaWYgbm8gbW9yZSBzZXF1ZW5jZSBpbiBjdXJyZW50IGxldmVsXG4gICAgICBpZiAocGFydHMubGVuZ3RoIDw9IHN0YXJ0TGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGtub3cgaXQncyBhbiBhY3Rpb24gc2VxdWVuY2UsIHNvIGZvcmNlIHRoZSB0eXBlIGxpa2UgdGhhdFxuICAgICAgLy8gZm9yIHJlbmRlcmluZy5cbiAgICAgIGkgPSB0aGlzLl9yZW5kZXJJdGVtKGksIGdldEFjdGlvblR5cGUodGhpcy5fZ2V0RGF0YUZyb21QYXRoKHBhdGgpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVSZXBlYXQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgcmVwZWF0UGF0aCA9IHRoaXMua2V5c1tpbmRleF07XG4gICAgY29uc3Qgc3RhcnRMZXZlbCA9IHJlcGVhdFBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblxuICAgIGNvbnN0IHJlcGVhdENvbmZpZyA9IHRoaXMuX2dldERhdGFGcm9tUGF0aChcbiAgICAgIHRoaXMua2V5c1tpbmRleF1cbiAgICApIGFzIFJlcGVhdEFjdGlvbjtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHJlcGVhdENvbmZpZy5lbmFibGVkID09PSBmYWxzZTtcblxuICAgIGNvbnN0IG5hbWUgPVxuICAgICAgcmVwZWF0Q29uZmlnLmFsaWFzIHx8XG4gICAgICBkZXNjcmliZUFjdGlvbih0aGlzLmhhc3MsIHRoaXMuZW50aXR5UmVnLCByZXBlYXRDb25maWcpO1xuXG4gICAgdGhpcy5fcmVuZGVyRW50cnkocmVwZWF0UGF0aCwgbmFtZSwgdW5kZWZpbmVkLCBkaXNhYmxlZCk7XG5cbiAgICBsZXQgaTtcblxuICAgIGZvciAoaSA9IGluZGV4ICsgMTsgaSA8IHRoaXMua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGF0aCA9IHRoaXMua2V5c1tpXTtcbiAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG5cbiAgICAgIC8vIFdlJ3JlIGRvbmUgaWYgbm8gbW9yZSBzZXF1ZW5jZSBpbiBjdXJyZW50IGxldmVsXG4gICAgICBpZiAocGFydHMubGVuZ3RoIDw9IHN0YXJ0TGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG5cbiAgICAgIGkgPSB0aGlzLl9yZW5kZXJJdGVtKGksIGdldEFjdGlvblR5cGUodGhpcy5fZ2V0RGF0YUZyb21QYXRoKHBhdGgpKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVJZihpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBpZlBhdGggPSB0aGlzLmtleXNbaW5kZXhdO1xuICAgIGNvbnN0IHN0YXJ0TGV2ZWwgPSBpZlBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblxuICAgIGNvbnN0IGlmVHJhY2UgPSB0aGlzLl9nZXRJdGVtKGluZGV4KVswXSBhcyBJZkFjdGlvblRyYWNlU3RlcDtcbiAgICBjb25zdCBpZkNvbmZpZyA9IHRoaXMuX2dldERhdGFGcm9tUGF0aCh0aGlzLmtleXNbaW5kZXhdKSBhcyBJZkFjdGlvbjtcbiAgICBjb25zdCBkaXNhYmxlZCA9IGlmQ29uZmlnLmVuYWJsZWQgPT09IGZhbHNlO1xuICAgIGNvbnN0IG5hbWUgPSBpZkNvbmZpZy5hbGlhcyB8fCBcIklmXCI7XG5cbiAgICBpZiAoaWZUcmFjZS5yZXN1bHQ/LmNob2ljZSkge1xuICAgICAgY29uc3QgY2hvaWNlQ29uZmlnID0gdGhpcy5fZ2V0RGF0YUZyb21QYXRoKFxuICAgICAgICBgJHt0aGlzLmtleXNbaW5kZXhdfS8ke2lmVHJhY2UucmVzdWx0LmNob2ljZX0vYFxuICAgICAgKSBhcyBhbnk7XG4gICAgICBjb25zdCBjaG9pY2VOYW1lID0gY2hvaWNlQ29uZmlnXG4gICAgICAgID8gYCR7Y2hvaWNlQ29uZmlnLmFsaWFzIHx8IGAke2lmVHJhY2UucmVzdWx0LmNob2ljZX0gYWN0aW9uIGV4ZWN1dGVkYH1gXG4gICAgICAgIDogYEVycm9yOiAke2lmVHJhY2UuZXJyb3J9YDtcbiAgICAgIHRoaXMuX3JlbmRlckVudHJ5KGlmUGF0aCwgYCR7bmFtZX06ICR7Y2hvaWNlTmFtZX1gLCB1bmRlZmluZWQsIGRpc2FibGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICAgIGlmUGF0aCxcbiAgICAgICAgYCR7bmFtZX06IE5vIGFjdGlvbiB0YWtlbmAsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGk7XG5cbiAgICAvLyBTa2lwIG92ZXIgY29uZGl0aW9uc1xuICAgIGZvciAoaSA9IGluZGV4ICsgMTsgaSA8IHRoaXMua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGF0aCA9IHRoaXMua2V5c1tpXTtcbiAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5rZXlzW2ldLnNwbGl0KFwiL1wiKTtcblxuICAgICAgLy8gV2UncmUgZG9uZSBpZiBubyBtb3JlIHNlcXVlbmNlIGluIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPD0gc3RhcnRMZXZlbCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UncmUgZ29pbmcgdG8gc2tpcCBhbGwgY29uZGl0aW9uc1xuICAgICAgaWYgKFxuICAgICAgICBwYXJ0c1tzdGFydExldmVsICsgMV0gPT09IFwiY29uZGl0aW9uXCIgfHxcbiAgICAgICAgcGFydHMubGVuZ3RoIDwgc3RhcnRMZXZlbCArIDJcbiAgICAgICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaSA9IHRoaXMuX3JlbmRlckl0ZW0oaSwgZ2V0QWN0aW9uVHlwZSh0aGlzLl9nZXREYXRhRnJvbVBhdGgocGF0aCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZVBhcmFsbGVsKGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHBhcmFsbGVsUGF0aCA9IHRoaXMua2V5c1tpbmRleF07XG4gICAgY29uc3Qgc3RhcnRMZXZlbCA9IHBhcmFsbGVsUGF0aC5zcGxpdChcIi9cIikubGVuZ3RoO1xuXG4gICAgY29uc3QgcGFyYWxsZWxDb25maWcgPSB0aGlzLl9nZXREYXRhRnJvbVBhdGgoXG4gICAgICB0aGlzLmtleXNbaW5kZXhdXG4gICAgKSBhcyBQYXJhbGxlbEFjdGlvbjtcblxuICAgIGNvbnN0IGRpc2FibGVkID0gcGFyYWxsZWxDb25maWcuZW5hYmxlZCA9PT0gZmFsc2U7XG5cbiAgICBjb25zdCBuYW1lID0gcGFyYWxsZWxDb25maWcuYWxpYXMgfHwgXCJFeGVjdXRlIGluIHBhcmFsbGVsXCI7XG5cbiAgICB0aGlzLl9yZW5kZXJFbnRyeShwYXJhbGxlbFBhdGgsIG5hbWUsIHVuZGVmaW5lZCwgZGlzYWJsZWQpO1xuXG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgPSBpbmRleCArIDE7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmtleXNbaV07XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXG4gICAgICAvLyBXZSdyZSBkb25lIGlmIG5vIG1vcmUgc2VxdWVuY2UgaW4gY3VycmVudCBsZXZlbFxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8PSBzdGFydExldmVsKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuXG4gICAgICBpID0gdGhpcy5fcmVuZGVySXRlbShpLCBnZXRBY3Rpb25UeXBlKHRoaXMuX2dldERhdGFGcm9tUGF0aChwYXRoKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyRW50cnkoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgaWNvbiA9IG1kaVJlY29yZENpcmNsZU91dGxpbmUsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICB0aGlzLmVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lIC5pY29uPSR7aWNvbn0gZGF0YS1wYXRoPSR7cGF0aH0gLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZH0+XG4gICAgICAgICR7ZGVzY3JpcHRpb259JHtkaXNhYmxlZFxuICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cImRpc2FibGVkXCI+IChkaXNhYmxlZCk8L3NwYW4+YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgIDwvaGEtdGltZWxpbmU+XG4gICAgYCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXREYXRhRnJvbVBhdGgocGF0aDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGdldERhdGFGcm9tUGF0aCh0aGlzLnRyYWNlLmNvbmZpZywgcGF0aCk7XG4gIH1cbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJoYXQtdHJhY2UtdGltZWxpbmVcIilcbmV4cG9ydCBjbGFzcyBIYUF1dG9tYXRpb25UcmFjZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgdHJhY2U/OiBBdXRvbWF0aW9uVHJhY2VFeHRlbmRlZDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBsb2dib29rRW50cmllcz86IExvZ2Jvb2tFbnRyeVtdO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHNlbGVjdGVkUGF0aD86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHB1YmxpYyBhbGxvd1BpY2sgPSBmYWxzZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9lbnRpdHlSZWc6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSA9IFtdO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnkodGhpcy5oYXNzLmNvbm5lY3Rpb24hLCAoZW50aXRpZXMpID0+IHtcbiAgICAgICAgdGhpcy5fZW50aXR5UmVnID0gZW50aXRpZXM7XG4gICAgICB9KSxcbiAgICBdO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMudHJhY2UpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cblxuICAgIGNvbnN0IGVudHJpZXM6IFRlbXBsYXRlUmVzdWx0W10gPSBbXTtcblxuICAgIGNvbnN0IHRpbWVUcmFja2VyID0gbmV3IFJlbmRlcmVkVGltZVRyYWNrZXIodGhpcy5oYXNzLCBlbnRyaWVzLCB0aGlzLnRyYWNlKTtcbiAgICBjb25zdCBsb2dib29rUmVuZGVyZXIgPSBuZXcgTG9nYm9va1JlbmRlcmVyKFxuICAgICAgZW50cmllcyxcbiAgICAgIHRpbWVUcmFja2VyLFxuICAgICAgdGhpcy5sb2dib29rRW50cmllcyB8fCBbXVxuICAgICk7XG4gICAgY29uc3QgYWN0aW9uUmVuZGVyZXIgPSBuZXcgQWN0aW9uUmVuZGVyZXIoXG4gICAgICB0aGlzLmhhc3MsXG4gICAgICB0aGlzLl9lbnRpdHlSZWcsXG4gICAgICBlbnRyaWVzLFxuICAgICAgdGhpcy50cmFjZSxcbiAgICAgIGxvZ2Jvb2tSZW5kZXJlcixcbiAgICAgIHRpbWVUcmFja2VyXG4gICAgKTtcblxuICAgIHdoaWxlIChhY3Rpb25SZW5kZXJlci5oYXNOZXh0KSB7XG4gICAgICBhY3Rpb25SZW5kZXJlci5yZW5kZXJJdGVtKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGxvZ2Jvb2tSZW5kZXJlci5oYXNOZXh0KSB7XG4gICAgICBsb2dib29rUmVuZGVyZXIubWF5YmVSZW5kZXJJdGVtKCk7XG4gICAgfVxuXG4gICAgbG9nYm9va1JlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAvLyBSZW5kZXIgZm9vdGVyXG4gICAgY29uc3QgcmVuZGVyRmluaXNoZWRBdCA9ICgpID0+XG4gICAgICBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKFxuICAgICAgICBuZXcgRGF0ZSh0aGlzLnRyYWNlIS50aW1lc3RhbXAuZmluaXNoISksXG4gICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICk7XG4gICAgY29uc3QgcmVuZGVyUnVudGltZSA9ICgpID0+IGAocnVudGltZTpcbiAgICAgICR7KFxuICAgICAgICAobmV3IERhdGUodGhpcy50cmFjZSEudGltZXN0YW1wLmZpbmlzaCEpLmdldFRpbWUoKSAtXG4gICAgICAgICAgbmV3IERhdGUodGhpcy50cmFjZSEudGltZXN0YW1wLnN0YXJ0KS5nZXRUaW1lKCkpIC9cbiAgICAgICAgMTAwMFxuICAgICAgKS50b0ZpeGVkKDIpfVxuICAgICAgc2Vjb25kcylgO1xuXG4gICAgbGV0IGVudHJ5OiB7XG4gICAgICBkZXNjcmlwdGlvbjogVGVtcGxhdGVSZXN1bHQgfCBzdHJpbmc7XG4gICAgICBpY29uOiBzdHJpbmc7XG4gICAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnRyYWNlLnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlN0aWxsIHJ1bm5pbmdcIixcbiAgICAgICAgaWNvbjogbWRpUHJvZ3Jlc3NDbG9jayxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnRyYWNlLnN0YXRlID09PSBcImRlYnVnZ2VkXCIpIHtcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogXCJEZWJ1Z2dlZFwiLFxuICAgICAgICBpY29uOiBtZGlQcm9ncmVzc1dyZW5jaCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnRyYWNlLnNjcmlwdF9leGVjdXRpb24gPT09IFwiZmluaXNoZWRcIikge1xuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBgRmluaXNoZWQgYXQgJHtyZW5kZXJGaW5pc2hlZEF0KCl9ICR7cmVuZGVyUnVudGltZSgpfWAsXG4gICAgICAgIGljb246IG1kaUNpcmNsZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnRyYWNlLnNjcmlwdF9leGVjdXRpb24gPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGBBYm9ydGVkIGF0ICR7cmVuZGVyRmluaXNoZWRBdCgpfSAke3JlbmRlclJ1bnRpbWUoKX1gLFxuICAgICAgICBpY29uOiBtZGlBbGVydENpcmNsZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnRyYWNlLnNjcmlwdF9leGVjdXRpb24gPT09IFwiY2FuY2VsbGVkXCIpIHtcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogYENhbmNlbGxlZCBhdCAke3JlbmRlckZpbmlzaGVkQXQoKX0gJHtyZW5kZXJSdW50aW1lKCl9YCxcbiAgICAgICAgaWNvbjogbWRpQWxlcnRDaXJjbGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVhc29uOiBzdHJpbmc7XG4gICAgICBsZXQgaXNFcnJvciA9IGZhbHNlO1xuICAgICAgbGV0IGV4dHJhOiBUZW1wbGF0ZVJlc3VsdCB8IHVuZGVmaW5lZDtcblxuICAgICAgc3dpdGNoICh0aGlzLnRyYWNlLnNjcmlwdF9leGVjdXRpb24pIHtcbiAgICAgICAgY2FzZSBcImZhaWxlZF9jb25kaXRpb25zXCI6XG4gICAgICAgICAgcmVhc29uID0gXCJhIGNvbmRpdGlvbiBmYWlsZWRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZhaWxlZF9zaW5nbGVcIjpcbiAgICAgICAgICByZWFzb24gPSBcIm9ubHkgYSBzaW5nbGUgZXhlY3V0aW9uIGlzIGFsbG93ZWRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZhaWxlZF9tYXhfcnVuc1wiOlxuICAgICAgICAgIHJlYXNvbiA9IFwibWF4aW11bSBudW1iZXIgb2YgcGFyYWxsZWwgcnVucyByZWFjaGVkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIHJlYXNvbiA9IFwiYW4gZXJyb3Igd2FzIGVuY291bnRlcmVkXCI7XG4gICAgICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgZXh0cmEgPSBodG1sYDxiciAvPjxiciAvPiR7dGhpcy50cmFjZS5lcnJvciF9YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFzb24gPSBgb2YgdW5rbm93biByZWFzb24gXCIke3RoaXMudHJhY2Uuc2NyaXB0X2V4ZWN1dGlvbn1cImA7XG4gICAgICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogaHRtbGBTdG9wcGVkIGJlY2F1c2UgJHtyZWFzb259IGF0ICR7cmVuZGVyRmluaXNoZWRBdCgpfVxuICAgICAgICAke3JlbmRlclJ1bnRpbWUoKX0ke2V4dHJhIHx8IFwiXCJ9YCxcbiAgICAgICAgaWNvbjogbWRpQWxlcnRDaXJjbGUsXG4gICAgICAgIGNsYXNzTmFtZTogaXNFcnJvciA/IFwiZXJyb3JcIiA6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZW50cmllcy5wdXNoKGh0bWxgXG4gICAgICA8aGEtdGltZWxpbmVcbiAgICAgICAgbGFzdEl0ZW1cbiAgICAgICAgLmljb249JHtlbnRyeS5pY29ufVxuICAgICAgICBjbGFzcz0ke2lmRGVmaW5lZChlbnRyeS5jbGFzc05hbWUpfVxuICAgICAgPlxuICAgICAgICAke2VudHJ5LmRlc2NyaXB0aW9ufVxuICAgICAgPC9oYS10aW1lbGluZT5cbiAgICBgKTtcblxuICAgIHJldHVybiBodG1sYCR7ZW50cmllc31gO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQocHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIudXBkYXRlZChwcm9wcyk7XG5cbiAgICAvLyBQaWNrIGZpcnN0IHBhdGggd2hlbiB3ZSBsb2FkIGEgbmV3IHRyYWNlLlxuICAgIGlmIChcbiAgICAgIHRoaXMuYWxsb3dQaWNrICYmXG4gICAgICBwcm9wcy5oYXMoXCJ0cmFjZVwiKSAmJlxuICAgICAgdGhpcy50cmFjZSAmJlxuICAgICAgdGhpcy5zZWxlY3RlZFBhdGggJiZcbiAgICAgICEodGhpcy5zZWxlY3RlZFBhdGggaW4gdGhpcy50cmFjZS50cmFjZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QhLnF1ZXJ5U2VsZWN0b3I8SGFUaW1lbGluZT4oXG4gICAgICAgIFwiaGEtdGltZWxpbmVbZGF0YS1wYXRoXVwiXG4gICAgICApO1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7IHZhbHVlOiBlbGVtZW50LmRhdGFzZXQucGF0aCB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFBhdGggPSBlbGVtZW50LmRhdGFzZXQucGF0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvcHMuaGFzKFwidHJhY2VcIikgfHwgcHJvcHMuaGFzKFwic2VsZWN0ZWRQYXRoXCIpKSB7XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QhLnF1ZXJ5U2VsZWN0b3JBbGw8SGFUaW1lbGluZT4oXG4gICAgICAgIFwiaGEtdGltZWxpbmVbZGF0YS1wYXRoXVwiXG4gICAgICApLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIHRvZ2dsZUF0dHJpYnV0ZShlbCwgXCJzZWxlY3RlZFwiLCB0aGlzLnNlbGVjdGVkUGF0aCA9PT0gZWwuZGF0YXNldC5wYXRoKTtcbiAgICAgICAgaWYgKCF0aGlzLmFsbG93UGljayB8fCBlbC50YWJJbmRleCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbC50YWJJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHNlbGVjdEVsID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYXRoID0gZWwuZGF0YXNldC5wYXRoO1xuICAgICAgICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwgeyB2YWx1ZTogZWwuZGF0YXNldC5wYXRoIH0pO1xuICAgICAgICB9O1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZWN0RWwpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXY6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXYua2V5ID09PSBcIkVudGVyXCIgfHwgZXYua2V5ID09PSBcIiBcIikge1xuICAgICAgICAgICAgc2VsZWN0RWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcbiAgICAgICAgICBlbC5yYWlzZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+IHtcbiAgICAgICAgICBlbC5yYWlzZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2BcbiAgICAgICAgaGEtdGltZWxpbmVbbGFzdEl0ZW1dLmNvbmRpdGlvbiB7XG4gICAgICAgICAgLS10aW1lbGluZS1iYWxsLWNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaGEtdGltZWxpbmVbZGF0YS1wYXRoXSB7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB9XG4gICAgICAgIGhhLXRpbWVsaW5lW3NlbGVjdGVkXSB7XG4gICAgICAgICAgLS10aW1lbGluZS1iYWxsLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBoYS10aW1lbGluZTpmb2N1cyB7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAtLXRpbWVsaW5lLWJhbGwtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICAtLXRpbWVsaW5lLWJhbGwtY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZXJyb3ItY29sb3IpO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhdC10cmFjZS10aW1lbGluZVwiOiBIYUF1dG9tYXRpb25UcmFjZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/hat-trace-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/trace-tab-styles.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/trace-tab-styles.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traceTabStyles: () => (/* binding */ traceTabStyles)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n\nconst traceTabStyles = lit__WEBPACK_IMPORTED_MODULE_0__.css`\n  .tabs {\n    background-color: var(--primary-background-color);\n    border-top: 1px solid var(--divider-color);\n    border-bottom: 1px solid var(--divider-color);\n    display: flex;\n    padding-left: 4px;\n  }\n\n  .tabs.top {\n    border-top: none;\n  }\n\n  .tabs > * {\n    padding: 2px 16px;\n    cursor: pointer;\n    position: relative;\n    bottom: -1px;\n    border: none;\n    border-bottom: 2px solid transparent;\n    user-select: none;\n    background: none;\n    color: var(--primary-text-color);\n    outline: none;\n    transition: background 15ms linear;\n  }\n\n  .tabs > *.active {\n    border-bottom-color: var(--primary-color);\n  }\n\n  .tabs > *:focus,\n  .tabs > *:hover {\n    background: var(--secondary-background-color);\n  }\n`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS90cmFjZS10YWItc3R5bGVzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL3RyYWNlLXRhYi1zdHlsZXMudHM/OGNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tIFwibGl0XCI7XG5cbmV4cG9ydCBjb25zdCB0cmFjZVRhYlN0eWxlcyA9IGNzc2BcbiAgLnRhYnMge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcik7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHBhZGRpbmctbGVmdDogNHB4O1xuICB9XG5cbiAgLnRhYnMudG9wIHtcbiAgICBib3JkZXItdG9wOiBub25lO1xuICB9XG5cbiAgLnRhYnMgPiAqIHtcbiAgICBwYWRkaW5nOiAycHggMTZweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogLTFweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDE1bXMgbGluZWFyO1xuICB9XG5cbiAgLnRhYnMgPiAqLmFjdGl2ZSB7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gIH1cblxuICAudGFicyA+ICo6Zm9jdXMsXG4gIC50YWJzID4gKjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICB9XG5gO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/trace/trace-tab-styles.ts\n");

/***/ })

}]);