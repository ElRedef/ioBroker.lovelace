"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_editor_card-editor_hui-card-picker_ts"],{

/***/ "./src/panels/lovelace/common/compute-unused-entities.ts":
/*!***************************************************************!*\
  !*** ./src/panels/lovelace/common/compute-unused-entities.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EXCLUDED_DOMAINS: () => (/* binding */ EXCLUDED_DOMAINS),\n/* harmony export */   calcUnusedEntities: () => (/* binding */ calcUnusedEntities),\n/* harmony export */   computeUnusedEntities: () => (/* binding */ computeUnusedEntities),\n/* harmony export */   computeUsedEntities: () => (/* binding */ computeUsedEntities)\n/* harmony export */ });\nconst EXCLUDED_DOMAINS = [\"zone\", \"persistent_notification\"];\nconst addFromAction = (entities, actionConfig) => {\n  var _actionConfig$target, _actionConfig$service, _actionConfig$data, _ref, _actionConfig$service2, _actionConfig$service3, _actionConfig$data2, _actionConfig$target2;\n  if (actionConfig.action !== \"call-service\" || !((_actionConfig$target = actionConfig.target) !== null && _actionConfig$target !== void 0 && _actionConfig$target.entity_id) && !((_actionConfig$service = actionConfig.service_data) !== null && _actionConfig$service !== void 0 && _actionConfig$service.entity_id) && !((_actionConfig$data = actionConfig.data) !== null && _actionConfig$data !== void 0 && _actionConfig$data.entity_id)) {\n    return;\n  }\n  let entityIds = (_ref = (_actionConfig$service2 = (_actionConfig$service3 = actionConfig.service_data) === null || _actionConfig$service3 === void 0 ? void 0 : _actionConfig$service3.entity_id) !== null && _actionConfig$service2 !== void 0 ? _actionConfig$service2 : (_actionConfig$data2 = actionConfig.data) === null || _actionConfig$data2 === void 0 ? void 0 : _actionConfig$data2.entity_id) !== null && _ref !== void 0 ? _ref : (_actionConfig$target2 = actionConfig.target) === null || _actionConfig$target2 === void 0 ? void 0 : _actionConfig$target2.entity_id;\n  if (!Array.isArray(entityIds)) {\n    entityIds = [entityIds];\n  }\n  for (const entityId of entityIds) {\n    entities.add(entityId);\n  }\n};\nconst addEntityId = (entities, entity) => {\n  if (typeof entity === \"string\") {\n    entities.add(entity);\n    return;\n  }\n  if (entity.entity) {\n    entities.add(entity.entity);\n  }\n  if (entity.camera_image) {\n    entities.add(entity.camera_image);\n  }\n  if (entity.tap_action) {\n    addFromAction(entities, entity.tap_action);\n  }\n  if (entity.hold_action) {\n    addFromAction(entities, entity.hold_action);\n  }\n};\nconst addEntities = (entities, obj) => {\n  if (obj.entity) {\n    addEntityId(entities, obj.entity);\n  }\n  if (obj.entities && Array.isArray(obj.entities)) {\n    obj.entities.forEach(entity => addEntityId(entities, entity));\n  }\n  if (obj.card) {\n    addEntities(entities, obj.card);\n  }\n  if (obj.cards && Array.isArray(obj.cards)) {\n    obj.cards.forEach(card => addEntities(entities, card));\n  }\n  if (obj.elements && Array.isArray(obj.elements)) {\n    obj.elements.forEach(card => addEntities(entities, card));\n  }\n  if (obj.badges && Array.isArray(obj.badges)) {\n    obj.badges.forEach(badge => addEntityId(entities, badge));\n  }\n};\nconst computeUsedEntities = config => {\n  const entities = new Set();\n  config.views.forEach(view => addEntities(entities, view));\n  return entities;\n};\nconst calcUnusedEntities = (hass, usedEntities) => {\n  const unusedEntities = new Set();\n  for (const entity of Object.keys(hass.states)) {\n    if (!usedEntities.has(entity) && !EXCLUDED_DOMAINS.includes(entity.split(\".\", 1)[0])) {\n      unusedEntities.add(entity);\n    }\n  }\n  return unusedEntities;\n};\nconst computeUnusedEntities = (hass, config) => {\n  const usedEntities = computeUsedEntities(config);\n  const unusedEntities = calcUnusedEntities(hass, usedEntities);\n  return unusedEntities;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NvbW1vbi9jb21wdXRlLXVudXNlZC1lbnRpdGllcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jb21tb24vY29tcHV0ZS11bnVzZWQtZW50aXRpZXMudHM/Y2JkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25Db25maWcsIExvdmVsYWNlQ29uZmlnIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvbG92ZWxhY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IEVYQ0xVREVEX0RPTUFJTlMgPSBbXCJ6b25lXCIsIFwicGVyc2lzdGVudF9ub3RpZmljYXRpb25cIl07XG5cbmNvbnN0IGFkZEZyb21BY3Rpb24gPSAoZW50aXRpZXM6IFNldDxzdHJpbmc+LCBhY3Rpb25Db25maWc6IEFjdGlvbkNvbmZpZykgPT4ge1xuICBpZiAoXG4gICAgYWN0aW9uQ29uZmlnLmFjdGlvbiAhPT0gXCJjYWxsLXNlcnZpY2VcIiB8fFxuICAgICghYWN0aW9uQ29uZmlnLnRhcmdldD8uZW50aXR5X2lkICYmXG4gICAgICAhYWN0aW9uQ29uZmlnLnNlcnZpY2VfZGF0YT8uZW50aXR5X2lkICYmXG4gICAgICAhYWN0aW9uQ29uZmlnLmRhdGE/LmVudGl0eV9pZClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBlbnRpdHlJZHMgPVxuICAgIGFjdGlvbkNvbmZpZy5zZXJ2aWNlX2RhdGE/LmVudGl0eV9pZCA/P1xuICAgIGFjdGlvbkNvbmZpZy5kYXRhPy5lbnRpdHlfaWQgPz9cbiAgICBhY3Rpb25Db25maWcudGFyZ2V0Py5lbnRpdHlfaWQ7XG4gIGlmICghQXJyYXkuaXNBcnJheShlbnRpdHlJZHMpKSB7XG4gICAgZW50aXR5SWRzID0gW2VudGl0eUlkc107XG4gIH1cbiAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiBlbnRpdHlJZHMgYXMgQXJyYXk8c3RyaW5nPikge1xuICAgIGVudGl0aWVzLmFkZChlbnRpdHlJZCk7XG4gIH1cbn07XG5cbmNvbnN0IGFkZEVudGl0eUlkID0gKGVudGl0aWVzOiBTZXQ8c3RyaW5nPiwgZW50aXR5KSA9PiB7XG4gIGlmICh0eXBlb2YgZW50aXR5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgZW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVudGl0eS5lbnRpdHkpIHtcbiAgICBlbnRpdGllcy5hZGQoZW50aXR5LmVudGl0eSk7XG4gIH1cbiAgaWYgKGVudGl0eS5jYW1lcmFfaW1hZ2UpIHtcbiAgICBlbnRpdGllcy5hZGQoZW50aXR5LmNhbWVyYV9pbWFnZSk7XG4gIH1cbiAgaWYgKGVudGl0eS50YXBfYWN0aW9uKSB7XG4gICAgYWRkRnJvbUFjdGlvbihlbnRpdGllcywgZW50aXR5LnRhcF9hY3Rpb24pO1xuICB9XG4gIGlmIChlbnRpdHkuaG9sZF9hY3Rpb24pIHtcbiAgICBhZGRGcm9tQWN0aW9uKGVudGl0aWVzLCBlbnRpdHkuaG9sZF9hY3Rpb24pO1xuICB9XG59O1xuXG5jb25zdCBhZGRFbnRpdGllcyA9IChlbnRpdGllczogU2V0PHN0cmluZz4sIG9iaikgPT4ge1xuICBpZiAob2JqLmVudGl0eSkge1xuICAgIGFkZEVudGl0eUlkKGVudGl0aWVzLCBvYmouZW50aXR5KTtcbiAgfVxuICBpZiAob2JqLmVudGl0aWVzICYmIEFycmF5LmlzQXJyYXkob2JqLmVudGl0aWVzKSkge1xuICAgIG9iai5lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IGFkZEVudGl0eUlkKGVudGl0aWVzLCBlbnRpdHkpKTtcbiAgfVxuICBpZiAob2JqLmNhcmQpIHtcbiAgICBhZGRFbnRpdGllcyhlbnRpdGllcywgb2JqLmNhcmQpO1xuICB9XG4gIGlmIChvYmouY2FyZHMgJiYgQXJyYXkuaXNBcnJheShvYmouY2FyZHMpKSB7XG4gICAgb2JqLmNhcmRzLmZvckVhY2goKGNhcmQpID0+IGFkZEVudGl0aWVzKGVudGl0aWVzLCBjYXJkKSk7XG4gIH1cbiAgaWYgKG9iai5lbGVtZW50cyAmJiBBcnJheS5pc0FycmF5KG9iai5lbGVtZW50cykpIHtcbiAgICBvYmouZWxlbWVudHMuZm9yRWFjaCgoY2FyZCkgPT4gYWRkRW50aXRpZXMoZW50aXRpZXMsIGNhcmQpKTtcbiAgfVxuICBpZiAob2JqLmJhZGdlcyAmJiBBcnJheS5pc0FycmF5KG9iai5iYWRnZXMpKSB7XG4gICAgb2JqLmJhZGdlcy5mb3JFYWNoKChiYWRnZSkgPT4gYWRkRW50aXR5SWQoZW50aXRpZXMsIGJhZGdlKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlVXNlZEVudGl0aWVzID0gKGNvbmZpZzogTG92ZWxhY2VDb25maWcpOiBTZXQ8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IGVudGl0aWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGNvbmZpZy52aWV3cy5mb3JFYWNoKCh2aWV3KSA9PiBhZGRFbnRpdGllcyhlbnRpdGllcywgdmlldykpO1xuICByZXR1cm4gZW50aXRpZXM7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY1VudXNlZEVudGl0aWVzID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICB1c2VkRW50aXRpZXM6IFNldDxzdHJpbmc+XG4pOiBTZXQ8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IHVudXNlZEVudGl0aWVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGNvbnN0IGVudGl0eSBvZiBPYmplY3Qua2V5cyhoYXNzLnN0YXRlcykpIHtcbiAgICBpZiAoXG4gICAgICAhdXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpICYmXG4gICAgICAhRVhDTFVERURfRE9NQUlOUy5pbmNsdWRlcyhlbnRpdHkuc3BsaXQoXCIuXCIsIDEpWzBdKVxuICAgICkge1xuICAgICAgdW51c2VkRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVudXNlZEVudGl0aWVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVVbnVzZWRFbnRpdGllcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgY29uZmlnOiBMb3ZlbGFjZUNvbmZpZ1xuKTogU2V0PHN0cmluZz4gPT4ge1xuICBjb25zdCB1c2VkRW50aXRpZXMgPSBjb21wdXRlVXNlZEVudGl0aWVzKGNvbmZpZyk7XG4gIGNvbnN0IHVudXNlZEVudGl0aWVzID0gY2FsY1VudXNlZEVudGl0aWVzKGhhc3MsIHVzZWRFbnRpdGllcyk7XG4gIHJldHVybiB1bnVzZWRFbnRpdGllcztcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/lovelace/common/compute-unused-entities.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/editor/card-editor/hui-card-picker.ts":
/*!*******************************************************************!*\
  !*** ./src/panels/lovelace/editor/card-editor/hui-card-picker.ts ***!
  \*******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiCardPicker: () => (/* binding */ HuiCardPicker)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_mwc_tab_bar_mwc_tab_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-tab-bar/mwc-tab-bar */ \"./node_modules/@material/mwc-tab-bar/mwc-tab-bar.js\");\n/* harmony import */ var _material_mwc_tab_mwc_tab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-tab/mwc-tab */ \"./node_modules/@material/mwc-tab/mwc-tab.js\");\n/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! fuse.js */ \"./node_modules/fuse.js/dist/fuse.esm.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var lit_directives_until__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lit/directives/until */ \"./node_modules/lit/directives/until.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_search_input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../components/search-input */ \"./src/components/search-input.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_lovelace_custom_cards__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../data/lovelace_custom_cards */ \"./src/data/lovelace_custom_cards.ts\");\n/* harmony import */ var _common_compute_unused_entities__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/compute-unused-entities */ \"./src/panels/lovelace/common/compute-unused-entities.ts\");\n/* harmony import */ var _create_element_create_card_element__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../create-element/create-card-element */ \"./src/panels/lovelace/create-element/create-card-element.ts\");\n/* harmony import */ var _get_card_stub_config__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../get-card-stub-config */ \"./src/panels/lovelace/editor/get-card-stub-config.ts\");\n/* harmony import */ var _lovelace_cards__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lovelace-cards */ \"./src/panels/lovelace/editor/lovelace-cards.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_14__, _get_card_stub_config__WEBPACK_IMPORTED_MODULE_15__]);\n([_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_14__, _get_card_stub_config__WEBPACK_IMPORTED_MODULE_15__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HuiCardPicker = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hui-card-picker\")], function (_initialize, _LitElement) {\n  class HuiCardPicker extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiCardPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_cards\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"lovelace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"cardPicked\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_filter\",\n      value() {\n        return \"\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_width\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_height\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_unusedEntities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_usedEntities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_filterCards\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_17__[\"default\"])((cardElements, filter) => {\n          if (!filter) {\n            return cardElements;\n          }\n          let cards = cardElements.map(cardElement => cardElement.card);\n          const options = {\n            keys: [\"type\", \"name\", \"description\"],\n            isCaseSensitive: false,\n            minMatchCharLength: 2,\n            threshold: 0.2\n          };\n          const fuse = new fuse_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"](cards, options);\n          cards = fuse.search(filter).map(result => result.item);\n          return cardElements.filter(cardElement => cards.includes(cardElement.card));\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass || !this.lovelace || !this._unusedEntities || !this._usedEntities) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <search-input\n        .hass=${this.hass}\n        .filter=${this._filter}\n        @value-changed=${this._handleSearchChange}\n        .label=${this.hass.localize(\"ui.panel.lovelace.editor.edit_card.search_cards\")}\n      ></search-input>\n      <div\n        id=\"content\"\n        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__.styleMap)({\n          width: this._width ? `${this._width}px` : \"auto\",\n          height: this._height ? `${this._height}px` : \"auto\"\n        })}\n      >\n        <div class=\"cards-container\">\n          ${this._filterCards(this._cards, this._filter).map(cardElement => cardElement.element)}\n        </div>\n        <div class=\"cards-container\">\n          <div\n            class=\"card manual\"\n            @click=${this._cardPicked}\n            .config=${{\n          type: \"\"\n        }}\n          >\n            <div class=\"card-header\">\n              ${this.hass.localize(`ui.panel.lovelace.editor.card.generic.manual`)}\n            </div>\n            <div class=\"preview description\">\n              ${this.hass.localize(`ui.panel.lovelace.editor.card.generic.manual_description`)}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        const oldHass = changedProps.get(\"hass\");\n        if (!oldHass) {\n          return true;\n        }\n        if (oldHass.locale !== this.hass.locale) {\n          return true;\n        }\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated() {\n        if (!this.hass || !this.lovelace) {\n          return;\n        }\n        const usedEntities = (0,_common_compute_unused_entities__WEBPACK_IMPORTED_MODULE_13__.computeUsedEntities)(this.lovelace);\n        const unusedEntities = (0,_common_compute_unused_entities__WEBPACK_IMPORTED_MODULE_13__.calcUnusedEntities)(this.hass, usedEntities);\n        this._usedEntities = [...usedEntities].filter(eid => this.hass.states[eid] && !(0,_data_entity__WEBPACK_IMPORTED_MODULE_11__.isUnavailableState)(this.hass.states[eid].state));\n        this._unusedEntities = [...unusedEntities].filter(eid => this.hass.states[eid] && !(0,_data_entity__WEBPACK_IMPORTED_MODULE_11__.isUnavailableState)(this.hass.states[eid].state));\n        this._loadCards();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadCards\",\n      value: function _loadCards() {\n        let cards = _lovelace_cards__WEBPACK_IMPORTED_MODULE_16__.coreCards.map(card => ({\n          name: this.hass.localize(`ui.panel.lovelace.editor.card.${card.type}.name`),\n          description: this.hass.localize(`ui.panel.lovelace.editor.card.${card.type}.description`),\n          ...card\n        }));\n        if (_data_lovelace_custom_cards__WEBPACK_IMPORTED_MODULE_12__.customCards.length > 0) {\n          cards = cards.concat(_data_lovelace_custom_cards__WEBPACK_IMPORTED_MODULE_12__.customCards.map(ccard => ({\n            type: ccard.type,\n            name: ccard.name,\n            description: ccard.description,\n            showElement: ccard.preview,\n            isCustom: true\n          })));\n        }\n        this._cards = cards.map(card => ({\n          card: card,\n          element: lit__WEBPACK_IMPORTED_MODULE_3__.html`${(0,lit_directives_until__WEBPACK_IMPORTED_MODULE_7__.until)(this._renderCardElement(card), lit__WEBPACK_IMPORTED_MODULE_3__.html`\n          <div class=\"card spinner\">\n            <ha-circular-progress active alt=\"Loading\"></ha-circular-progress>\n          </div>\n        `)}`\n        }));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleSearchChange\",\n      value: function _handleSearchChange(ev) {\n        const value = ev.detail.value;\n        if (!value) {\n          // Reset when we no longer filter\n          this._width = undefined;\n          this._height = undefined;\n        } else if (!this._width || !this._height) {\n          // Save height and width so the dialog doesn't jump while searching\n          const div = this.shadowRoot.getElementById(\"content\");\n          if (div && !this._width) {\n            const width = div.clientWidth;\n            if (width) {\n              this._width = width;\n            }\n          }\n          if (div && !this._height) {\n            const height = div.clientHeight;\n            if (height) {\n              this._height = height;\n            }\n          }\n        }\n        this._filter = value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_cardPicked\",\n      value: function _cardPicked(ev) {\n        const config = ev.currentTarget.config;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"config-changed\", {\n          config\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_tryCreateCardElement\",\n      value: function _tryCreateCardElement(cardConfig) {\n        const element = (0,_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_14__.tryCreateCardElement)(cardConfig);\n        element.hass = this.hass;\n        element.addEventListener(\"ll-rebuild\", ev => {\n          ev.stopPropagation();\n          this._rebuildCard(element, cardConfig);\n        }, {\n          once: true\n        });\n        return element;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_rebuildCard\",\n      value: function _rebuildCard(cardElToReplace, config) {\n        let newCardEl;\n        try {\n          newCardEl = this._tryCreateCardElement(config);\n        } catch (err) {\n          return;\n        }\n        if (cardElToReplace.parentElement) {\n          cardElToReplace.parentElement.replaceChild(newCardEl, cardElToReplace);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderCardElement\",\n      value: async function _renderCardElement(card) {\n        let {\n          type\n        } = card;\n        const {\n          showElement,\n          isCustom,\n          name,\n          description\n        } = card;\n        const customCard = isCustom ? (0,_data_lovelace_custom_cards__WEBPACK_IMPORTED_MODULE_12__.getCustomCardEntry)(type) : undefined;\n        if (isCustom) {\n          type = `${_data_lovelace_custom_cards__WEBPACK_IMPORTED_MODULE_12__.CUSTOM_TYPE_PREFIX}${type}`;\n        }\n        let element;\n        let cardConfig = {\n          type\n        };\n        if (this.hass && this.lovelace) {\n          cardConfig = await (0,_get_card_stub_config__WEBPACK_IMPORTED_MODULE_15__.getCardStubConfig)(this.hass, type, this._unusedEntities, this._usedEntities);\n          if (showElement) {\n            try {\n              element = this._tryCreateCardElement(cardConfig);\n            } catch (err) {\n              element = undefined;\n            }\n          }\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <div class=\"card\">\n        <div\n          class=\"overlay\"\n          @click=${this._cardPicked}\n          .config=${cardConfig}\n        ></div>\n        <div class=\"card-header\">\n          ${customCard ? `${this.hass.localize(\"ui.panel.lovelace.editor.cardpicker.custom_card\")}: ${customCard.name || customCard.type}` : name}\n        </div>\n        <div\n          class=\"preview ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          description: !element || element.tagName === \"HUI-ERROR-CARD\"\n        })}\"\n        >\n          ${element && element.tagName !== \"HUI-ERROR-CARD\" ? element : customCard ? customCard.description || this.hass.localize(`ui.panel.lovelace.editor.cardpicker.no_description`) : description}\n        </div>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [lit__WEBPACK_IMPORTED_MODULE_3__.css`\n        search-input {\n          display: block;\n          --mdc-shape-small: var(--card-picker-search-shape);\n          margin: var(--card-picker-search-margin);\n        }\n\n        .cards-container {\n          display: grid;\n          grid-gap: 8px 8px;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          margin-top: 20px;\n        }\n\n        .card {\n          height: 100%;\n          max-width: 500px;\n          display: flex;\n          flex-direction: column;\n          border-radius: var(--ha-card-border-radius, 12px);\n          background: var(--primary-background-color, #fafafa);\n          cursor: pointer;\n          position: relative;\n        }\n\n        .card-header {\n          color: var(--ha-card-header-color, --primary-text-color);\n          font-family: var(--ha-card-header-font-family, inherit);\n          font-size: 16px;\n          font-weight: bold;\n          letter-spacing: -0.012em;\n          line-height: 20px;\n          padding: 12px 16px;\n          display: block;\n          text-align: center;\n          background: var(\n            --ha-card-background,\n            var(--card-background-color, white)\n          );\n          border-bottom: 1px solid var(--divider-color);\n        }\n\n        .preview {\n          pointer-events: none;\n          margin: 20px;\n          flex-grow: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .preview > :first-child {\n          zoom: 0.6;\n          display: block;\n          width: 100%;\n        }\n\n        .description {\n          text-align: center;\n        }\n\n        .spinner {\n          align-items: center;\n          justify-content: center;\n        }\n\n        .overlay {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          z-index: 1;\n          box-sizing: border-box;\n          border: var(--ha-card-border-width, 1px) solid\n            var(--ha-card-border-color, var(--divider-color));\n          border-radius: var(--ha-card-border-radius, 12px);\n        }\n\n        .manual {\n          max-width: none;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9jYXJkLWVkaXRvci9odWktY2FyZC1waWNrZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQU9BO0FBSUE7QUFFQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBbVhBO0FBQUE7QUFBQTtBQW5YQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9jYXJkLWVkaXRvci9odWktY2FyZC1waWNrZXIudHM/NTE4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLXRhYi1iYXIvbXdjLXRhYi1iYXJcIjtcbmltcG9ydCBcIkBtYXRlcmlhbC9td2MtdGFiL213Yy10YWJcIjtcbmltcG9ydCBGdXNlIGZyb20gXCJmdXNlLmpzXCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBQcm9wZXJ0eVZhbHVlcyxcbiAgVGVtcGxhdGVSZXN1bHQsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBzdHlsZU1hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9zdHlsZS1tYXBcIjtcbmltcG9ydCB7IHVudGlsIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3VudGlsXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2lyY3VsYXItcHJvZ3Jlc3NcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvc2VhcmNoLWlucHV0XCI7XG5pbXBvcnQgeyBpc1VuYXZhaWxhYmxlU3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9lbnRpdHlcIjtcbmltcG9ydCB0eXBlIHtcbiAgTG92ZWxhY2VDYXJkQ29uZmlnLFxuICBMb3ZlbGFjZUNvbmZpZyxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvbG92ZWxhY2VcIjtcbmltcG9ydCB7XG4gIEN1c3RvbUNhcmRFbnRyeSxcbiAgY3VzdG9tQ2FyZHMsXG4gIENVU1RPTV9UWVBFX1BSRUZJWCxcbiAgZ2V0Q3VzdG9tQ2FyZEVudHJ5LFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9sb3ZlbGFjZV9jdXN0b21fY2FyZHNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgY2FsY1VudXNlZEVudGl0aWVzLFxuICBjb21wdXRlVXNlZEVudGl0aWVzLFxufSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbXB1dGUtdW51c2VkLWVudGl0aWVzXCI7XG5pbXBvcnQgeyB0cnlDcmVhdGVDYXJkRWxlbWVudCB9IGZyb20gXCIuLi8uLi9jcmVhdGUtZWxlbWVudC9jcmVhdGUtY2FyZC1lbGVtZW50XCI7XG5pbXBvcnQgdHlwZSB7IExvdmVsYWNlQ2FyZCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0Q2FyZFN0dWJDb25maWcgfSBmcm9tIFwiLi4vZ2V0LWNhcmQtc3R1Yi1jb25maWdcIjtcbmltcG9ydCB7IGNvcmVDYXJkcyB9IGZyb20gXCIuLi9sb3ZlbGFjZS1jYXJkc1wiO1xuaW1wb3J0IHR5cGUgeyBDYXJkLCBDYXJkUGlja1RhcmdldCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5pbnRlcmZhY2UgQ2FyZEVsZW1lbnQge1xuICBjYXJkOiBDYXJkO1xuICBlbGVtZW50OiBUZW1wbGF0ZVJlc3VsdDtcbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJodWktY2FyZC1waWNrZXJcIilcbmV4cG9ydCBjbGFzcyBIdWlDYXJkUGlja2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3M/OiBIb21lQXNzaXN0YW50O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NhcmRzOiBDYXJkRWxlbWVudFtdID0gW107XG5cbiAgcHVibGljIGxvdmVsYWNlPzogTG92ZWxhY2VDb25maWc7XG5cbiAgcHVibGljIGNhcmRQaWNrZWQ/OiAoY2FyZENvbmY6IExvdmVsYWNlQ2FyZENvbmZpZykgPT4gdm9pZDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9maWx0ZXIgPSBcIlwiO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3dpZHRoPzogbnVtYmVyO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2hlaWdodD86IG51bWJlcjtcblxuICBwcml2YXRlIF91bnVzZWRFbnRpdGllcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgX3VzZWRFbnRpdGllcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgX2ZpbHRlckNhcmRzID0gbWVtb2l6ZU9uZShcbiAgICAoY2FyZEVsZW1lbnRzOiBDYXJkRWxlbWVudFtdLCBmaWx0ZXI/OiBzdHJpbmcpOiBDYXJkRWxlbWVudFtdID0+IHtcbiAgICAgIGlmICghZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudHM7XG4gICAgICB9XG4gICAgICBsZXQgY2FyZHMgPSBjYXJkRWxlbWVudHMubWFwKFxuICAgICAgICAoY2FyZEVsZW1lbnQ6IENhcmRFbGVtZW50KSA9PiBjYXJkRWxlbWVudC5jYXJkXG4gICAgICApO1xuICAgICAgY29uc3Qgb3B0aW9uczogRnVzZS5JRnVzZU9wdGlvbnM8Q2FyZD4gPSB7XG4gICAgICAgIGtleXM6IFtcInR5cGVcIiwgXCJuYW1lXCIsIFwiZGVzY3JpcHRpb25cIl0sXG4gICAgICAgIGlzQ2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gICAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogMixcbiAgICAgICAgdGhyZXNob2xkOiAwLjIsXG4gICAgICB9O1xuICAgICAgY29uc3QgZnVzZSA9IG5ldyBGdXNlKGNhcmRzLCBvcHRpb25zKTtcbiAgICAgIGNhcmRzID0gZnVzZS5zZWFyY2goZmlsdGVyKS5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0Lml0ZW0pO1xuICAgICAgcmV0dXJuIGNhcmRFbGVtZW50cy5maWx0ZXIoKGNhcmRFbGVtZW50OiBDYXJkRWxlbWVudCkgPT5cbiAgICAgICAgY2FyZHMuaW5jbHVkZXMoY2FyZEVsZW1lbnQuY2FyZClcbiAgICAgICk7XG4gICAgfVxuICApO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaGFzcyB8fFxuICAgICAgIXRoaXMubG92ZWxhY2UgfHxcbiAgICAgICF0aGlzLl91bnVzZWRFbnRpdGllcyB8fFxuICAgICAgIXRoaXMuX3VzZWRFbnRpdGllc1xuICAgICkge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c2VhcmNoLWlucHV0XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZmlsdGVyPSR7dGhpcy5fZmlsdGVyfVxuICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2hhbmRsZVNlYXJjaENoYW5nZX1cbiAgICAgICAgLmxhYmVsPSR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmVkaXRfY2FyZC5zZWFyY2hfY2FyZHNcIlxuICAgICAgICApfVxuICAgICAgPjwvc2VhcmNoLWlucHV0PlxuICAgICAgPGRpdlxuICAgICAgICBpZD1cImNvbnRlbnRcIlxuICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICB3aWR0aDogdGhpcy5fd2lkdGggPyBgJHt0aGlzLl93aWR0aH1weGAgOiBcImF1dG9cIixcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuX2hlaWdodCA/IGAke3RoaXMuX2hlaWdodH1weGAgOiBcImF1dG9cIixcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkcy1jb250YWluZXJcIj5cbiAgICAgICAgICAke3RoaXMuX2ZpbHRlckNhcmRzKHRoaXMuX2NhcmRzLCB0aGlzLl9maWx0ZXIpLm1hcChcbiAgICAgICAgICAgIChjYXJkRWxlbWVudDogQ2FyZEVsZW1lbnQpID0+IGNhcmRFbGVtZW50LmVsZW1lbnRcbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRzLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzPVwiY2FyZCBtYW51YWxcIlxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fY2FyZFBpY2tlZH1cbiAgICAgICAgICAgIC5jb25maWc9JHt7IHR5cGU6IFwiXCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIGB1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IuY2FyZC5nZW5lcmljLm1hbnVhbGBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXcgZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIGB1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IuY2FyZC5nZW5lcmljLm1hbnVhbF9kZXNjcmlwdGlvbmBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICBjb25zdCBvbGRIYXNzID0gY2hhbmdlZFByb3BzLmdldChcImhhc3NcIikgYXMgSG9tZUFzc2lzdGFudCB8IHVuZGVmaW5lZDtcbiAgICBpZiAoIW9sZEhhc3MpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvbGRIYXNzLmxvY2FsZSAhPT0gdGhpcy5oYXNzIS5sb2NhbGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmhhc3MgfHwgIXRoaXMubG92ZWxhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VkRW50aXRpZXMgPSBjb21wdXRlVXNlZEVudGl0aWVzKHRoaXMubG92ZWxhY2UpO1xuICAgIGNvbnN0IHVudXNlZEVudGl0aWVzID0gY2FsY1VudXNlZEVudGl0aWVzKHRoaXMuaGFzcywgdXNlZEVudGl0aWVzKTtcblxuICAgIHRoaXMuX3VzZWRFbnRpdGllcyA9IFsuLi51c2VkRW50aXRpZXNdLmZpbHRlcihcbiAgICAgIChlaWQpID0+XG4gICAgICAgIHRoaXMuaGFzcyEuc3RhdGVzW2VpZF0gJiZcbiAgICAgICAgIWlzVW5hdmFpbGFibGVTdGF0ZSh0aGlzLmhhc3MhLnN0YXRlc1tlaWRdLnN0YXRlKVxuICAgICk7XG4gICAgdGhpcy5fdW51c2VkRW50aXRpZXMgPSBbLi4udW51c2VkRW50aXRpZXNdLmZpbHRlcihcbiAgICAgIChlaWQpID0+XG4gICAgICAgIHRoaXMuaGFzcyEuc3RhdGVzW2VpZF0gJiZcbiAgICAgICAgIWlzVW5hdmFpbGFibGVTdGF0ZSh0aGlzLmhhc3MhLnN0YXRlc1tlaWRdLnN0YXRlKVxuICAgICk7XG5cbiAgICB0aGlzLl9sb2FkQ2FyZHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2xvYWRDYXJkcygpIHtcbiAgICBsZXQgY2FyZHM6IENhcmRbXSA9IGNvcmVDYXJkcy5tYXAoKGNhcmQ6IENhcmQpID0+ICh7XG4gICAgICBuYW1lOiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICBgdWkucGFuZWwubG92ZWxhY2UuZWRpdG9yLmNhcmQuJHtjYXJkLnR5cGV9Lm5hbWVgXG4gICAgICApLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgIGB1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IuY2FyZC4ke2NhcmQudHlwZX0uZGVzY3JpcHRpb25gXG4gICAgICApLFxuICAgICAgLi4uY2FyZCxcbiAgICB9KSk7XG4gICAgaWYgKGN1c3RvbUNhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNhcmRzID0gY2FyZHMuY29uY2F0KFxuICAgICAgICBjdXN0b21DYXJkcy5tYXAoKGNjYXJkOiBDdXN0b21DYXJkRW50cnkpID0+ICh7XG4gICAgICAgICAgdHlwZTogY2NhcmQudHlwZSxcbiAgICAgICAgICBuYW1lOiBjY2FyZC5uYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBjY2FyZC5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzaG93RWxlbWVudDogY2NhcmQucHJldmlldyxcbiAgICAgICAgICBpc0N1c3RvbTogdHJ1ZSxcbiAgICAgICAgfSkpXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9jYXJkcyA9IGNhcmRzLm1hcCgoY2FyZDogQ2FyZCkgPT4gKHtcbiAgICAgIGNhcmQ6IGNhcmQsXG4gICAgICBlbGVtZW50OiBodG1sYCR7dW50aWwoXG4gICAgICAgIHRoaXMuX3JlbmRlckNhcmRFbGVtZW50KGNhcmQpLFxuICAgICAgICBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIHNwaW5uZXJcIj5cbiAgICAgICAgICAgIDxoYS1jaXJjdWxhci1wcm9ncmVzcyBhY3RpdmUgYWx0PVwiTG9hZGluZ1wiPjwvaGEtY2lyY3VsYXItcHJvZ3Jlc3M+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICl9YCxcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVTZWFyY2hDaGFuZ2UoZXY6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3QgdmFsdWUgPSBldi5kZXRhaWwudmFsdWU7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAvLyBSZXNldCB3aGVuIHdlIG5vIGxvbmdlciBmaWx0ZXJcbiAgICAgIHRoaXMuX3dpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5faGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuX3dpZHRoIHx8ICF0aGlzLl9oZWlnaHQpIHtcbiAgICAgIC8vIFNhdmUgaGVpZ2h0IGFuZCB3aWR0aCBzbyB0aGUgZGlhbG9nIGRvZXNuJ3QganVtcCB3aGlsZSBzZWFyY2hpbmdcbiAgICAgIGNvbnN0IGRpdiA9IHRoaXMuc2hhZG93Um9vdCEuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgICAgaWYgKGRpdiAmJiAhdGhpcy5fd2lkdGgpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBkaXYuY2xpZW50V2lkdGg7XG4gICAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaXYgJiYgIXRoaXMuX2hlaWdodCkge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkaXYuY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fZmlsdGVyID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9jYXJkUGlja2VkKGV2OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmZpZzogTG92ZWxhY2VDYXJkQ29uZmlnID0gKGV2LmN1cnJlbnRUYXJnZXQhIGFzIENhcmRQaWNrVGFyZ2V0KVxuICAgICAgLmNvbmZpZztcblxuICAgIGZpcmVFdmVudCh0aGlzLCBcImNvbmZpZy1jaGFuZ2VkXCIsIHsgY29uZmlnIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfdHJ5Q3JlYXRlQ2FyZEVsZW1lbnQoY2FyZENvbmZpZzogTG92ZWxhY2VDYXJkQ29uZmlnKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRyeUNyZWF0ZUNhcmRFbGVtZW50KGNhcmRDb25maWcpIGFzIExvdmVsYWNlQ2FyZDtcbiAgICBlbGVtZW50Lmhhc3MgPSB0aGlzLmhhc3M7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJsbC1yZWJ1aWxkXCIsXG4gICAgICAoZXYpID0+IHtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuX3JlYnVpbGRDYXJkKGVsZW1lbnQsIGNhcmRDb25maWcpO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlYnVpbGRDYXJkKFxuICAgIGNhcmRFbFRvUmVwbGFjZTogTG92ZWxhY2VDYXJkLFxuICAgIGNvbmZpZzogTG92ZWxhY2VDYXJkQ29uZmlnXG4gICk6IHZvaWQge1xuICAgIGxldCBuZXdDYXJkRWw6IExvdmVsYWNlQ2FyZDtcbiAgICB0cnkge1xuICAgICAgbmV3Q2FyZEVsID0gdGhpcy5fdHJ5Q3JlYXRlQ2FyZEVsZW1lbnQoY29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FyZEVsVG9SZXBsYWNlLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIGNhcmRFbFRvUmVwbGFjZS5wYXJlbnRFbGVtZW50IS5yZXBsYWNlQ2hpbGQobmV3Q2FyZEVsLCBjYXJkRWxUb1JlcGxhY2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3JlbmRlckNhcmRFbGVtZW50KGNhcmQ6IENhcmQpOiBQcm9taXNlPFRlbXBsYXRlUmVzdWx0PiB7XG4gICAgbGV0IHsgdHlwZSB9ID0gY2FyZDtcbiAgICBjb25zdCB7IHNob3dFbGVtZW50LCBpc0N1c3RvbSwgbmFtZSwgZGVzY3JpcHRpb24gfSA9IGNhcmQ7XG4gICAgY29uc3QgY3VzdG9tQ2FyZCA9IGlzQ3VzdG9tID8gZ2V0Q3VzdG9tQ2FyZEVudHJ5KHR5cGUpIDogdW5kZWZpbmVkO1xuICAgIGlmIChpc0N1c3RvbSkge1xuICAgICAgdHlwZSA9IGAke0NVU1RPTV9UWVBFX1BSRUZJWH0ke3R5cGV9YDtcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudDogTG92ZWxhY2VDYXJkIHwgdW5kZWZpbmVkO1xuICAgIGxldCBjYXJkQ29uZmlnOiBMb3ZlbGFjZUNhcmRDb25maWcgPSB7IHR5cGUgfTtcblxuICAgIGlmICh0aGlzLmhhc3MgJiYgdGhpcy5sb3ZlbGFjZSkge1xuICAgICAgY2FyZENvbmZpZyA9IGF3YWl0IGdldENhcmRTdHViQ29uZmlnKFxuICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRoaXMuX3VudXNlZEVudGl0aWVzISxcbiAgICAgICAgdGhpcy5fdXNlZEVudGl0aWVzIVxuICAgICAgKTtcblxuICAgICAgaWYgKHNob3dFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWxlbWVudCA9IHRoaXMuX3RyeUNyZWF0ZUNhcmRFbGVtZW50KGNhcmRDb25maWcpO1xuICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICAgIGVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cIm92ZXJsYXlcIlxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX2NhcmRQaWNrZWR9XG4gICAgICAgICAgLmNvbmZpZz0ke2NhcmRDb25maWd9XG4gICAgICAgID48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgJHtjdXN0b21DYXJkXG4gICAgICAgICAgICA/IGAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5lZGl0b3IuY2FyZHBpY2tlci5jdXN0b21fY2FyZFwiXG4gICAgICAgICAgICAgICl9OiAke2N1c3RvbUNhcmQubmFtZSB8fCBjdXN0b21DYXJkLnR5cGV9YFxuICAgICAgICAgICAgOiBuYW1lfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwicHJldmlldyAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAhZWxlbWVudCB8fCBlbGVtZW50LnRhZ05hbWUgPT09IFwiSFVJLUVSUk9SLUNBUkRcIixcbiAgICAgICAgICB9KX1cIlxuICAgICAgICA+XG4gICAgICAgICAgJHtlbGVtZW50ICYmIGVsZW1lbnQudGFnTmFtZSAhPT0gXCJIVUktRVJST1ItQ0FSRFwiXG4gICAgICAgICAgICA/IGVsZW1lbnRcbiAgICAgICAgICAgIDogY3VzdG9tQ2FyZFxuICAgICAgICAgICAgPyBjdXN0b21DYXJkLmRlc2NyaXB0aW9uIHx8XG4gICAgICAgICAgICAgIHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgYHVpLnBhbmVsLmxvdmVsYWNlLmVkaXRvci5jYXJkcGlja2VyLm5vX2Rlc2NyaXB0aW9uYFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IGRlc2NyaXB0aW9ufVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2BcbiAgICAgICAgc2VhcmNoLWlucHV0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAtLW1kYy1zaGFwZS1zbWFsbDogdmFyKC0tY2FyZC1waWNrZXItc2VhcmNoLXNoYXBlKTtcbiAgICAgICAgICBtYXJnaW46IHZhcigtLWNhcmQtcGlja2VyLXNlYXJjaC1tYXJnaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmRzLWNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLWdhcDogOHB4IDhweDtcbiAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4O1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1oYS1jYXJkLWJvcmRlci1yYWRpdXMsIDEycHgpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvciwgI2ZhZmFmYSk7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jYXJkLWhlYWRlciB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWhhLWNhcmQtaGVhZGVyLWNvbG9yLCAtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWhhLWNhcmQtaGVhZGVyLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAxMmVtO1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKFxuICAgICAgICAgICAgLS1oYS1jYXJkLWJhY2tncm91bmQsXG4gICAgICAgICAgICB2YXIoLS1jYXJkLWJhY2tncm91bmQtY29sb3IsIHdoaXRlKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWRpdmlkZXItY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLnByZXZpZXcge1xuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgIG1hcmdpbjogMjBweDtcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLnByZXZpZXcgPiA6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgIHpvb206IDAuNjtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNwaW5uZXIge1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAub3ZlcmxheSB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgYm9yZGVyOiB2YXIoLS1oYS1jYXJkLWJvcmRlci13aWR0aCwgMXB4KSBzb2xpZFxuICAgICAgICAgICAgdmFyKC0taGEtY2FyZC1ib3JkZXItY29sb3IsIHZhcigtLWRpdmlkZXItY29sb3IpKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1oYS1jYXJkLWJvcmRlci1yYWRpdXMsIDEycHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLm1hbnVhbCB7XG4gICAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImh1aS1jYXJkLXBpY2tlclwiOiBIdWlDYXJkUGlja2VyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/lovelace/editor/card-editor/hui-card-picker.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/editor/get-card-stub-config.ts":
/*!************************************************************!*\
  !*** ./src/panels/lovelace/editor/get-card-stub-config.ts ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCardStubConfig: () => (/* binding */ getCardStubConfig)\n/* harmony export */ });\n/* harmony import */ var _create_element_create_card_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../create-element/create-card-element */ \"./src/panels/lovelace/create-element/create-card-element.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_0__]);\n_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst getCardStubConfig = async (hass, type, entities, entitiesFallback) => {\n  let cardConfig = {\n    type\n  };\n  const elClass = await (0,_create_element_create_card_element__WEBPACK_IMPORTED_MODULE_0__.getCardElementClass)(type);\n  if (elClass && elClass.getStubConfig) {\n    const classStubConfig = await elClass.getStubConfig(hass, entities, entitiesFallback);\n    cardConfig = {\n      ...cardConfig,\n      ...classStubConfig\n    };\n  }\n  return cardConfig;\n};\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9nZXQtY2FyZC1zdHViLWNvbmZpZy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBO0FBRUE7QUFNQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9lZGl0b3IvZ2V0LWNhcmQtc3R1Yi1jb25maWcudHM/MWRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb3ZlbGFjZUNhcmRDb25maWcgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9sb3ZlbGFjZVwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0Q2FyZEVsZW1lbnRDbGFzcyB9IGZyb20gXCIuLi9jcmVhdGUtZWxlbWVudC9jcmVhdGUtY2FyZC1lbGVtZW50XCI7XG5cbmV4cG9ydCBjb25zdCBnZXRDYXJkU3R1YkNvbmZpZyA9IGFzeW5jIChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgdHlwZTogc3RyaW5nLFxuICBlbnRpdGllczogc3RyaW5nW10sXG4gIGVudGl0aWVzRmFsbGJhY2s6IHN0cmluZ1tdXG4pOiBQcm9taXNlPExvdmVsYWNlQ2FyZENvbmZpZz4gPT4ge1xuICBsZXQgY2FyZENvbmZpZzogTG92ZWxhY2VDYXJkQ29uZmlnID0geyB0eXBlIH07XG5cbiAgY29uc3QgZWxDbGFzcyA9IGF3YWl0IGdldENhcmRFbGVtZW50Q2xhc3ModHlwZSk7XG5cbiAgaWYgKGVsQ2xhc3MgJiYgZWxDbGFzcy5nZXRTdHViQ29uZmlnKSB7XG4gICAgY29uc3QgY2xhc3NTdHViQ29uZmlnID0gYXdhaXQgZWxDbGFzcy5nZXRTdHViQ29uZmlnKFxuICAgICAgaGFzcyxcbiAgICAgIGVudGl0aWVzLFxuICAgICAgZW50aXRpZXNGYWxsYmFja1xuICAgICk7XG5cbiAgICBjYXJkQ29uZmlnID0geyAuLi5jYXJkQ29uZmlnLCAuLi5jbGFzc1N0dWJDb25maWcgfTtcbiAgfVxuXG4gIHJldHVybiBjYXJkQ29uZmlnO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/editor/get-card-stub-config.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/editor/lovelace-cards.ts":
/*!******************************************************!*\
  !*** ./src/panels/lovelace/editor/lovelace-cards.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coreCards: () => (/* binding */ coreCards)\n/* harmony export */ });\nconst coreCards = [{\n  type: \"alarm-panel\",\n  showElement: true\n}, {\n  type: \"button\",\n  showElement: true\n}, {\n  type: \"calendar\",\n  showElement: true\n}, {\n  type: \"entities\",\n  showElement: true\n}, {\n  type: \"entity\",\n  showElement: true\n}, {\n  type: \"gauge\",\n  showElement: true\n}, {\n  type: \"glance\",\n  showElement: true\n}, {\n  type: \"history-graph\",\n  showElement: true\n}, {\n  type: \"statistics-graph\",\n  showElement: false\n}, {\n  type: \"statistic\",\n  showElement: true\n}, {\n  type: \"humidifier\",\n  showElement: true\n}, {\n  type: \"light\",\n  showElement: true\n}, {\n  type: \"map\",\n  showElement: true\n}, {\n  type: \"markdown\",\n  showElement: true\n}, {\n  type: \"media-control\",\n  showElement: true\n}, {\n  type: \"picture\",\n  showElement: true\n}, {\n  type: \"picture-elements\",\n  showElement: true\n}, {\n  type: \"picture-entity\",\n  showElement: true\n}, {\n  type: \"picture-glance\",\n  showElement: true\n}, {\n  type: \"plant-status\",\n  showElement: true\n}, {\n  type: \"sensor\",\n  showElement: true\n}, {\n  type: \"thermostat\",\n  showElement: true\n}, {\n  type: \"weather-forecast\",\n  showElement: true\n}, {\n  type: \"area\",\n  showElement: true\n}, {\n  type: \"tile\",\n  showElement: true\n}, {\n  type: \"conditional\"\n}, {\n  type: \"entity-filter\"\n}, {\n  type: \"grid\"\n}, {\n  type: \"horizontal-stack\"\n}, {\n  type: \"iframe\"\n}, {\n  type: \"logbook\"\n}, {\n  type: \"vertical-stack\"\n}, {\n  type: \"shopping-list\"\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2VkaXRvci9sb3ZlbGFjZS1jYXJkcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9lZGl0b3IvbG92ZWxhY2UtY2FyZHMudHM/MDNlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNvcmVDYXJkczogQ2FyZFtdID0gW1xuICB7XG4gICAgdHlwZTogXCJhbGFybS1wYW5lbFwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiY2FsZW5kYXJcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiZW50aXRpZXNcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcImdhdWdlXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcImdsYW5jZVwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJoaXN0b3J5LWdyYXBoXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInN0YXRpc3RpY3MtZ3JhcGhcIixcbiAgICBzaG93RWxlbWVudDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInN0YXRpc3RpY1wiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJodW1pZGlmaWVyXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcImxpZ2h0XCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcIm1hcFwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJtYXJrZG93blwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJtZWRpYS1jb250cm9sXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInBpY3R1cmVcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwicGljdHVyZS1lbGVtZW50c1wiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJwaWN0dXJlLWVudGl0eVwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJwaWN0dXJlLWdsYW5jZVwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJwbGFudC1zdGF0dXNcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwic2Vuc29yXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInRoZXJtb3N0YXRcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwid2VhdGhlci1mb3JlY2FzdFwiLFxuICAgIHNob3dFbGVtZW50OiB0cnVlLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJhcmVhXCIsXG4gICAgc2hvd0VsZW1lbnQ6IHRydWUsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcInRpbGVcIixcbiAgICBzaG93RWxlbWVudDogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiY29uZGl0aW9uYWxcIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiZW50aXR5LWZpbHRlclwiLFxuICB9LFxuICB7XG4gICAgdHlwZTogXCJncmlkXCIsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcImhvcml6b250YWwtc3RhY2tcIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwiaWZyYW1lXCIsXG4gIH0sXG4gIHtcbiAgICB0eXBlOiBcImxvZ2Jvb2tcIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwidmVydGljYWwtc3RhY2tcIixcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwic2hvcHBpbmctbGlzdFwiLFxuICB9LFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/editor/lovelace-cards.ts\n");

/***/ })

}]);